<html data-theme-variant="Your Side of the Moon" lang=en><head><meta charset=utf-8><title>Moondust Theme</title><meta content="width=device-width,initial-scale=1" name=viewport><meta content=same-origin name=view-transition><meta content="Handcrafted theme for those who have not found syntax highlighting useful for themself" name=description><meta content="Eleventy v3.0.0" name=generator><meta content=#24292D name=theme-color><meta content=website property=og:type><meta content="Moondust Theme" property=og:title><meta content="Handcrafted theme for those who have not found syntax highlighting useful for themself" property=og:description><meta content=https://moodustthe.me/ property=og:url><link href=/favicon.ico rel=icon sizes=any><link href=/favicon.svg rel=icon type=image/svg+xml><link href=/favicon.png rel=apple-touch-icon><link href=https://moodustthe.me/ rel=canonical><link href=https://vanyauhalin.me/ rel=me><link href=/Questrial-Regular.woff2 rel=preload type=font/woff2 as=font crossorigin=""><style>@font-face{font-display:swap;font-family:Questrial;font-style:normal;font-weight:400;src:url(/Questrial-Regular.woff2)format("woff2")}@font-face{ascent-override:81.77%;descent-override:20.94%;font-family:Questrial Fallback;font-style:normal;font-weight:400;line-gap-override:0.0%;size-adjust:100.28%;src:local(Arial)}:root{--monospace:ui-monospace,monospace;--sans-serif:system-ui,sans-serif;--font-family-brand:Questrial,"Questrial Fallback",var(--sans-serif);--font-family-body:var(--sans-serif);--font-family-code:var(--monospace);--font-size-brand:24px;--font-size-body:16px;--font-size-caption:14px;--font-size-code:14px;--font-weight-body:400;--line-height-body:1.5}@media (prefers-color-scheme:light){[data-theme-variant="Your Side of the Moon"]{--lightningcss-light:initial;--lightningcss-dark: ;color-scheme:light;--color-white:#fff;--color-gray-0:#f6f7f8;--color-gray-2:#d7dcdf;--color-gray-4:#8e979f;--color-gray-5:#71787f;--color-gray-7:#434a51;--color-blue-5:#3882c2;--color-blue-7:#144b7b;--color-foreground:var(--color-gray-7);--color-outline:var(--color-blue-5);--color-editor-background:var(--color-white);--color-sidebar-background:var(--color-gray-0);--color-marker-background:var(--color-gray-4);--color-whitespace-foreground:var(--color-gray-2);--color-c0:var(--color-gray-4);--color-p0:var(--color-gray-5);--color-p1:var(--color-gray-7);--color-s0:var(--color-blue-5);--color-s1:var(--color-blue-7)}}@media (prefers-color-scheme:dark){[data-theme-variant="Your Side of the Moon"]{--lightningcss-light: ;--lightningcss-dark:initial;color-scheme:dark;--color-black:#161a1d;--color-gray-1:#b1b6b9;--color-gray-2:#89949a;--color-gray-3:#637179;--color-gray-4:#455259;--color-gray-5:#343f46;--color-gray-9:#1e2225;--color-slate-1:#8fafcc;--color-slate-2:#6885a1;--color-blue-4:#235d9f;--color-foreground:var(--color-gray-1);--color-outline:var(--color-blue-4);--color-editor-background:var(--color-black);--color-sidebar-background:var(--color-gray-9);--color-marker-background:var(--color-gray-4);--color-whitespace-foreground:var(--color-gray-5);--color-c0:var(--color-gray-3);--color-p0:var(--color-gray-2);--color-p1:var(--color-gray-1);--color-s0:var(--color-slate-2);--color-s1:var(--color-slate-1)}}[data-theme-variant="Near Side of the Moon"]{--lightningcss-light:initial;--lightningcss-dark: ;color-scheme:light;--color-white:#fff;--color-gray-0:#f6f7f8;--color-gray-2:#d7dcdf;--color-gray-4:#8e979f;--color-gray-5:#71787f;--color-gray-7:#434a51;--color-blue-5:#3882c2;--color-blue-7:#144b7b;--color-foreground:var(--color-gray-7);--color-outline:var(--color-blue-5);--color-editor-background:var(--color-white);--color-sidebar-background:var(--color-gray-0);--color-marker-background:var(--color-gray-4);--color-whitespace-foreground:var(--color-gray-2);--color-c0:var(--color-gray-4);--color-p0:var(--color-gray-5);--color-p1:var(--color-gray-7);--color-s0:var(--color-blue-5);--color-s1:var(--color-blue-7)}[data-theme-variant="Far Side of the Moon"]{--lightningcss-light: ;--lightningcss-dark:initial;color-scheme:dark;--color-black:#161a1d;--color-gray-1:#b1b6b9;--color-gray-2:#89949a;--color-gray-3:#637179;--color-gray-4:#455259;--color-gray-5:#343f46;--color-gray-9:#1e2225;--color-slate-1:#8fafcc;--color-slate-2:#6885a1;--color-blue-4:#235d9f;--color-foreground:var(--color-gray-1);--color-outline:var(--color-blue-4);--color-editor-background:var(--color-black);--color-sidebar-background:var(--color-gray-9);--color-marker-background:var(--color-gray-4);--color-whitespace-foreground:var(--color-gray-5);--color-c0:var(--color-gray-3);--color-p0:var(--color-gray-2);--color-p1:var(--color-gray-1);--color-s0:var(--color-slate-2);--color-s1:var(--color-slate-1)}*{box-sizing:border-box}html{background-color:var(--color-editor-background);color:var(--color-foreground);font-family:var(--font-family-body);font-size:var(--font-size-body);font-synthesis:none;font-weight:var(--font-weight-body);-webkit-hyphens:auto;hyphens:auto;line-height:var(--line-height-body);text-rendering:optimizelegibility}body{margin:0}a,button{color:inherit;font-family:inherit;font-size:inherit;line-height:inherit}:focus-visible{outline:2px solid var(--color-outline)}.sr-only{clip:rect(0,0,0,0);word-wrap:normal;border:0;block-size:1px;inline-size:1px;margin:0;padding:0;position:absolute;overflow:hidden}.body{grid-template-rows:min-content 1fr min-content;min-height:100vh;display:grid}.header,.footer{grid-template-columns:1fr .5fr .5fr;row-gap:20px;width:100%;max-width:1440px;margin-inline:auto;padding-block:20px;padding-inline:30px;display:grid}@media (max-width:1024px){:is(.header,.footer){grid-template-columns:1fr}}@media (max-width:1024px){:is(.header__leading,.footer__leading){grid-column:1/3}}.header__leading a,.footer__leading a{font-family:var(--font-family-brand);font-size:var(--font-size-brand);text-transform:lowercase;text-decoration:none}.header__middle p,.footer__middle p{font-size:var(--font-size-caption);max-width:230px;margin-block:0}.header__trailing p,.footer__trailing p{font-size:var(--font-size-caption);text-align:end;margin-block:0}.four{font-family:var(--font-family-text);font-size:var(--font-size-body);font-weight:var(--font-weight-text);margin:auto}.home{padding-block:42px 160px}.home__editor .editor{width:100%;max-width:1440px;margin-inline:auto;padding-inline:30px}@media (max-width:1024px){.home__editor .editor{padding-inline:unset}}.home__article{grid-template-columns:1fr 1fr;row-gap:160px;width:100%;max-width:1440px;margin-block-start:160px;margin-inline:auto;padding-inline:30px;display:grid}@media (max-width:1024px){.home__article{grid-template-columns:1fr}}.home__distribution a{width:-moz-fit-content;width:fit-content;display:block}.home__content p{max-width:640px;margin-block:24px 0}.home__content p:first-of-type{margin-block-start:0}.editor{grid-template-columns:340px 1fr;column-gap:32px;height:718px;display:grid}@media (max-width:1024px){.editor{height:unset;grid-template-columns:1fr;row-gap:32px}}.editor__sidebar{grid-template-rows:1fr min-content;display:grid;overflow:auto}@media (max-width:1024px){.editor__sidebar{display:contents}}.editor__container{background-color:var(--color-sidebar-background);grid-template-rows:1fr 1fr;row-gap:20px;height:100%;padding-block:22px;display:grid;overflow:auto}@media (max-width:1024px){.editor__container{grid-template-columns:calc(50% - 28px) calc(50% - 28px);grid-template-rows:unset;max-height:448px}}.editor__section{grid-template-rows:min-content 1fr;display:grid;overflow:auto}.editor__section h3{font-size:var(--font-size-caption);font-weight:var(--font-weight-body);margin-block-end:16px;padding-inline:28px}.editor__credentials{background-color:var(--color-sidebar-background);padding-block:22px;padding-inline:28px;overflow:hidden}@media (max-width:1024px){.editor__credentials{grid-row:3}}.editor__credentials p{font-size:var(--font-size-caption);text-overflow:ellipsis;text-wrap:nowrap;margin-block:0;overflow:hidden}.editor__options{margin-inline:2px;padding-block:2px;overflow:auto}.editor__options button{font-size:var(--font-size-caption);background-color:#0000;border:none;width:-moz-fit-content;width:fit-content;margin-inline-start:26px;padding:0;display:block;position:relative}.editor__options button[aria-selected=true]:before{background-color:var(--color-marker-background);content:"";border-radius:2px;width:4px;height:4px;display:block;position:absolute;top:50%;left:-16px;transform:translateY(-50%)}.editor__body{padding-block:22px;overflow:auto}@media (max-width:1024px){.editor__body{padding-block:unset;grid-template-columns:min-content 1fr min-content;height:512px;display:grid}}.editor__body:before,.editor__body:after{content:"";padding-inline-start:28px;display:block}.editor__body .sh{margin-block:0}.sh{background-color:var(--color-editor-background);font-family:var(--font-family-code);font-size:var(--font-size-code);position:relative}.ws{color:var(--color-whitespace-foreground);position:relative}.ws:before{content:"·";position:absolute}.wt{color:var(--color-whitespace-foreground);tab-size:2;position:relative}.wt:before{content:"⇥";position:absolute}.c0{color:var(--color-c0)}.p0{color:var(--color-p0)}.p1{color:var(--color-p1)}.s0{color:var(--color-s0)}.s1{color:var(--color-s1)}</style><script defer=defer type=module>"use strict";(()=>{function s(e){e.customElements.get(n.tagName)||(e.EditorContainer=n,e.customElements.define(n.tagName,n))}var n=class extends HTMLElement{static get tagName(){return"editor-container"}get#t(){return this.querySelectorAll("[aria-labelledby]")}get#i(){return this.querySelectorAll("button[name=syntax]")}get#l(){return this.querySelectorAll("button[name=variant]")}#r="js";#s="Your Side of the Moon";#e=new i;connectedCallback(){this.#o(),this.#u()}disconnectedCallback(){this.#c()}#o(){this.#a(),this.#n()}#u(){addEventListener("popstate",this),this.addEventListener("click",this)}#c(){removeEventListener("popstate",this),this.removeEventListener("click",this)}handleEvent(t){if(c(t)){t.preventDefault(),this.#a();return}if(r(t)&&o(t.target)){location.hash===`#${t.target.value}`?location.hash="":location.hash=t.target.value,this.#a();return}if(r(t)&&u(t.target)){t.target.getAttribute("aria-selected")==="true"?this.#e.value="":this.#e.value=t.target.value,this.#n();return}}#a(){let t=this.#r;location.hash&&(t=location.hash.slice(1));for(let a of this.#t){a.getAttribute("aria-labelledby")!==t?a.hidden=!0:a.hidden=!1;let l=a.parentElement;l&&(l.scrollTop=0),!a.hidden&&location.hash&&scrollTo({top:a.offsetTop-28*2})}for(let a of this.#i)a.value!==t?a.removeAttribute("aria-selected"):a.setAttribute("aria-selected","true")}#n(){let t=this.#s;this.#e.value&&(t=this.#e.value);for(let a of this.#l)a.value!==t?a.removeAttribute("aria-selected"):a.setAttribute("aria-selected","true");document.documentElement.dataset.themeVariant=t}},i=class e{static get#t(){return"theme-variant"}get value(){let t=localStorage.getItem(e.#t);return t||""}set value(t){if(!t){localStorage.removeItem(e.#t);return}localStorage.setItem(e.#t,t)}};function o(e){return e instanceof HTMLButtonElement&&e.name==="syntax"}function u(e){return e instanceof HTMLButtonElement&&e.name==="variant"}function r(e){return e instanceof Event&&e.type==="click"}function c(e){return e instanceof Event&&e.type==="popstate"}s(window);})();</script></head><body class=body><header class=header><div class=header__leading><a href=/ >Moondust</a></div><div class=header__middle><p>Handcrafted theme for those who have not found syntax highlighting useful for themself.</p></div><div class=header__trailing><p><a href=https://github.com/vanyauhalin/moondusttheme/ >GitHub</a></p></div></header><div class=home><div class=home__editor><editor-container><div class=editor><div class=editor__sidebar><div class=editor__container><div class=editor__section><h3>Syntaxes</h3><div class=editor__options><button name=syntax type=button value=css id=css>CSS</button><button name=syntax type=button value=dockerfile id=dockerfile>Dockerfile</button><button name=syntax type=button value=fish id=fish>fish</button><button name=syntax type=button value=go id=go>Go</button><button name=syntax type=button value=go.mod id=go.mod>Go Module</button><button name=syntax type=button value=go.sum id=go.sum>Go Sum</button><button name=syntax type=button value=html id=html>HTML</button><button name=syntax type=button value=ini id=ini>INI</button><button name=syntax type=button value=js id=js aria-selected=true>JavaScript</button><button name=syntax type=button value=json id=json>JSON</button><button name=syntax type=button value=jsonc id=jsonc>JSON with Comments</button><button name=syntax type=button value=jsonl id=jsonl>JSON Lines</button><button name=syntax type=button value=jsx id=jsx>JSX</button><button name=syntax type=button value=makefile id=makefile>Makefile</button><button name=syntax type=button value=py id=py>Python</button><button name=syntax type=button value=rb id=rb>Ruby</button><button name=syntax type=button value=rs id=rs>Rust</button><button name=syntax type=button value=sh id=sh>Shell Script</button><button name=syntax type=button value=sql id=sql>SQL</button><button name=syntax type=button value=swift id=swift>Swift</button><button name=syntax type=button value=toml id=toml>TOML</button><button name=syntax type=button value=ts id=ts>TypeScript</button><button name=syntax type=button value=tsx id=tsx>TSX</button><button name=syntax type=button value=yaml id=yaml>YAML</button></div></div><div class=editor__section><h3>Variants</h3><div class=editor__options><button name=variant type=button value="Near Side of the Moon">Near Side of the Moon</button> <button name=variant type=button value="Far Side of the Moon">Far Side of the Moon</button></div></div></div><div class=editor__credentials><h3 class=sr-only>Credentials</h3><p>Source code of <a href=https://github.com/Miocene/animations/blob/d83b89b38a0f286b374344e210ecd2a61fe6a671/2023_05_portraits/style.css/ aria-labelledby=css hidden>Portraits Pure CSS Animation</a><a href=https://github.com/nginxinc/docker-nginx/blob/1.25.4/stable/alpine/Dockerfile/ aria-labelledby=dockerfile hidden>NGINX Alpine Dockerfile</a><a href=https://github.com/jorgebucaran/fisher/blob/4.4.4/functions/fisher.fish/ aria-labelledby=fish hidden>A plugin manager for Fish</a><a href=https://github.com/alecthomas/kong/blob/v0.9.0/kong.go/ aria-labelledby=go hidden>Kong</a><a href=https://github.com/maaslalani/invoice/blob/v0.1.0/go.mod/ aria-labelledby=go.mod hidden>Invoice</a><a href=https://github.com/maaslalani/invoice/blob/v0.1.0/go.sum/ aria-labelledby=go.sum hidden>Invoice</a><a href=https://github.com/pepelsbey/pepelsbey.dev/blob/6f3c41050ea299da49b3358e2c87108fd0404a52/src/articles/two-columns/demos/flexbox.html/ aria-labelledby=html hidden>Two Columns Article</a><a href=https://github.com/nushell/nushell/blob/0.91.0/tests/fixtures/formats/sample.ini/ aria-labelledby=ini hidden>Nushell</a><a href=https://github.com/lukeed/uvu/blob/v0.5.6/src/assert.js/ aria-labelledby=js>uvu</a><a href=https://github.com/typicode/json-server/blob/v0.17.4/package.json/ aria-labelledby=json hidden>JSON Server</a><a href=https://github.com/typicode/json-server/blob/v0.17.4/package.json/ aria-labelledby=jsonc hidden>JSON Server</a><a href=https://github.com/typicode/json-server/blob/v0.17.4/package.json/ aria-labelledby=jsonl hidden>JSON Server</a><a href=https://github.com/Semantic-Org/Semantic-UI-React/blob/v2.1.5/docs/src/components/ComponentDoc/ComponentDoc.js/ aria-labelledby=jsx hidden>Semantic UI React</a><a href=https://github.com/facebook/zstd/blob/zstd-0.4.2/Makefile/ aria-labelledby=makefile hidden>zstd</a><a href=https://github.com/gruns/icecream/blob/v2.1.3/icecream/icecream.py/ aria-labelledby=py hidden>IceCream</a><a href=https://github.com/ruby/open-uri/blob/v0.4.1/lib/open-uri.rb/ aria-labelledby=rb hidden>OpenURI</a><a href=https://github.com/rust-lang/cargo/blob/0.79.0/src/bin/cargo/main.rs/ aria-labelledby=rs hidden>Cargo</a><a href=https://github.com/llvm/llvm-project/blob/llvmorg-18.1.5/bolt/utils/bughunter.sh/ aria-labelledby=sh hidden>BOLT</a><a href=https://github.com/launchbadge/sqlx/blob/v0.7.4/tests/sqlite/setup.sql/ aria-labelledby=sql hidden>SQLx</a><a href=https://github.com/alin23/Lunar/blob/v6.7.13/Lunar/Controllers/ControlChoiceViewController.swift/ aria-labelledby=swift hidden>Lunar</a><a href=https://github.com/jdx/mise/blob/main/Cargo.toml/ aria-labelledby=toml hidden>mise</a><a href=https://github.com/vitest-dev/vitest/blob/v1.4.0/packages/vitest/src/typecheck/collect.ts/ aria-labelledby=ts hidden>Vitest</a><a href=https://github.com/washingtonpost/wpds-ui-kit/blob/v1.23.1/ui/popover/src/play.stories.tsx/ aria-labelledby=tsx hidden>WPDS's UI Kit</a><a href=https://github.com/google/brotli/blob/v1.1.0/.github/workflows/release.yaml/ aria-labelledby=yaml hidden>Brotli</a></p><p>by <a href=https://github.com/Miocene/ aria-labelledby=css hidden>Julia Miocene</a><a href=https://github.com/nginxinc/ aria-labelledby=dockerfile hidden>NGINX</a><a href=https://github.com/jorgebucaran/ aria-labelledby=fish hidden>Jorge Bucaran</a><a href=https://github.com/alecthomas/ aria-labelledby=go hidden>Alec Thomas</a><a href=https://github.com/maaslalani/ aria-labelledby=go.mod hidden>Maas Lalani</a><a href=https://github.com/maaslalani/ aria-labelledby=go.sum hidden>Maas Lalani</a><a href=https://github.com/pepelsbey/ aria-labelledby=html hidden>Vadim Makeev</a><a href=https://github.com/nushell/ aria-labelledby=ini hidden>Nushell</a><a href=https://github.com/lukeed/ aria-labelledby=js>Luke Edwards</a><a href=https://github.com/typicode/ aria-labelledby=json hidden>typicode</a><a href=https://github.com/typicode/ aria-labelledby=jsonc hidden>typicode</a><a href=https://github.com/typicode/ aria-labelledby=jsonl hidden>typicode</a><a href=https://github.com/Semantic-Org/ aria-labelledby=jsx hidden>Semantic</a><a href=https://github.com/facebook/ aria-labelledby=makefile hidden>Meta</a><a href=https://github.com/gruns/ aria-labelledby=py hidden>Ansgar Grunseid</a><a href=https://github.com/ruby/ aria-labelledby=rb hidden>Ruby</a><a href=https://github.com/rust-lang/ aria-labelledby=rs hidden>Rust</a><a href=https://github.com/llvm/ aria-labelledby=sh hidden>LLVM</a><a href=https://github.com/launchbadge/ aria-labelledby=sql hidden>launchbadge</a><a href=https://github.com/alin23/ aria-labelledby=swift hidden>Alin Panaitiu</a><a href=https://github.com/jdx/ aria-labelledby=toml hidden>jdx</a><a href=https://github.com/vitest-dev/ aria-labelledby=ts hidden>Vitest</a><a href=https://github.com/washingtonpost/ aria-labelledby=tsx hidden>The Washington Post</a><a href=https://github.com/google/ aria-labelledby=yaml hidden>Google</a></p></div></div><div class=editor__body><pre aria-labelledby=css class=sh hidden><code><span class=p1>body</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>100vh</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>margin</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span>
<span class=p0>}</span>

<span class=p0>.</span><span class=p1>person</span><span class=p0>,</span><span class=ws> </span><span class=p0>.</span><span class=p1>person</span><span class=p0>::</span><span class=p1>before</span><span class=p0>,</span><span class=ws> </span><span class=p0>.</span><span class=p1>person</span><span class=p0>::</span><span class=p1>after</span><span class=p0>,</span><span class=ws> </span><span class=p0>.</span><span class=p1>person</span><span class=ws> </span><span class=p1>*</span><span class=p0>,</span><span class=ws> </span><span class=p0>.</span><span class=p1>person</span><span class=ws> </span><span class=p1>*</span><span class=p0>::</span><span class=p1>after</span><span class=p0>,</span><span class=ws> </span><span class=p0>.</span><span class=p1>person</span><span class=ws> </span><span class=p1>*</span><span class=p0>::</span><span class=p1>before</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>position</span><span class=p0>:</span><span class=ws> </span><span class=s1>absolute</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>content</span><span class=p0>:</span><span class=ws> </span><span class=s1>''</span><span class=p0>;</span>
<span class=p0>}</span>

<span class=p0>.</span><span class=p1>grid</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>100%</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=s1>grid</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=p1>grid-template-columns</span><span class=p0>:</span><span class=ws> </span><span class=s1>1fr</span><span class=ws> </span><span class=s1>1fr</span><span class=ws> </span><span class=s1>1fr</span><span class=p0>;</span>
<span class=p0>}</span>

<span class=p0>.</span><span class=p1>portrait</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>position</span><span class=p0>:</span><span class=ws> </span><span class=s1>relative</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=p1>overflow</span><span class=p0>:</span><span class=ws> </span><span class=s1>hidden</span><span class=p0>;</span>

<span class=ws> </span><span class=ws> </span><span class=p1>--black</span><span class=p0>:</span><span class=ws> </span><span class=s1>#00202a</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=p1>--grey</span><span class=p0>:</span><span class=ws> </span><span class=s1>#003444</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=p1>--light-grey</span><span class=p0>:</span><span class=ws> </span><span class=s1>#547d8f</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=p1>--white</span><span class=p0>:</span><span class=ws> </span><span class=s1>#f8f8f8</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=p1>--blue</span><span class=p0>:</span><span class=ws> </span><span class=s1>#2348cd</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=p1>--dark-blue</span><span class=p0>:</span><span class=ws> </span><span class=s1>#013344</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=p1>--light-blue</span><span class=p0>:</span><span class=ws> </span><span class=s1>#0ef3bd</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=p1>--skin</span><span class=p0>:</span><span class=ws> </span><span class=s1>#f77676</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=p1>--dark-skin</span><span class=p0>:</span><span class=ws> </span><span class=s1>#cc3c40</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=p1>--light-skin</span><span class=p0>:</span><span class=ws> </span><span class=s1>#f3af9f</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=p1>--yellow</span><span class=p0>:</span><span class=ws> </span><span class=s1>#f6d359</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=p1>--dark-yellow</span><span class=p0>:</span><span class=ws> </span><span class=s1>#e9a964</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=p1>--red</span><span class=p0>:</span><span class=ws> </span><span class=s1>#f44d5f</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=p1>--dark-red</span><span class=p0>:</span><span class=ws> </span><span class=s1>#cc3040</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=p1>--light-red</span><span class=p0>:</span><span class=ws> </span><span class=s1>#eab1ae</span><span class=p0>;</span>
<span class=p0>}</span>
<span class=p0>.</span><span class=p1>portrait</span><span class=p0>:</span><span class=p1>nth-child</span><span class=p0>(</span><span class=p1>1</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>background-color</span><span class=p0>:</span><span class=ws> </span><span class=s1>#fcd2c7</span><span class=p0>;</span>
<span class=p0>}</span>
<span class=p0>.</span><span class=p1>portrait</span><span class=p0>:</span><span class=p1>nth-child</span><span class=p0>(</span><span class=p1>2</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>background-color</span><span class=p0>:</span><span class=ws> </span><span class=s1>#fcf8db</span><span class=p0>;</span>
<span class=p0>}</span>
<span class=p0>.</span><span class=p1>portrait</span><span class=p0>:</span><span class=p1>nth-child</span><span class=p0>(</span><span class=p1>3</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>background-color</span><span class=p0>:</span><span class=ws> </span><span class=s1>#f8e8d9</span><span class=p0>;</span>
<span class=p0>}</span>



<span class=c0>/*</span><span class=ws> </span><span class=c0>LEFT</span><span class=ws> </span><span class=c0>PERSON</span><span class=ws> </span><span class=c0>*/</span>
<span class=c0>/*</span><span class=ws> </span><span class=c0>neck</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_left</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>50%</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>50%</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>88px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>276px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span><span class=ws> </span><span class=s1>linear-gradient(86deg,</span><span class=ws> </span><span class=s1>var(--light-skin)</span><span class=ws> </span><span class=s1>90%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>91%)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-42px</span><span class=ws> </span><span class=s1>-100px</span><span class=p0>;</span>
<span class=p1>	</span>
<span class=wt>	</span><span class=p1>--animation</span><span class=p0>:</span><span class=ws> </span><span class=s1>6s</span><span class=ws> </span><span class=s1>ease</span><span class=ws> </span><span class=s1>infinite</span><span class=p0>;</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>body</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_left</span><span class=p0>::</span><span class=p1>before</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>147px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>-106px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>313px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>129px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span><span class=p1> </span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>dark</span><span class=ws> </span><span class=c0>lines</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(-8deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>108px,</span><span class=ws> </span><span class=s1>var(--dark-red)</span><span class=ws> </span><span class=s1>109px,</span><span class=ws> </span><span class=s1>var(--dark-red)</span><span class=ws> </span><span class=s1>110px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>111px)</span><span class=ws> </span><span class=s1>198px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>no-repeat,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(-39deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>60px,</span><span class=ws> </span><span class=s1>var(--dark-red)</span><span class=ws> </span><span class=s1>61px,</span><span class=ws> </span><span class=s1>var(--dark-red)</span><span class=ws> </span><span class=s1>62px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>63px),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(-102deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>74px,</span><span class=ws> </span><span class=s1>var(--dark-red)</span><span class=ws> </span><span class=s1>75px,</span><span class=ws> </span><span class=s1>var(--dark-red)</span><span class=ws> </span><span class=s1>76px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>77px),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(-80deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>106px,</span><span class=ws> </span><span class=s1>var(--dark-red)</span><span class=ws> </span><span class=s1>107px,</span><span class=ws> </span><span class=s1>var(--dark-red)</span><span class=ws> </span><span class=s1>108px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>109px),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>armpit</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>conic-gradient(from</span><span class=ws> </span><span class=s1>3rad,</span><span class=ws> </span><span class=s1>var(--red)</span><span class=ws> </span><span class=s1>22deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>0)</span><span class=ws> </span><span class=s1>25px</span><span class=ws> </span><span class=s1>49px</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>50px</span><span class=ws> </span><span class=s1>80px</span><span class=ws> </span><span class=s1>no-repeat,</span><span class=ws> </span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>coat</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(-79deg,</span><span class=ws> </span><span class=s1>var(--red)</span><span class=ws> </span><span class=s1>126px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>11px),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>light</span><span class=ws> </span><span class=c0>lines</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(-8deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>97px,</span><span class=ws> </span><span class=s1>var(--light-red)</span><span class=ws> </span><span class=s1>98px,</span><span class=ws> </span><span class=s1>var(--light-red)</span><span class=ws> </span><span class=s1>99px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>100px),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(108deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>149px,</span><span class=ws> </span><span class=s1>var(--light-red)</span><span class=ws> </span><span class=s1>150px,</span><span class=ws> </span><span class=s1>var(--light-red)</span><span class=ws> </span><span class=s1>151px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>152px)</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>9px</span><span class=ws> </span><span class=s1>no-repeat,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>shirt</span><span class=ws> </span><span class=c0>*/</span><span class=s1> </span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(-15deg,</span><span class=ws> </span><span class=s1>var(--white)</span><span class=ws> </span><span class=s1>155px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>125px),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>var(--light-skin)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>-webkit-mask-image</span><span class=p0>:</span><span class=ws> </span><span class=s1>conic-gradient(from</span><span class=ws> </span><span class=s1>126deg</span><span class=ws> </span><span class=s1>at</span><span class=ws> </span><span class=s1>50%</span><span class=ws> </span><span class=s1>-21%,</span><span class=ws> </span><span class=s1>black</span><span class=ws> </span><span class=s1>109deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>0)</span><span class=p0>;</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>top</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>head</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_left</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__head</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>-62px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>24px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>74px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>74px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span><span class=ws> </span><span class=s1>var(--light-skin)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>50%</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>transform-origin</span><span class=p0>:</span><span class=ws> </span><span class=s1>bottom</span><span class=ws> </span><span class=s1>center</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>animation</span><span class=p0>:</span><span class=ws> </span><span class=s1>leftPersonHead</span><span class=ws> </span><span class=s1>var(--animation)</span><span class=p0>;</span>
<span class=p0>}</span>
<span class=p0>@keyframes</span><span class=ws> </span><span class=p1>leftPersonHead</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>0%,</span><span class=ws> </span><span class=p1>18%,</span><span class=ws> </span><span class=p1>85%,</span><span class=ws> </span><span class=p1>100%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>0deg</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>23%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-5deg</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>35%,</span><span class=ws> </span><span class=p1>75%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>10deg</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>ear</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_left</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__head</span><span class=p0>::</span><span class=p1>before</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>37px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>-78px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>20px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>21px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span><span class=ws> </span><span class=s1>var(--dark-skin)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>13px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>transform-origin</span><span class=p0>:</span><span class=ws> </span><span class=s1>top</span><span class=ws> </span><span class=s1>left</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>transform</span><span class=p0>:</span><span class=ws> </span><span class=s1>skewX(41deg)</span><span class=p0>;</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>brows</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_left</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__head</span><span class=p0>::</span><span class=p1>after</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>24px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>-64px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>87px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>13px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>light</span><span class=ws> </span><span class=c0>lines</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(0deg,</span><span class=ws> </span><span class=s1>var(--light-grey)</span><span class=ws> </span><span class=s1>2px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>3px)</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>28px</span><span class=ws> </span><span class=s1>7px</span><span class=ws> </span><span class=s1>no-repeat,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(0deg,</span><span class=ws> </span><span class=s1>var(--light-grey)</span><span class=ws> </span><span class=s1>2px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>3px)</span><span class=ws> </span><span class=s1>46px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>41px</span><span class=ws> </span><span class=s1>7px</span><span class=ws> </span><span class=s1>no-repeat,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>brows</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(100deg,</span><span class=ws> </span><span class=s1>var(--grey)</span><span class=ws> </span><span class=s1>31px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>3px)</span><span class=ws> </span><span class=s1>5px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>32px</span><span class=ws> </span><span class=s1>100%</span><span class=ws> </span><span class=s1>no-repeat,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(var(--grey)</span><span class=ws> </span><span class=s1>100%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>3px)</span><span class=ws> </span><span class=s1>50px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>32px</span><span class=ws> </span><span class=s1>100%</span><span class=ws> </span><span class=s1>no-repeat</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>animation</span><span class=p0>:</span><span class=ws> </span><span class=s1>leftPersonBrows</span><span class=ws> </span><span class=s1>var(--animation)</span><span class=p0>;</span>
<span class=p0>}</span>
<span class=p0>@keyframes</span><span class=ws> </span><span class=p1>leftPersonBrows</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>0%,</span><span class=ws> </span><span class=p1>18%,</span><span class=ws> </span><span class=p1>85%,</span><span class=ws> </span><span class=p1>100%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>23%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>5px</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>26%,</span><span class=ws> </span><span class=p1>75%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>-3px</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>beard</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_left</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__beard</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>64px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>-76px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>131px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>153px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>shadows</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>conic-gradient(from</span><span class=ws> </span><span class=s1>0.2rad</span><span class=ws> </span><span class=s1>at</span><span class=ws> </span><span class=s1>13%</span><span class=ws> </span><span class=s1>41%,</span><span class=ws> </span><span class=s1>var(--black)</span><span class=ws> </span><span class=s1>7%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>calc(7%</span><span class=ws> </span><span class=s1>+</span><span class=ws> </span><span class=s1>0.2%)),</span><span class=ws> </span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>conic-gradient(from</span><span class=ws> </span><span class=s1>-1rad</span><span class=ws> </span><span class=s1>at</span><span class=ws> </span><span class=s1>93%</span><span class=ws> </span><span class=s1>36%,</span><span class=ws> </span><span class=s1>var(--black)</span><span class=ws> </span><span class=s1>14%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>calc(14%</span><span class=ws> </span><span class=s1>+</span><span class=ws> </span><span class=s1>0.2%)),</span><span class=ws> </span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>beard</span><span class=ws> </span><span class=c0>shape</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(284deg,</span><span class=ws> </span><span class=s1>var(--grey)</span><span class=ws> </span><span class=s1>77%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>0)</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>100px</span><span class=ws> </span><span class=s1>100%</span><span class=ws> </span><span class=s1>no-repeat,</span><span class=ws> </span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(83deg,</span><span class=ws> </span><span class=s1>var(--grey)</span><span class=ws> </span><span class=s1>62.7%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>0)</span><span class=ws> </span><span class=s1>40px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>no-repeat</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>15px</span><span class=ws> </span><span class=s1>24px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>transform-origin</span><span class=p0>:</span><span class=ws> </span><span class=s1>top</span><span class=ws> </span><span class=s1>left</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>animation</span><span class=p0>:</span><span class=ws> </span><span class=s1>leftPersonBeard</span><span class=ws> </span><span class=s1>var(--animation)</span><span class=p0>;</span>
<span class=p0>}</span>
<span class=p0>@keyframes</span><span class=ws> </span><span class=p1>leftPersonBeard</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>0%,</span><span class=ws> </span><span class=p1>25%,</span><span class=ws> </span><span class=p1>85%,</span><span class=ws> </span><span class=p1>100%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>7deg</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>35%,</span><span class=ws> </span><span class=p1>75%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>0deg</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>

<span class=p0>.</span><span class=p1>person_left</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__beard</span><span class=p0>::</span><span class=p1>before</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>42px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>31px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>55px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>27px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>lips</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(-16deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>18px,</span><span class=ws> </span><span class=s1>var(--dark-skin)</span><span class=ws> </span><span class=s1>18px,</span><span class=ws> </span><span class=s1>var(--dark-skin)</span><span class=ws> </span><span class=s1>19px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>20px)</span><span class=ws> </span><span class=s1>8px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>38px</span><span class=ws> </span><span class=s1>100%</span><span class=ws> </span><span class=s1>no-repeat,</span><span class=ws> </span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>shadows</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>conic-gradient(from</span><span class=ws> </span><span class=s1>190deg</span><span class=ws> </span><span class=s1>at</span><span class=ws> </span><span class=s1>60%</span><span class=ws> </span><span class=s1>41%,</span><span class=ws> </span><span class=s1>var(--skin)</span><span class=ws> </span><span class=s1>18%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>0),</span><span class=ws> </span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(107deg,</span><span class=ws> </span><span class=s1>var(--skin)</span><span class=ws> </span><span class=s1>35%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>calc(35%</span><span class=ws> </span><span class=s1>+</span><span class=ws> </span><span class=s1>1px)),</span><span class=ws> </span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>skin</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(58deg,</span><span class=ws> </span><span class=s1>var(--light-skin)</span><span class=ws> </span><span class=s1>81%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>calc(81%</span><span class=ws> </span><span class=s1>+</span><span class=ws> </span><span class=s1>1px))</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>transform-origin</span><span class=p0>:</span><span class=ws> </span><span class=s1>top</span><span class=ws> </span><span class=s1>left</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>5px</span><span class=ws> </span><span class=s1>6px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>-webkit-mask-image</span><span class=p0>:</span><span class=ws> </span><span class=s1>conic-gradient(from</span><span class=ws> </span><span class=s1>83deg</span><span class=ws> </span><span class=s1>at</span><span class=ws> </span><span class=s1>14%</span><span class=ws> </span><span class=s1>15%,</span><span class=ws> </span><span class=s1>black</span><span class=ws> </span><span class=s1>34%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>0)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>animation</span><span class=p0>:</span><span class=ws> </span><span class=s1>leftPersonLips</span><span class=ws> </span><span class=s1>var(--animation)</span><span class=p0>;</span>
<span class=p0>}</span>
<span class=p0>@keyframes</span><span class=ws> </span><span class=p1>leftPersonLips</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>0%,</span><span class=ws> </span><span class=p1>25%,</span><span class=ws> </span><span class=p1>85%,</span><span class=ws> </span><span class=p1>100%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-14deg</span><span class=p0>;</span><span class=ws> </span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>35%,</span><span class=ws> </span><span class=p1>75%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-18deg</span><span class=p0>;</span><span class=ws> </span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>7px</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>beard</span><span class=ws> </span><span class=c0>lines</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_left</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__beard</span><span class=p0>::</span><span class=p1>after</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>0px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>0px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>100%</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>162px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span><span class=p1> </span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(79deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>111px,</span><span class=ws> </span><span class=s1>var(--light-grey)</span><span class=ws> </span><span class=s1>111px,</span><span class=ws> </span><span class=s1>var(--light-grey)</span><span class=ws> </span><span class=s1>113px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>113px)</span><span class=ws> </span><span class=s1>0px</span><span class=ws> </span><span class=s1>53px</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>100%</span><span class=ws> </span><span class=s1>71px</span><span class=ws> </span><span class=s1>no-repeat,</span><span class=ws> </span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(87deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>82px,</span><span class=ws> </span><span class=s1>var(--light-grey)</span><span class=ws> </span><span class=s1>82px,</span><span class=ws> </span><span class=s1>var(--light-grey)</span><span class=ws> </span><span class=s1>84px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>84px)</span><span class=ws> </span><span class=s1>0px</span><span class=ws> </span><span class=s1>88px</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>100%</span><span class=ws> </span><span class=s1>74px</span><span class=ws> </span><span class=s1>no-repeat,</span><span class=ws> </span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(89deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>62px,</span><span class=ws> </span><span class=s1>var(--light-grey)</span><span class=ws> </span><span class=s1>62px,</span><span class=ws> </span><span class=s1>var(--light-grey)</span><span class=ws> </span><span class=s1>64px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>64px)</span><span class=ws> </span><span class=s1>0px</span><span class=ws> </span><span class=s1>70px</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>100%</span><span class=ws> </span><span class=s1>24px</span><span class=ws> </span><span class=s1>no-repeat,</span><span class=ws> </span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(95deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>48px,</span><span class=ws> </span><span class=s1>var(--light-grey)</span><span class=ws> </span><span class=s1>48px,</span><span class=ws> </span><span class=s1>var(--light-grey)</span><span class=ws> </span><span class=s1>50px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>50px)</span><span class=ws> </span><span class=s1>0px</span><span class=ws> </span><span class=s1>82px</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>100%</span><span class=ws> </span><span class=s1>54px</span><span class=ws> </span><span class=s1>no-repeat,</span><span class=ws> </span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(97deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>26px,</span><span class=ws> </span><span class=s1>var(--light-grey)</span><span class=ws> </span><span class=s1>26px,</span><span class=ws> </span><span class=s1>var(--light-grey)</span><span class=ws> </span><span class=s1>28px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>28px)</span><span class=ws> </span><span class=s1>0px</span><span class=ws> </span><span class=s1>64px</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>100%</span><span class=ws> </span><span class=s1>96px</span><span class=ws> </span><span class=s1>no-repeat</span><span class=p0>;</span>
<span class=p0>}</span>

<span class=p0>.</span><span class=p1>person_left</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__face</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>46px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>-3px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>50px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>45px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>undereye</span><span class=ws> </span><span class=c0>circle</span><span class=ws> </span><span class=c0>*/</span><span class=s1> </span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(157deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>27px,</span><span class=ws> </span><span class=s1>var(--skin)</span><span class=ws> </span><span class=s1>28px,</span><span class=ws> </span><span class=s1>var(--skin)</span><span class=ws> </span><span class=s1>29px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>30px)</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>37px</span><span class=ws> </span><span class=s1>100%</span><span class=ws> </span><span class=s1>no-repeat,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>background</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>var(--light-skin)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>8px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>transform-origin</span><span class=p0>:</span><span class=ws> </span><span class=s1>top</span><span class=ws> </span><span class=s1>left</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>23deg</span><span class=p0>;</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>nose</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_left</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__face</span><span class=p0>::</span><span class=p1>before</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>2px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>-58px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>80px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>82px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>undereye</span><span class=ws> </span><span class=c0>circle</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(194deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>55px,</span><span class=ws> </span><span class=s1>var(--dark-skin)</span><span class=ws> </span><span class=s1>56px,</span><span class=ws> </span><span class=s1>var(--dark-skin)</span><span class=ws> </span><span class=s1>57px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>58px)</span><span class=ws> </span><span class=s1>0px</span><span class=ws> </span><span class=s1>0px</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>18px</span><span class=ws> </span><span class=s1>100%</span><span class=ws> </span><span class=s1>no-repeat,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>shadows</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(5deg,</span><span class=ws> </span><span class=s1>var(--skin)</span><span class=ws> </span><span class=s1>24%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>calc(22%</span><span class=ws> </span><span class=s1>+</span><span class=ws> </span><span class=s1>1px))</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>40px</span><span class=ws> </span><span class=s1>100%</span><span class=ws> </span><span class=s1>no-repeat,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(93deg,</span><span class=ws> </span><span class=s1>var(--skin)</span><span class=ws> </span><span class=s1>33%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>calc(33%</span><span class=ws> </span><span class=s1>+</span><span class=ws> </span><span class=s1>1px))</span><span class=ws> </span><span class=s1>0px</span><span class=ws> </span><span class=s1>9px</span><span class=ws> </span><span class=s1>no-repeat,</span><span class=ws> </span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>skin</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(104deg,</span><span class=ws> </span><span class=s1>var(--light-skin)</span><span class=ws> </span><span class=s1>73px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>74px)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>transform-origin</span><span class=p0>:</span><span class=ws> </span><span class=s1>top</span><span class=ws> </span><span class=s1>left</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>9px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-15deg</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>transform</span><span class=p0>:</span><span class=ws> </span><span class=s1>skewY(-23deg)</span><span class=p0>;</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>eyes</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_left</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__face</span><span class=p0>::</span><span class=p1>after</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>27px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>-38px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>8px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>8px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span><span class=ws> </span><span class=s1>var(--grey)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>50%</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>box-shadow</span><span class=p0>:</span><span class=ws> </span><span class=s1>46px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>var(--grey)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-23deg</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>animation</span><span class=p0>:</span><span class=ws> </span><span class=s1>leftPersonEyes</span><span class=ws> </span><span class=s1>var(--animation)</span><span class=p0>;</span>
<span class=p0>}</span>
<span class=p0>@keyframes</span><span class=ws> </span><span class=p1>leftPersonEyes</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>0%,</span><span class=ws> </span><span class=p1>20%,</span><span class=ws> </span><span class=p1>26%,</span><span class=ws> </span><span class=p1>100%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>scale</span><span class=p0>:</span><span class=ws> </span><span class=s1>1</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>23%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>scale</span><span class=p0>:</span><span class=ws> </span><span class=s1>1</span><span class=ws> </span><span class=s1>0.1</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>


<span class=c0>/*</span><span class=ws> </span><span class=c0>CENTER</span><span class=ws> </span><span class=c0>PERSON</span><span class=ws> </span><span class=c0>*/</span>
<span class=c0>/*</span><span class=ws> </span><span class=c0>body</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_center</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>50%</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>50%</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>200px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>100px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span><span class=p1> </span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>collarbone</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(var(--skin),</span><span class=ws> </span><span class=s1>var(--skin))</span><span class=ws> </span><span class=s1>45px</span><span class=ws> </span><span class=s1>35px</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>95px</span><span class=ws> </span><span class=s1>2px</span><span class=ws> </span><span class=s1>no-repeat,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>skin</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>radial-gradient(var(--light-skin)</span><span class=ws> </span><span class=s1>70%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>0)</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>-50px</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>100%</span><span class=ws> </span><span class=s1>130%</span><span class=ws> </span><span class=s1>no-repeat</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>50%</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-90px</span><span class=ws> </span><span class=s1>60px</span><span class=p0>;</span>
<span class=p1>	</span>
<span class=wt>	</span><span class=p1>--animation</span><span class=p0>:</span><span class=ws> </span><span class=s1>6s</span><span class=ws> </span><span class=s1>ease</span><span class=ws> </span><span class=s1>infinite</span><span class=p0>;</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>neck</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_center</span><span class=p0>::</span><span class=p1>before</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>-90px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>60px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>80px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>100px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span><span class=p1> </span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(140deg,</span><span class=ws> </span><span class=s1>var(--skin)</span><span class=ws> </span><span class=s1>50%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>calc(50%</span><span class=ws> </span><span class=s1>+</span><span class=ws> </span><span class=s1>1px))</span><span class=ws> </span><span class=s1>no-repeat,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>var(--light-skin)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>-webkit-mask-image</span><span class=p0>:</span><span class=ws> </span><span class=s1>linear-gradient(80deg,</span><span class=ws> </span><span class=s1>black</span><span class=ws> </span><span class=s1>80%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>calc(80%</span><span class=ws> </span><span class=s1>+</span><span class=ws> </span><span class=s1>1px))</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>animation</span><span class=p0>:</span><span class=ws> </span><span class=s1>centerPersonNeck</span><span class=ws> </span><span class=s1>var(--animation)</span><span class=p0>;</span>
<span class=p0>}</span>
<span class=p0>@keyframes</span><span class=ws> </span><span class=p1>centerPersonNeck</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>0%,</span><span class=ws> </span><span class=p1>20%,</span><span class=ws> </span><span class=p1>80%,</span><span class=ws> </span><span class=p1>100%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>background-position</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>30%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>background-position</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>7px</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>40%,</span><span class=ws> </span><span class=p1>70%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>background-position</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>-5px</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>ear</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>hair</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_center</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__head</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>-145px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>5px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>50px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>50px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span><span class=ws> </span><span class=s1>var(--dark-skin)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>50%</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>box-shadow</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>ear</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>135px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>var(--light-skin),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>front</span><span class=ws> </span><span class=c0>hair</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>120px</span><span class=ws> </span><span class=s1>-40px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>10px</span><span class=ws> </span><span class=s1>var(--yellow),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>80px</span><span class=ws> </span><span class=s1>-60px</span><span class=ws> </span><span class=s1>var(--yellow),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>30px</span><span class=ws> </span><span class=s1>-100px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>15px</span><span class=ws> </span><span class=s1>var(--yellow),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>back</span><span class=ws> </span><span class=c0>hair</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>25px</span><span class=ws> </span><span class=s1>-50px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>10px</span><span class=ws> </span><span class=s1>var(--dark-yellow),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>80px</span><span class=ws> </span><span class=s1>-70px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>10px</span><span class=ws> </span><span class=s1>var(--dark-yellow)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>animation</span><span class=p0>:</span><span class=ws> </span><span class=s1>centerPersonHead</span><span class=ws> </span><span class=s1>var(--animation),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=ws> </span><span class=s1>centerPersonHair</span><span class=ws> </span><span class=s1>var(--animation)</span><span class=p0>;</span>
<span class=p0>}</span>
<span class=p0>@keyframes</span><span class=ws> </span><span class=p1>centerPersonHead</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>0%,</span><span class=ws> </span><span class=p1>20%,</span><span class=ws> </span><span class=p1>80%,</span><span class=ws> </span><span class=p1>100%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>30%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-2px</span><span class=ws> </span><span class=s1>10px</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>40%,</span><span class=ws> </span><span class=p1>70%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-2px</span><span class=ws> </span><span class=s1>-7px</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>
<span class=p0>@keyframes</span><span class=ws> </span><span class=p1>centerPersonHair</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>0%,</span><span class=ws> </span><span class=p1>30%,</span><span class=ws> </span><span class=p1>80%,</span><span class=ws> </span><span class=p1>100%</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>box-shadow</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>ear</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>135px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>var(--light-skin),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>front</span><span class=ws> </span><span class=c0>hair</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>120px</span><span class=ws> </span><span class=s1>-40px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>10px</span><span class=ws> </span><span class=s1>var(--yellow),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>80px</span><span class=ws> </span><span class=s1>-60px</span><span class=ws> </span><span class=s1>var(--yellow),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>30px</span><span class=ws> </span><span class=s1>-100px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>15px</span><span class=ws> </span><span class=s1>var(--yellow),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>back</span><span class=ws> </span><span class=c0>hair</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>25px</span><span class=ws> </span><span class=s1>-50px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>10px</span><span class=ws> </span><span class=s1>var(--dark-yellow),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>80px</span><span class=ws> </span><span class=s1>-70px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>10px</span><span class=ws> </span><span class=s1>var(--dark-yellow)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>40%,</span><span class=ws> </span><span class=p1>70%</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>box-shadow</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>ear</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>130px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>var(--light-skin),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>front</span><span class=ws> </span><span class=c0>hair</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>120px</span><span class=ws> </span><span class=s1>-30px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>10px</span><span class=ws> </span><span class=s1>var(--yellow),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>85px</span><span class=ws> </span><span class=s1>-55px</span><span class=ws> </span><span class=s1>var(--yellow),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>33px</span><span class=ws> </span><span class=s1>-100px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>15px</span><span class=ws> </span><span class=s1>var(--yellow),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>back</span><span class=ws> </span><span class=c0>hair</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>20px</span><span class=ws> </span><span class=s1>-45px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>10px</span><span class=ws> </span><span class=s1>var(--dark-yellow),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>75px</span><span class=ws> </span><span class=s1>-55px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>10px</span><span class=ws> </span><span class=s1>var(--dark-yellow)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>head</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_center</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__head</span><span class=p0>::</span><span class=p1>before</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>-30px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>25px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>130px</span><span class=p0>;</span><span class=ws> </span><span class=p1>aspect-ratio</span><span class=p0>:</span><span class=ws> </span><span class=s1>1/1</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span><span class=p1> </span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>hair</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(-150deg,</span><span class=ws> </span><span class=s1>var(--yellow)</span><span class=ws> </span><span class=s1>29%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>0)</span><span class=ws> </span><span class=s1>no-repeat,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>nose</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(100deg,</span><span class=ws> </span><span class=s1>var(--skin)</span><span class=ws> </span><span class=s1>45%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>calc(45%</span><span class=ws> </span><span class=s1>+</span><span class=ws> </span><span class=s1>1px))</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>70px</span><span class=ws> </span><span class=s1>no-repeat,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(100deg,</span><span class=ws> </span><span class=s1>var(--skin)</span><span class=ws> </span><span class=s1>45%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>calc(45%</span><span class=ws> </span><span class=s1>+</span><span class=ws> </span><span class=s1>1px))</span><span class=ws> </span><span class=s1>no-repeat,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>skin</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>var(--light-skin)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>50%</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>animation</span><span class=p0>:</span><span class=ws> </span><span class=s1>centerPersonFace</span><span class=ws> </span><span class=s1>var(--animation),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=ws> </span><span class=s1>centerPersonNose</span><span class=ws> </span><span class=s1>var(--animation)</span><span class=p0>;</span>
<span class=p0>}</span>
<span class=p0>@keyframes</span><span class=ws> </span><span class=p1>centerPersonFace</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>0%,</span><span class=ws> </span><span class=p1>30%,</span><span class=ws> </span><span class=p1>80%,</span><span class=ws> </span><span class=p1>100%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>40%,</span><span class=ws> </span><span class=p1>70%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>4px</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>
<span class=p0>@keyframes</span><span class=ws> </span><span class=p1>centerPersonNose</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>0%,</span><span class=ws> </span><span class=p1>20%,</span><span class=ws> </span><span class=p1>80%,</span><span class=ws> </span><span class=p1>100%</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>background-position</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0,</span><span class=ws> </span><span class=s1>-13px</span><span class=ws> </span><span class=s1>70px,</span><span class=ws> </span><span class=s1>-13px</span><span class=ws> </span><span class=s1>0,</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>30%</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>background-position</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0,</span><span class=ws> </span><span class=s1>-13px</span><span class=ws> </span><span class=s1>75px,</span><span class=ws> </span><span class=s1>-13px</span><span class=ws> </span><span class=s1>5px,</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>40%,</span><span class=ws> </span><span class=p1>70%</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>background-position</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0,</span><span class=ws> </span><span class=s1>-5px</span><span class=ws> </span><span class=s1>70px,</span><span class=ws> </span><span class=s1>-5px</span><span class=ws> </span><span class=s1>0,</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>smile</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_center</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__head</span><span class=p0>::</span><span class=p1>after</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>45px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>40px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>60px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>23px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>50%</span><span class=ws> </span><span class=s1>50%</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>box-shadow</span><span class=p0>:</span><span class=ws> </span><span class=s1>inset</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>-13px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>-10px</span><span class=ws> </span><span class=s1>var(--dark-skin)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>animation</span><span class=p0>:</span><span class=ws> </span><span class=s1>centerPersonSmile</span><span class=ws> </span><span class=s1>var(--animation)</span>
<span class=p0>}</span>
<span class=p0>@keyframes</span><span class=ws> </span><span class=p1>centerPersonSmile</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>0%,</span><span class=ws> </span><span class=p1>20%,</span><span class=ws> </span><span class=p1>80%,</span><span class=ws> </span><span class=p1>100%</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>transform</span><span class=p0>:</span><span class=ws> </span><span class=s1>translate(0,</span><span class=ws> </span><span class=s1>0)</span><span class=ws> </span><span class=s1>scale(1)</span><span class=ws> </span><span class=s1>rotate(0)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>30%</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>transform</span><span class=p0>:</span><span class=ws> </span><span class=s1>translate(0px,</span><span class=ws> </span><span class=s1>5px)</span><span class=ws> </span><span class=s1>scale(1)</span><span class=ws> </span><span class=s1>rotate(0deg)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>40%,</span><span class=ws> </span><span class=p1>70%</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>transform</span><span class=p0>:</span><span class=ws> </span><span class=s1>translate(15px,</span><span class=ws> </span><span class=s1>-5px)</span><span class=ws> </span><span class=s1>scale(0.8)</span><span class=ws> </span><span class=s1>rotate(-15deg)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>eyes</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_center</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__face</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>15px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>35px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>8px</span><span class=p0>;</span><span class=ws> </span><span class=p1>aspect-ratio</span><span class=p0>:</span><span class=ws> </span><span class=s1>1/1</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span><span class=ws> </span><span class=s1>var(--black)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>50%</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>box-shadow</span><span class=p0>:</span><span class=ws> </span><span class=s1>65px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>var(--black)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>animation</span><span class=p0>:</span><span class=ws> </span><span class=s1>centerPersonEyes</span><span class=ws> </span><span class=s1>var(--animation)</span><span class=p0>;</span>
<span class=p0>}</span>
<span class=p0>@keyframes</span><span class=ws> </span><span class=p1>centerPersonEyes</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>0%,</span><span class=ws> </span><span class=p1>20%,</span><span class=ws> </span><span class=p1>80%,</span><span class=ws> </span><span class=p1>100%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>30%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>2px</span><span class=ws> </span><span class=s1>5px</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>40%,</span><span class=ws> </span><span class=p1>70%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>15px</span><span class=ws> </span><span class=s1>-10px</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>hair</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_center</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__face</span><span class=p0>::</span><span class=p1>before</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>-85px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>-20px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>330px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>120px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>100%</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>box-shadow</span><span class=p0>:</span><span class=ws> </span><span class=s1>inset</span><span class=ws> </span><span class=s1>120px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>-50px</span><span class=ws> </span><span class=s1>var(--yellow)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>animation</span><span class=p0>:</span><span class=ws> </span><span class=s1>centerPersonForelock</span><span class=ws> </span><span class=s1>var(--animation)</span><span class=p0>;</span>
<span class=p0>}</span>
<span class=p0>@keyframes</span><span class=ws> </span><span class=p1>centerPersonForelock</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>0%,</span><span class=ws> </span><span class=p1>20%,</span><span class=ws> </span><span class=p1>80%,</span><span class=ws> </span><span class=p1>100%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>30%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>-5px</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>40%,</span><span class=ws> </span><span class=p1>70%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-12px</span><span class=ws> </span><span class=s1>-2px</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>glasses</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_center</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__face</span><span class=p0>::</span><span class=p1>after</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>-25px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>-28px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>60px</span><span class=p0>;</span><span class=ws> </span><span class=p1>aspect-ratio</span><span class=p0>:</span><span class=ws> </span><span class=s1>1/1</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border</span><span class=p0>:</span><span class=ws> </span><span class=s1>2px</span><span class=ws> </span><span class=s1>solid</span><span class=ws> </span><span class=s1>var(--blue)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>50%</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>filter</span><span class=p0>:</span><span class=ws> </span><span class=s1>drop-shadow(75px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>var(--blue))</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>animation</span><span class=p0>:</span><span class=ws> </span><span class=s1>centerPersonGlasses</span><span class=ws> </span><span class=s1>var(--animation)</span><span class=p0>;</span>
<span class=p0>}</span>
<span class=p0>@keyframes</span><span class=ws> </span><span class=p1>centerPersonGlasses</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>0%,</span><span class=ws> </span><span class=p1>30%,</span><span class=ws> </span><span class=p1>80%,</span><span class=ws> </span><span class=p1>100%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>40%,</span><span class=ws> </span><span class=p1>70%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-5px</span><span class=ws> </span><span class=s1>5px</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>



<span class=c0>/*</span><span class=ws> </span><span class=c0>RIGHT</span><span class=ws> </span><span class=c0>PERSON</span><span class=ws> </span><span class=c0>*/</span>
<span class=c0>/*</span><span class=ws> </span><span class=c0>coat</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_right</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>50%</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>50%</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>224px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>69px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>line</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(125deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>120px,</span><span class=ws> </span><span class=s1>var(--light-blue)</span><span class=ws> </span><span class=s1>121px,</span><span class=ws> </span><span class=s1>var(--light-blue)</span><span class=ws> </span><span class=s1>122px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>123px)</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>21px</span><span class=ws> </span><span class=s1>no-repeat,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>fabric</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>conic-gradient(from</span><span class=ws> </span><span class=s1>141deg</span><span class=ws> </span><span class=s1>at</span><span class=ws> </span><span class=s1>75%</span><span class=ws> </span><span class=s1>0%,</span><span class=ws> </span><span class=s1>var(--blue)</span><span class=ws> </span><span class=s1>107deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>0)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-85px</span><span class=ws> </span><span class=s1>60px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>--animation-slow</span><span class=p0>:</span><span class=ws> </span><span class=s1>6s</span><span class=ws> </span><span class=s1>ease</span><span class=ws> </span><span class=s1>infinite</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>--animation-fast</span><span class=p0>:</span><span class=ws> </span><span class=s1>1.5s</span><span class=ws> </span><span class=s1>ease</span><span class=ws> </span><span class=s1>infinite</span><span class=p0>;</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>collar</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_right</span><span class=p0>::</span><span class=p1>before</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>68px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>-1px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>198px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>51px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span><span class=ws> </span><span class=s1>linear-gradient(196deg,</span><span class=ws> </span><span class=s1>var(--white)</span><span class=ws> </span><span class=s1>54%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>0)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>20px</span><span class=ws> </span><span class=s1>31px</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>transform-origin</span><span class=p0>:</span><span class=ws> </span><span class=s1>top</span><span class=ws> </span><span class=s1>left</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-38deg</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>z-index</span><span class=p0>:</span><span class=ws> </span><span class=s1>1</span><span class=p0>;</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>line</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_right</span><span class=p0>::</span><span class=p1>after</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>42px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>46px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>154px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>2px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span><span class=ws> </span><span class=s1>var(--light-red)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>transform-origin</span><span class=p0>:</span><span class=ws> </span><span class=s1>top</span><span class=ws> </span><span class=s1>left</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-28deg</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>z-index</span><span class=p0>:</span><span class=ws> </span><span class=s1>1</span><span class=p0>;</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>neck</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_right</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__neck</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>-94px</span><span class=p0>;</span><span class=ws> </span><span class=p1>right</span><span class=p0>:</span><span class=ws> </span><span class=s1>126px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>104px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>87px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>line</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(120deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>calc(55%</span><span class=ws> </span><span class=s1>-</span><span class=ws> </span><span class=s1>1px),</span><span class=ws> </span><span class=s1>var(--dark-skin)</span><span class=ws> </span><span class=s1>55%,</span><span class=ws> </span><span class=s1>var(--dark-skin)</span><span class=ws> </span><span class=s1>calc(55%</span><span class=ws> </span><span class=s1>+</span><span class=ws> </span><span class=s1>1px),</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>calc(55%</span><span class=ws> </span><span class=s1>+</span><span class=ws> </span><span class=s1>2px))</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>9px</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>100%</span><span class=ws> </span><span class=s1>63px</span><span class=ws> </span><span class=s1>no-repeat,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>skin</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>conic-gradient(from</span><span class=ws> </span><span class=s1>20deg</span><span class=ws> </span><span class=s1>at</span><span class=ws> </span><span class=s1>13%</span><span class=ws> </span><span class=s1>58%,</span><span class=ws> </span><span class=s1>var(--dark-skin)</span><span class=ws> </span><span class=s1>8%,</span><span class=ws> </span><span class=s1>var(--skin)</span><span class=ws> </span><span class=s1>8%</span><span class=ws> </span><span class=s1>50%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>0)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>transform-origin</span><span class=p0>:</span><span class=ws> </span><span class=s1>top</span><span class=ws> </span><span class=s1>right</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-30deg</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>animation</span><span class=p0>:</span><span class=ws> </span><span class=s1>rightPersonNeck</span><span class=ws> </span><span class=s1>var(--animation-fast)</span><span class=p0>;</span>
<span class=p0>}</span>
<span class=p0>@keyframes</span><span class=ws> </span><span class=p1>rightPersonNeck</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>0%,</span><span class=ws> </span><span class=p1>100%</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>background-position</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>9px,</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>50%</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>background-position</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>9px,</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>8px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>hair</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_right</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__neck</span><span class=p0>::</span><span class=p1>before</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>-177px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>38px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>110px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>110px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span><span class=ws> </span><span class=s1>var(--dark-blue)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>50%</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>box-shadow</span><span class=p0>:</span><span class=ws> </span><span class=s1>inset</span><span class=ws> </span><span class=s1>5px</span><span class=ws> </span><span class=s1>40px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>-10px</span><span class=ws> </span><span class=s1>var(--blue)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>animation</span><span class=p0>:</span><span class=ws> </span><span class=s1>rightPersonHair</span><span class=ws> </span><span class=s1>var(--animation-fast)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>animation-delay</span><span class=p0>:</span><span class=ws> </span><span class=s1>0.08s</span><span class=p0>;</span>
<span class=p0>}</span>
<span class=p0>@keyframes</span><span class=ws> </span><span class=p1>rightPersonHair</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>0%,</span><span class=ws> </span><span class=p1>100%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>50%</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-15px</span><span class=ws> </span><span class=s1>8px</span><span class=p0>;</span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>ear</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_right</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__neck</span><span class=p0>::</span><span class=p1>after</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>-39px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>89px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>48px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>48px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>pinna</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>conic-gradient(from</span><span class=ws> </span><span class=s1>180deg,</span><span class=ws> </span><span class=s1>var(--skin)</span><span class=ws> </span><span class=s1>90deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>0),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>radial-gradient(transparent</span><span class=ws> </span><span class=s1>8px,</span><span class=ws> </span><span class=s1>var(--dark-skin)</span><span class=ws> </span><span class=s1>9px,</span><span class=ws> </span><span class=s1>var(--dark-skin)</span><span class=ws> </span><span class=s1>10px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>11px),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>skin</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(90deg,</span><span class=ws> </span><span class=s1>var(--skin)</span><span class=ws> </span><span class=s1>59%,</span><span class=ws> </span><span class=s1>var(--light-skin)</span><span class=ws> </span><span class=s1>calc(59%</span><span class=ws> </span><span class=s1>+</span><span class=ws> </span><span class=s1>1px))</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>50%</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>30deg</span><span class=p0>;</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>head</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_right</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__head</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>-114px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>-17px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>150px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>106px</span><span class=p0>;</span>
<span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>shadow</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span><span class=ws> </span><span class=s1>radial-gradient(circle,</span><span class=ws> </span><span class=s1>var(--skin)</span><span class=ws> </span><span class=s1>70%,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>0)</span><span class=ws> </span><span class=s1>-11px</span><span class=ws> </span><span class=s1>59px</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>160px</span><span class=ws> </span><span class=s1>160px</span><span class=ws> </span><span class=s1>no-repeat,</span><span class=ws> </span><span class=s1>var(--light-skin)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>60%</span><span class=ws> </span><span class=s1>40%</span><span class=ws> </span><span class=s1>20%</span><span class=ws> </span><span class=s1>20%</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>70%</span><span class=ws> </span><span class=s1>70%</span><span class=ws> </span><span class=s1>20%</span><span class=ws> </span><span class=s1>20%</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>transform-origin</span><span class=p0>:</span><span class=ws> </span><span class=s1>bottom</span><span class=ws> </span><span class=s1>right</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>animation</span><span class=p0>:</span><span class=ws> </span><span class=s1>rightPersonHead</span><span class=ws> </span><span class=s1>var(--animation-fast)</span><span class=p0>;</span>
<span class=p0>}</span>
<span class=p0>@keyframes</span><span class=ws> </span><span class=p1>rightPersonHead</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>0%,</span><span class=ws> </span><span class=p1>100%</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-15deg</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-3px</span><span class=ws> </span><span class=s1>3px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>50%</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-20deg</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>hair</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_right</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__head</span><span class=p0>::</span><span class=p1>before</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>42px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>82px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>76px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>71px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>line</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>linear-gradient(93deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>63px,</span><span class=ws> </span><span class=s1>var(--blue)</span><span class=ws> </span><span class=s1>64px,</span><span class=ws> </span><span class=s1>var(--blue)</span><span class=ws> </span><span class=s1>65px,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>66px)</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>100%</span><span class=ws> </span><span class=s1>57px</span><span class=ws> </span><span class=s1>no-repeat,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>hair</span><span class=ws> </span><span class=c0>*/</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=s1>conic-gradient(from</span><span class=ws> </span><span class=s1>59deg</span><span class=ws> </span><span class=s1>at</span><span class=ws> </span><span class=s1>2%</span><span class=ws> </span><span class=s1>60%,</span><span class=ws> </span><span class=s1>var(--dark-blue)</span><span class=ws> </span><span class=s1>63deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>64deg)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>17px</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>transform-origin</span><span class=p0>:</span><span class=ws> </span><span class=s1>top</span><span class=ws> </span><span class=s1>left</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-15deg</span><span class=p0>;</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>smile</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_right</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__head</span><span class=p0>::</span><span class=p1>after</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>27px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>13px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>30px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>13px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>60%</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>100%</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-color</span><span class=p0>:</span><span class=ws> </span><span class=s1>var(--grey)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-width</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>2px</span><span class=ws> </span><span class=s1>2px</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-style</span><span class=p0>:</span><span class=ws> </span><span class=s1>solid</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>transform-origin</span><span class=p0>:</span><span class=ws> </span><span class=s1>top</span><span class=ws> </span><span class=s1>left</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>45deg</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>animation</span><span class=p0>:</span><span class=ws> </span><span class=s1>rightPersonSmile</span><span class=ws> </span><span class=s1>var(--animation-slow)</span><span class=p0>;</span>
<span class=p0>}</span>
<span class=p0>@keyframes</span><span class=ws> </span><span class=p1>rightPersonSmile</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>0%,</span><span class=ws> </span><span class=p1>50%,</span><span class=ws> </span><span class=p1>100%</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>60%</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>100%</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>scale</span><span class=p0>:</span><span class=ws> </span><span class=s1>1</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>45deg</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>55%,</span><span class=ws> </span><span class=p1>95%</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>100%</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>100%</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>scale</span><span class=p0>:</span><span class=ws> </span><span class=s1>0.8</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>translate</span><span class=p0>:</span><span class=ws> </span><span class=s1>-1px</span><span class=ws> </span><span class=s1>8px</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>35deg</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>brow</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_right</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__face</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>26px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>63px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>51px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>5px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span><span class=ws> </span><span class=s1>var(--dark-blue)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>rotate</span><span class=p0>:</span><span class=ws> </span><span class=s1>45deg</span><span class=p0>;</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>eye</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_right</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__face</span><span class=p0>::</span><span class=p1>before</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>11px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>0px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>25px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>12px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span><span class=ws> </span><span class=s1>linear-gradient(90deg,</span><span class=ws> </span><span class=s1>var(--black)</span><span class=ws> </span><span class=s1>50%,</span><span class=ws> </span><span class=s1>var(--white)</span><span class=ws> </span><span class=s1>50%)</span><span class=ws> </span><span class=s1>50%</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>200%</span><span class=ws> </span><span class=s1>100%</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>99em</span><span class=ws> </span><span class=s1>99em</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>animation</span><span class=p0>:</span><span class=ws> </span><span class=s1>rightPersonEye</span><span class=ws> </span><span class=s1>var(--animation-slow)</span><span class=p0>;</span>
<span class=p0>}</span>
<span class=p0>@keyframes</span><span class=ws> </span><span class=p1>rightPersonEye</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>0%,</span><span class=ws> </span><span class=p1>50%,</span><span class=ws> </span><span class=p1>100%</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>background-position</span><span class=p0>:</span><span class=ws> </span><span class=s1>50%</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>99em</span><span class=ws> </span><span class=s1>99em</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>scale</span><span class=p0>:</span><span class=ws> </span><span class=s1>1</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>52%,</span><span class=ws> </span><span class=p1>98%</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>background-position</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>scale</span><span class=p0>:</span><span class=ws> </span><span class=s1>1</span><span class=ws> </span><span class=s1>0.2</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>/*</span><span class=ws> </span><span class=c0>nose</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>.</span><span class=p1>person_right</span><span class=ws> </span><span class=p0>.</span><span class=p1>person__face</span><span class=p0>::</span><span class=p1>after</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>top</span><span class=p0>:</span><span class=ws> </span><span class=s1>16px</span><span class=p0>;</span><span class=ws> </span><span class=p1>left</span><span class=p0>:</span><span class=ws> </span><span class=s1>-34px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>24px</span><span class=p0>;</span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s1>36px</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>background</span><span class=p0>:</span><span class=ws> </span><span class=s1>conic-gradient(from</span><span class=ws> </span><span class=s1>170deg</span><span class=ws> </span><span class=s1>at</span><span class=ws> </span><span class=s1>73%</span><span class=ws> </span><span class=s1>0%,</span><span class=ws> </span><span class=s1>var(--dark-skin)</span><span class=ws> </span><span class=s1>38deg,</span><span class=ws> </span><span class=s1>transparent</span><span class=ws> </span><span class=s1>0)</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>border-radius</span><span class=p0>:</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>4px</span><span class=p0>;</span>
<span class=p0>}</span></code></pre><pre aria-labelledby=dockerfile class=sh hidden><code><span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>NOTE:</span><span class=ws> </span><span class=c0>THIS</span><span class=ws> </span><span class=c0>DOCKERFILE</span><span class=ws> </span><span class=c0>IS</span><span class=ws> </span><span class=c0>GENERATED</span><span class=ws> </span><span class=c0>VIA</span><span class=ws> </span><span class=c0>"update.sh"</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>PLEASE</span><span class=ws> </span><span class=c0>DO</span><span class=ws> </span><span class=c0>NOT</span><span class=ws> </span><span class=c0>EDIT</span><span class=ws> </span><span class=c0>IT</span><span class=ws> </span><span class=c0>DIRECTLY.</span>
<span class=c0>#</span>
<span class=p0>FROM</span><span class=ws> </span><span class=p1>nginx:1.24.0-alpine-slim</span>

<span class=p0>ENV</span><span class=ws> </span><span class=p1>NJS_VERSION</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>0.8.0</span>

<span class=p0>RUN</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>-x</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>apkArch=</span><span class=p1>"$(cat</span><span class=ws> </span><span class=p1>/etc/apk/arch)"</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>nginxPackages=</span><span class=p1>"</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>nginx=${NGINX_VERSION}-r${PKG_RELEASE}</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>nginx-module-xslt=${NGINX_VERSION}-r${PKG_RELEASE}</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>nginx-module-geoip=${NGINX_VERSION}-r${PKG_RELEASE}</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>nginx-module-image-filter=${NGINX_VERSION}-r${PKG_RELEASE}</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>nginx-module-njs=${NGINX_VERSION}.${NJS_VERSION}-r${PKG_RELEASE}</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>"</span><span class=ws> </span><span class=p1>\</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>install</span><span class=ws> </span><span class=c0>prerequisites</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>public</span><span class=ws> </span><span class=c0>key</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>pkg-oss</span><span class=ws> </span><span class=c0>checks</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>apk</span><span class=ws> </span><span class=p1>add</span><span class=ws> </span><span class=p1>--no-cache</span><span class=ws> </span><span class=p1>--virtual</span><span class=ws> </span><span class=p1>.checksum-deps</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>openssl</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>case</span><span class=ws> </span><span class=p1>"$apkArch"</span><span class=ws> </span><span class=p1>in</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>x86_64|aarch64)</span><span class=ws> </span><span class=p1>\</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>arches</span><span class=ws> </span><span class=c0>officially</span><span class=ws> </span><span class=c0>built</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>upstream</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>-x</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>KEY_SHA512=</span><span class=p1>"e09fa32f0a0eab2b879ccbbc4d0e4fb9751486eedda75e35fac65802cc9faa266425edf83e261137a2f4d16281ce2c1a5f4502930fe75154723da014214f0655"</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>wget</span><span class=ws> </span><span class=p1>-O</span><span class=ws> </span><span class=p1>/tmp/nginx_signing.rsa.pub</span><span class=ws> </span><span class=p1>https://nginx.org/keys/nginx_signing.rsa.pub</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>if</span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=p1>"$KEY_SHA512</span><span class=ws> </span><span class=p1>*/tmp/nginx_signing.rsa.pub"</span><span class=ws> </span><span class=p1>|</span><span class=ws> </span><span class=p1>sha512sum</span><span class=ws> </span><span class=p1>-c</span><span class=ws> </span><span class=p1>-;</span><span class=ws> </span><span class=p1>then</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=p1>"key</span><span class=ws> </span><span class=p1>verification</span><span class=ws> </span><span class=p1>succeeded!"</span><span class=p1>;</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mv</span><span class=ws> </span><span class=p1>/tmp/nginx_signing.rsa.pub</span><span class=ws> </span><span class=p1>/etc/apk/keys/;</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>else</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=p1>"key</span><span class=ws> </span><span class=p1>verification</span><span class=ws> </span><span class=p1>failed!"</span><span class=p1>;</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>exit</span><span class=ws> </span><span class=p1>1;</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>fi</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>apk</span><span class=ws> </span><span class=p1>add</span><span class=ws> </span><span class=p1>-X</span><span class=ws> </span><span class=p1>"https://nginx.org/packages/alpine/v$(egrep</span><span class=ws> </span><span class=p1>-o</span><span class=ws> </span><span class=p1>'^[0-9]+\.[0-9]+'</span><span class=ws> </span><span class=p1>/etc/alpine-release)/main"</span><span class=ws> </span><span class=p1>--no-cache</span><span class=ws> </span><span class=p1>$nginxPackages</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>;;</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>*)</span><span class=ws> </span><span class=p1>\</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>we're</span><span class=ws> </span><span class=c0>on</span><span class=ws> </span><span class=c0>an</span><span class=ws> </span><span class=c0>architecture</span><span class=ws> </span><span class=c0>upstream</span><span class=ws> </span><span class=c0>doesn't</span><span class=ws> </span><span class=c0>officially</span><span class=ws> </span><span class=c0>build</span><span class=ws> </span><span class=c0>for</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>let's</span><span class=ws> </span><span class=c0>build</span><span class=ws> </span><span class=c0>binaries</span><span class=ws> </span><span class=c0>from</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>published</span><span class=ws> </span><span class=c0>packaging</span><span class=ws> </span><span class=c0>sources</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>-x</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>tempDir=</span><span class=p1>"$(mktemp</span><span class=ws> </span><span class=p1>-d)"</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>chown</span><span class=ws> </span><span class=p1>nobody:nobody</span><span class=ws> </span><span class=p1>$tempDir</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>apk</span><span class=ws> </span><span class=p1>add</span><span class=ws> </span><span class=p1>--no-cache</span><span class=ws> </span><span class=p1>--virtual</span><span class=ws> </span><span class=p1>.build-deps</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>gcc</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>libc-dev</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>make</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>openssl-dev</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>pcre2-dev</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>zlib-dev</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>linux-headers</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>libxslt-dev</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>gd-dev</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>geoip-dev</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>libedit-dev</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>bash</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>alpine-sdk</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>findutils</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>su</span><span class=ws> </span><span class=p1>nobody</span><span class=ws> </span><span class=p1>-s</span><span class=ws> </span><span class=p1>/bin/sh</span><span class=ws> </span><span class=p1>-c</span><span class=ws> </span><span class=p1>"</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>export</span><span class=ws> </span><span class=p1>HOME=${tempDir}</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>cd</span><span class=ws> </span><span class=p1>${tempDir}</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>curl</span><span class=ws> </span><span class=p1>-f</span><span class=ws> </span><span class=p1>-O</span><span class=ws> </span><span class=p1>https://hg.nginx.org/pkg-oss/archive/e5d85b3424bb.tar.gz</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>PKGOSSCHECKSUM=\"4f33347bf05e7d7dd42a52b6e7af7ec21e3ed71df05a8ec16dd1228425f04e4318d88b1340370ccb6ad02cde590fc102094ddffbb1fc86d2085295a43f02f67b</span><span class=ws> </span><span class=p1>*e5d85b3424bb.tar.gz\"</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>if</span><span class=ws> </span><span class=p1>[</span><span class=ws> </span><span class=p1>\"\$(openssl</span><span class=ws> </span><span class=p1>sha512</span><span class=ws> </span><span class=p1>-r</span><span class=ws> </span><span class=p1>e5d85b3424bb.tar.gz)\"</span><span class=ws> </span><span class=p1>=</span><span class=ws> </span><span class=p1>\"\$PKGOSSCHECKSUM\"</span><span class=ws> </span><span class=p1>];</span><span class=ws> </span><span class=p1>then</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=p1>\"pkg-oss</span><span class=ws> </span><span class=p1>tarball</span><span class=ws> </span><span class=p1>checksum</span><span class=ws> </span><span class=p1>verification</span><span class=ws> </span><span class=p1>succeeded!\";</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>else</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=p1>\"pkg-oss</span><span class=ws> </span><span class=p1>tarball</span><span class=ws> </span><span class=p1>checksum</span><span class=ws> </span><span class=p1>verification</span><span class=ws> </span><span class=p1>failed!\";</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>exit</span><span class=ws> </span><span class=p1>1;</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>fi</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>tar</span><span class=ws> </span><span class=p1>xzvf</span><span class=ws> </span><span class=p1>e5d85b3424bb.tar.gz</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>cd</span><span class=ws> </span><span class=p1>pkg-oss-e5d85b3424bb</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>cd</span><span class=ws> </span><span class=p1>alpine</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>make</span><span class=ws> </span><span class=p1>module-geoip</span><span class=ws> </span><span class=p1>module-image-filter</span><span class=ws> </span><span class=p1>module-njs</span><span class=ws> </span><span class=p1>module-xslt</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>apk</span><span class=ws> </span><span class=p1>index</span><span class=ws> </span><span class=p1>-o</span><span class=ws> </span><span class=p1>${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz</span><span class=ws> </span><span class=p1>${tempDir}/packages/alpine/${apkArch}/*.apk</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>abuild-sign</span><span class=ws> </span><span class=p1>-k</span><span class=ws> </span><span class=p1>${tempDir}/.abuild/abuild-key.rsa</span><span class=ws> </span><span class=p1>${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>"</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>cp</span><span class=ws> </span><span class=p1>${tempDir}/.abuild/abuild-key.rsa.pub</span><span class=ws> </span><span class=p1>/etc/apk/keys/</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>apk</span><span class=ws> </span><span class=p1>del</span><span class=ws> </span><span class=p1>--no-network</span><span class=ws> </span><span class=p1>.build-deps</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>apk</span><span class=ws> </span><span class=p1>add</span><span class=ws> </span><span class=p1>-X</span><span class=ws> </span><span class=p1>${tempDir}/packages/alpine/</span><span class=ws> </span><span class=p1>--no-cache</span><span class=ws> </span><span class=p1>$nginxPackages</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>;;</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>esac</span><span class=ws> </span><span class=p1>\</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>remove</span><span class=ws> </span><span class=c0>checksum</span><span class=ws> </span><span class=c0>deps</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>apk</span><span class=ws> </span><span class=p1>del</span><span class=ws> </span><span class=p1>--no-network</span><span class=ws> </span><span class=p1>.checksum-deps</span><span class=ws> </span><span class=p1>\</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>if</span><span class=ws> </span><span class=c0>we</span><span class=ws> </span><span class=c0>have</span><span class=ws> </span><span class=c0>leftovers</span><span class=ws> </span><span class=c0>from</span><span class=ws> </span><span class=c0>building,</span><span class=ws> </span><span class=c0>let's</span><span class=ws> </span><span class=c0>purge</span><span class=ws> </span><span class=c0>them</span><span class=ws> </span><span class=c0>(including</span><span class=ws> </span><span class=c0>extra,</span><span class=ws> </span><span class=c0>unnecessary</span><span class=ws> </span><span class=c0>build</span><span class=ws> </span><span class=c0>deps)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>if</span><span class=ws> </span><span class=p1>[</span><span class=ws> </span><span class=p1>-n</span><span class=ws> </span><span class=p1>"$tempDir"</span><span class=ws> </span><span class=p1>];</span><span class=ws> </span><span class=p1>then</span><span class=ws> </span><span class=p1>rm</span><span class=ws> </span><span class=p1>-rf</span><span class=ws> </span><span class=p1>"$tempDir"</span><span class=p1>;</span><span class=ws> </span><span class=p1>fi</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>if</span><span class=ws> </span><span class=p1>[</span><span class=ws> </span><span class=p1>-f</span><span class=ws> </span><span class=p1>"/etc/apk/keys/abuild-key.rsa.pub"</span><span class=ws> </span><span class=p1>];</span><span class=ws> </span><span class=p1>then</span><span class=ws> </span><span class=p1>rm</span><span class=ws> </span><span class=p1>-f</span><span class=ws> </span><span class=p1>/etc/apk/keys/abuild-key.rsa.pub;</span><span class=ws> </span><span class=p1>fi</span><span class=ws> </span><span class=p1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>if</span><span class=ws> </span><span class=p1>[</span><span class=ws> </span><span class=p1>-f</span><span class=ws> </span><span class=p1>"/etc/apk/keys/nginx_signing.rsa.pub"</span><span class=ws> </span><span class=p1>];</span><span class=ws> </span><span class=p1>then</span><span class=ws> </span><span class=p1>rm</span><span class=ws> </span><span class=p1>-f</span><span class=ws> </span><span class=p1>/etc/apk/keys/nginx_signing.rsa.pub;</span><span class=ws> </span><span class=p1>fi</span><span class=ws> </span><span class=p1>\</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>Bring</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>curl</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>ca-certificates</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>make</span><span class=ws> </span><span class=c0>registering</span><span class=ws> </span><span class=c0>on</span><span class=ws> </span><span class=c0>DNS</span><span class=ws> </span><span class=c0>SD</span><span class=ws> </span><span class=c0>easier</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>apk</span><span class=ws> </span><span class=p1>add</span><span class=ws> </span><span class=p1>--no-cache</span><span class=ws> </span><span class=p1>curl</span><span class=ws> </span><span class=p1>ca-certificates</span>
</code></pre><pre aria-labelledby=fish class=sh hidden><code><span class=p0>function</span><span class=ws> </span><span class=p1>fisher</span><span class=ws> </span><span class=p1>--argument-names</span><span class=ws> </span><span class=p1>cmd</span><span class=ws> </span><span class=p1>--description</span><span class=ws> </span><span class=s0>"</span><span class=s1>A</span><span class=ws> </span><span class=s1>plugin</span><span class=ws> </span><span class=s1>manager</span><span class=ws> </span><span class=s1>for</span><span class=ws> </span><span class=s1>Fish</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--query</span><span class=ws> </span><span class=p1>fisher_path</span><span class=ws> </span><span class=p1>||</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>fisher_path</span><span class=ws> </span><span class=p0>$</span><span class=p1>__fish_config_dir</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>fisher_version</span><span class=ws> </span><span class=p1>4.4.4</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>fish_plugins</span><span class=ws> </span><span class=p0>$</span><span class=p1>__fish_config_dir/fish_plugins</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>switch</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>cmd</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>case</span><span class=ws> </span><span class=p1>-v</span><span class=ws> </span><span class=p1>--version</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=s1>fisher,</span><span class=ws> </span><span class=s1>version</span><span class=ws> </span><span class=p0>$</span><span class=p1>fisher_version</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>case</span><span class=ws> </span><span class=s0>""</span><span class=ws> </span><span class=p1>-h</span><span class=ws> </span><span class=p1>--help</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=s1>Usage:</span><span class=ws> </span><span class=s1>fisher</span><span class=ws> </span><span class=s1>install</span><span class=ws> </span><span class=s1>&lt;plugins...></span><span class=ws> </span><span class=ws> </span><span class=s1>Install</span><span class=ws> </span><span class=s1>plugins</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>fisher</span><span class=ws> </span><span class=s1>remove</span><span class=ws> </span><span class=ws> </span><span class=s1>&lt;plugins...></span><span class=ws> </span><span class=ws> </span><span class=s1>Remove</span><span class=ws> </span><span class=s1>installed</span><span class=ws> </span><span class=s1>plugins</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>fisher</span><span class=ws> </span><span class=s1>update</span><span class=ws> </span><span class=ws> </span><span class=s1>&lt;plugins...></span><span class=ws> </span><span class=ws> </span><span class=s1>Update</span><span class=ws> </span><span class=s1>installed</span><span class=ws> </span><span class=s1>plugins</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>fisher</span><span class=ws> </span><span class=s1>update</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>Update</span><span class=ws> </span><span class=s1>all</span><span class=ws> </span><span class=s1>installed</span><span class=ws> </span><span class=s1>plugins</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>fisher</span><span class=ws> </span><span class=s1>list</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>[&lt;regex>]</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>List</span><span class=ws> </span><span class=s1>installed</span><span class=ws> </span><span class=s1>plugins</span><span class=ws> </span><span class=s1>matching</span><span class=ws> </span><span class=s1>regex</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=s1>Options:</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>-v,</span><span class=ws> </span><span class=s1>--version</span><span class=ws> </span><span class=ws> </span><span class=s1>Print</span><span class=ws> </span><span class=s1>version</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>-h,</span><span class=ws> </span><span class=s1>--help</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>Print</span><span class=ws> </span><span class=s1>this</span><span class=ws> </span><span class=s1>help</span><span class=ws> </span><span class=s1>message</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=s1>Variables:</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>\$fisher_path</span><span class=ws> </span><span class=ws> </span><span class=s1>Plugin</span><span class=ws> </span><span class=s1>installation</span><span class=ws> </span><span class=s1>path.</span><span class=ws> </span><span class=s1>Default:</span><span class=ws> </span><span class=p0>$</span><span class=p1>__fish_config_dir</span><span class=s0>"</span><span class=ws> </span><span class=p1>|</span><span class=ws> </span><span class=p1>string</span><span class=ws> </span><span class=p1>replace</span><span class=ws> </span><span class=p1>--regex</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p0>$</span><span class=p1>HOME</span><span class=ws> </span><span class=p1>\~</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>case</span><span class=ws> </span><span class=p1>ls</span><span class=ws> </span><span class=p1>list</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>string</span><span class=ws> </span><span class=p1>match</span><span class=ws> </span><span class=p1>--entire</span><span class=ws> </span><span class=p1>--regex</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>argv</span><span class=s1>[2]</span><span class=s0>"</span><span class=ws> </span><span class=p0>$</span><span class=p1>_fisher_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>case</span><span class=ws> </span><span class=p1>install</span><span class=ws> </span><span class=p1>update</span><span class=ws> </span><span class=p1>remove</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>isatty</span><span class=ws> </span><span class=p1>||</span><span class=ws> </span><span class=p1>read</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>--null</span><span class=ws> </span><span class=p1>--array</span><span class=ws> </span><span class=p1>stdin</span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--append</span><span class=ws> </span><span class=p1>argv</span><span class=ws> </span><span class=p0>$</span><span class=p1>stdin</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>install_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>update_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>remove_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>arg_plugins</span><span class=ws> </span><span class=p0>$</span><span class=p1>argv[2..-1]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>old_plugins</span><span class=ws> </span><span class=p0>$</span><span class=p1>_fisher_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>new_plugins</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>test</span><span class=ws> </span><span class=p1>-e</span><span class=ws> </span><span class=p0>$</span><span class=p1>fish_plugins</span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>file_plugins</span><span class=ws> </span><span class=p1>(string</span><span class=ws> </span><span class=p1>match</span><span class=ws> </span><span class=p1>--regex</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=s0>'</span><span class=s1>^[^\s]+$</span><span class=s0>'</span><span class=ws> </span><span class=p1>&lt;</span><span class=p0>$</span><span class=p1>fish_plugins)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>!</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--query</span><span class=ws> </span><span class=p1>argv[2]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>test</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>cmd</span><span class=s0>"</span><span class=ws> </span><span class=p1>!=</span><span class=ws> </span><span class=p1>update</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=s1>fisher:</span><span class=ws> </span><span class=s1>Not</span><span class=ws> </span><span class=s1>enough</span><span class=ws> </span><span class=s1>arguments</span><span class=ws> </span><span class=s1>for</span><span class=ws> </span><span class=s1>command:</span><span class=ws> </span><span class=s1>\"</span><span class=p0>$</span><span class=p1>cmd</span><span class=s1>\"</span><span class=s0>"</span><span class=ws> </span><span class=p1>>&2</span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>1</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>!</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--query</span><span class=ws> </span><span class=p1>file_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=s1>fisher:</span><span class=ws> </span><span class=s1>\"</span><span class=p0>$</span><span class=p1>fish_plugins</span><span class=s1>\"</span><span class=ws> </span><span class=s1>file</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>found:</span><span class=ws> </span><span class=s1>\"</span><span class=p0>$</span><span class=p1>cmd</span><span class=s1>\"</span><span class=s0>"</span><span class=ws> </span><span class=p1>>&2</span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>1</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>arg_plugins</span><span class=ws> </span><span class=p0>$</span><span class=p1>file_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>plugin</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p0>$</span><span class=p1>arg_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>plugin</span><span class=ws> </span><span class=p1>(test</span><span class=ws> </span><span class=p1>-e</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>plugin</span><span class=s0>"</span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>realpath</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin</span><span class=ws> </span><span class=p1>||</span><span class=ws> </span><span class=p1>string</span><span class=ws> </span><span class=p1>lower</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contains</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>plugin</span><span class=s0>"</span><span class=ws> </span><span class=p0>$</span><span class=p1>new_plugins</span><span class=ws> </span><span class=p1>||</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--append</span><span class=ws> </span><span class=p1>new_plugins</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--query</span><span class=ws> </span><span class=p1>argv[2]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>plugin</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p0>$</span><span class=p1>new_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>contains</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>plugin</span><span class=s0>"</span><span class=ws> </span><span class=p0>$</span><span class=p1>old_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>test</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>cmd</span><span class=s0>"</span><span class=ws> </span><span class=p1>=</span><span class=ws> </span><span class=p1>remove</span><span class=ws> </span><span class=p1>&&</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--append</span><span class=ws> </span><span class=p1>remove_plugins</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin</span><span class=ws> </span><span class=p1>||</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--append</span><span class=ws> </span><span class=p1>update_plugins</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>test</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>cmd</span><span class=s0>"</span><span class=ws> </span><span class=p1>=</span><span class=ws> </span><span class=p1>install</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--append</span><span class=ws> </span><span class=p1>install_plugins</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=s1>fisher:</span><span class=ws> </span><span class=s1>Plugin</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>installed:</span><span class=ws> </span><span class=s1>\"</span><span class=p0>$</span><span class=p1>plugin</span><span class=s1>\"</span><span class=s0>"</span><span class=ws> </span><span class=p1>>&2</span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>1</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>plugin</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p0>$</span><span class=p1>new_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contains</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>plugin</span><span class=s0>"</span><span class=ws> </span><span class=p0>$</span><span class=p1>old_plugins</span><span class=ws> </span><span class=p1>&&</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--append</span><span class=ws> </span><span class=p1>update_plugins</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin</span><span class=ws> </span><span class=p1>||</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--append</span><span class=ws> </span><span class=p1>install_plugins</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>plugin</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p0>$</span><span class=p1>old_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contains</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>plugin</span><span class=s0>"</span><span class=ws> </span><span class=p0>$</span><span class=p1>new_plugins</span><span class=ws> </span><span class=p1>||</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--append</span><span class=ws> </span><span class=p1>remove_plugins</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>pid_list</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>source_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>fetch_plugins</span><span class=ws> </span><span class=p0>$</span><span class=p1>update_plugins</span><span class=ws> </span><span class=p0>$</span><span class=p1>install_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>fish_path</span><span class=ws> </span><span class=p1>(status</span><span class=ws> </span><span class=p1>fish-path)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=p1>(set_color</span><span class=ws> </span><span class=p1>--bold)fisher</span><span class=ws> </span><span class=p0>$</span><span class=p1>cmd</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>$</span><span class=p1>fisher_version(set_color</span><span class=ws> </span><span class=p1>normal)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>plugin</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p0>$</span><span class=p1>fetch_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p0>source</span><span class=ws> </span><span class=p1>(command</span><span class=ws> </span><span class=p1>mktemp</span><span class=ws> </span><span class=p1>-d)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--append</span><span class=ws> </span><span class=p1>source_plugins</span><span class=ws> </span><span class=p0>$</span><span class=p1>source</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>command</span><span class=ws> </span><span class=p1>mkdir</span><span class=ws> </span><span class=p1>-p</span><span class=ws> </span><span class=p0>$</span><span class=p1>source/{completions,conf.d,themes,functions}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>$</span><span class=p1>fish_path</span><span class=ws> </span><span class=p1>--command</span><span class=ws> </span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>if</span><span class=ws> </span><span class=s1>test</span><span class=ws> </span><span class=s1>-e</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>command</span><span class=ws> </span><span class=s1>cp</span><span class=ws> </span><span class=s1>-Rf</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin</span><span class=s1>/*</span><span class=ws> </span><span class=p0>$</span><span class=p1>source</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>set</span><span class=ws> </span><span class=s1>temp</span><span class=ws> </span><span class=s1>(command</span><span class=ws> </span><span class=s1>mktemp</span><span class=ws> </span><span class=s1>-d)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>set</span><span class=ws> </span><span class=s1>repo</span><span class=ws> </span><span class=s1>(string</span><span class=ws> </span><span class=s1>split</span><span class=ws> </span><span class=s1>--</span><span class=ws> </span><span class=s1>\@</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin</span><span class=s1>)</span><span class=ws> </span><span class=s1>||</span><span class=ws> </span><span class=s1>set</span><span class=ws> </span><span class=s1>repo[2]</span><span class=ws> </span><span class=s1>HEAD</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>if</span><span class=ws> </span><span class=s1>set</span><span class=ws> </span><span class=s1>path</span><span class=ws> </span><span class=s1>(string</span><span class=ws> </span><span class=s1>replace</span><span class=ws> </span><span class=s1>--regex</span><span class=ws> </span><span class=s1>--</span><span class=ws> </span><span class=s1>'^(https://)?gitlab.com/'</span><span class=ws> </span><span class=s1>''</span><span class=ws> </span><span class=s1>\$repo[1])</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>set</span><span class=ws> </span><span class=s1>name</span><span class=ws> </span><span class=s1>(string</span><span class=ws> </span><span class=s1>split</span><span class=ws> </span><span class=s1>--</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>\$path)[-1]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>set</span><span class=ws> </span><span class=s1>url</span><span class=ws> </span><span class=s1>https://gitlab.com/\$path/-/archive/\$repo[2]/\$name-\$repo[2].tar.gz</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>set</span><span class=ws> </span><span class=s1>url</span><span class=ws> </span><span class=s1>https://api.github.com/repos/\$repo[1]/tarball/\$repo[2]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>echo</span><span class=ws> </span><span class=s1>Fetching</span><span class=ws> </span><span class=s1>(set_color</span><span class=ws> </span><span class=s1>--underline)\$url(set_color</span><span class=ws> </span><span class=s1>normal)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>if</span><span class=ws> </span><span class=s1>command</span><span class=ws> </span><span class=s1>curl</span><span class=ws> </span><span class=s1>-q</span><span class=ws> </span><span class=s1>--silent</span><span class=ws> </span><span class=s1>-L</span><span class=ws> </span><span class=s1>\$url</span><span class=ws> </span><span class=s1>|</span><span class=ws> </span><span class=s1>command</span><span class=ws> </span><span class=s1>tar</span><span class=ws> </span><span class=s1>-xzC</span><span class=ws> </span><span class=s1>\$temp</span><span class=ws> </span><span class=s1>-f</span><span class=ws> </span><span class=s1>-</span><span class=ws> </span><span class=s1>2>/dev/null</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>command</span><span class=ws> </span><span class=s1>cp</span><span class=ws> </span><span class=s1>-Rf</span><span class=ws> </span><span class=s1>\$temp/*/*</span><span class=ws> </span><span class=p0>$</span><span class=p1>source</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>echo</span><span class=ws> </span><span class=s1>fisher:</span><span class=ws> </span><span class=s1>Invalid</span><span class=ws> </span><span class=s1>plugin</span><span class=ws> </span><span class=s1>name</span><span class=ws> </span><span class=s1>or</span><span class=ws> </span><span class=s1>host</span><span class=ws> </span><span class=s1>unavailable:</span><span class=ws> </span><span class=s1>\\\"</span><span class=p0>$</span><span class=p1>plugin</span><span class=s1>\\\"</span><span class=ws> </span><span class=s1>>&2</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>command</span><span class=ws> </span><span class=s1>rm</span><span class=ws> </span><span class=s1>-rf</span><span class=ws> </span><span class=p0>$</span><span class=p1>source</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>command</span><span class=ws> </span><span class=s1>rm</span><span class=ws> </span><span class=s1>-rf</span><span class=ws> </span><span class=s1>\$temp</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>set</span><span class=ws> </span><span class=s1>files</span><span class=ws> </span><span class=p0>$</span><span class=p1>source</span><span class=s1>/*</span><span class=ws> </span><span class=s1>&&</span><span class=ws> </span><span class=s1>string</span><span class=ws> </span><span class=s1>match</span><span class=ws> </span><span class=s1>--quiet</span><span class=ws> </span><span class=s1>--regex</span><span class=ws> </span><span class=s1>--</span><span class=ws> </span><span class=s1>.+\.fish\\\$</span><span class=ws> </span><span class=s1>\$files</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=p1>&</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--append</span><span class=ws> </span><span class=p1>pid_list</span><span class=ws> </span><span class=p1>(jobs</span><span class=ws> </span><span class=p1>--last</span><span class=ws> </span><span class=p1>--pid)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>wait</span><span class=ws> </span><span class=p0>$</span><span class=p1>pid_list</span><span class=ws> </span><span class=p1>2>/dev/null</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>plugin</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p0>$</span><span class=p1>fetch_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p0>source</span><span class=ws> </span><span class=p0>$</span><span class=p1>source_plugins[(contains</span><span class=ws> </span><span class=p1>--index</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>plugin</span><span class=s0>"</span><span class=ws> </span><span class=p0>$</span><span class=p1>fetch_plugins)]</span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>test</span><span class=ws> </span><span class=p1>!</span><span class=ws> </span><span class=p1>-e</span><span class=ws> </span><span class=p0>$</span><span class=p1>source</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>index</span><span class=ws> </span><span class=p1>(contains</span><span class=ws> </span><span class=p1>--index</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>plugin</span><span class=s0>"</span><span class=ws> </span><span class=p0>$</span><span class=p1>install_plugins)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--erase</span><span class=ws> </span><span class=p1>install_plugins[</span><span class=p0>$</span><span class=p1>index]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--erase</span><span class=ws> </span><span class=p1>update_plugins[(contains</span><span class=ws> </span><span class=p1>--index</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>plugin</span><span class=s0>"</span><span class=ws> </span><span class=p0>$</span><span class=p1>update_plugins)]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>plugin</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p0>$</span><span class=p1>update_plugins</span><span class=ws> </span><span class=p0>$</span><span class=p1>remove_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>index</span><span class=ws> </span><span class=p1>(contains</span><span class=ws> </span><span class=p1>--index</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>plugin</span><span class=s0>"</span><span class=ws> </span><span class=p0>$</span><span class=p1>_fisher_plugins)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>plugin_files_var</span><span class=ws> </span><span class=p1>_fisher_(string</span><span class=ws> </span><span class=p1>escape</span><span class=ws> </span><span class=p1>--style=var</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin)_files</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>contains</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>plugin</span><span class=s0>"</span><span class=ws> </span><span class=p0>$</span><span class=p1>remove_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>name</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>(string</span><span class=ws> </span><span class=p1>replace</span><span class=ws> </span><span class=p1>--filter</span><span class=ws> </span><span class=p1>--regex</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=s0>'</span><span class=s1>.+/conf\.d/([^/]+)\.fish$</span><span class=s0>'</span><span class=ws> </span><span class=s0>'</span><span class=s1>$1</span><span class=s0>'</span><span class=ws> </span><span class=p1>$</span><span class=p0>$</span><span class=p1>plugin_files_var)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>emit</span><span class=ws> </span><span class=p1>{</span><span class=p0>$</span><span class=p1>name}_uninstall</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>printf</span><span class=ws> </span><span class=s0>"</span><span class=s1>%s\n</span><span class=s0>"</span><span class=ws> </span><span class=p1>Removing\</span><span class=ws> </span><span class=p1>(set_color</span><span class=ws> </span><span class=p1>red</span><span class=ws> </span><span class=p1>--bold)</span><span class=p0>$</span><span class=p1>plugin(set_color</span><span class=ws> </span><span class=p1>normal)</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=p1>$</span><span class=p0>$</span><span class=p1>plugin_files_var</span><span class=ws> </span><span class=p1>|</span><span class=ws> </span><span class=p1>string</span><span class=ws> </span><span class=p1>replace</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p1>\~</span><span class=ws> </span><span class=p1>~</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--erase</span><span class=ws> </span><span class=p1>_fisher_plugins[</span><span class=p0>$</span><span class=p1>index]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>command</span><span class=ws> </span><span class=p1>rm</span><span class=ws> </span><span class=p1>-rf</span><span class=ws> </span><span class=p1>(string</span><span class=ws> </span><span class=p1>replace</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p1>\~</span><span class=ws> </span><span class=p1>~</span><span class=ws> </span><span class=p1>$</span><span class=p0>$</span><span class=p1>plugin_files_var)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>functions</span><span class=ws> </span><span class=p1>--erase</span><span class=ws> </span><span class=p1>(string</span><span class=ws> </span><span class=p1>replace</span><span class=ws> </span><span class=p1>--filter</span><span class=ws> </span><span class=p1>--regex</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=s0>'</span><span class=s1>.+/functions/([^/]+)\.fish$</span><span class=s0>'</span><span class=ws> </span><span class=s0>'</span><span class=s1>$1</span><span class=s0>'</span><span class=ws> </span><span class=p1>$</span><span class=p0>$</span><span class=p1>plugin_files_var)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>name</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>(string</span><span class=ws> </span><span class=p1>replace</span><span class=ws> </span><span class=p1>--filter</span><span class=ws> </span><span class=p1>--regex</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=s0>'</span><span class=s1>.+/completions/([^/]+)\.fish$</span><span class=s0>'</span><span class=ws> </span><span class=s0>'</span><span class=s1>$1</span><span class=s0>'</span><span class=ws> </span><span class=p1>$</span><span class=p0>$</span><span class=p1>plugin_files_var)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>complete</span><span class=ws> </span><span class=p1>--erase</span><span class=ws> </span><span class=p1>--command</span><span class=ws> </span><span class=p0>$</span><span class=p1>name</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--erase</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin_files_var</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--query</span><span class=ws> </span><span class=p1>update_plugins[1]</span><span class=ws> </span><span class=p1>||</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--query</span><span class=ws> </span><span class=p1>install_plugins[1]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>command</span><span class=ws> </span><span class=p1>mkdir</span><span class=ws> </span><span class=p1>-p</span><span class=ws> </span><span class=p0>$</span><span class=p1>fisher_path/{functions,themes,conf.d,completions}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>plugin</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p0>$</span><span class=p1>update_plugins</span><span class=ws> </span><span class=p0>$</span><span class=p1>install_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p0>source</span><span class=ws> </span><span class=p0>$</span><span class=p1>source_plugins[(contains</span><span class=ws> </span><span class=p1>--index</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>plugin</span><span class=s0>"</span><span class=ws> </span><span class=p0>$</span><span class=p1>fetch_plugins)]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>files</span><span class=ws> </span><span class=p0>$</span><span class=p1>source/{functions,themes,conf.d,completions}/*</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>index</span><span class=ws> </span><span class=p1>(contains</span><span class=ws> </span><span class=p1>--index</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin</span><span class=ws> </span><span class=p0>$</span><span class=p1>install_plugins)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>user_files</span><span class=ws> </span><span class=p0>$</span><span class=p1>fisher_path/{functions,themes,conf.d,completions}/*</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>conflict_files</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>file</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>(string</span><span class=ws> </span><span class=p1>replace</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p0>$</span><span class=p1>source/</span><span class=ws> </span><span class=p0>$</span><span class=p1>fisher_path/</span><span class=ws> </span><span class=p0>$</span><span class=p1>files)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contains</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p0>$</span><span class=p1>file</span><span class=ws> </span><span class=p0>$</span><span class=p1>user_files</span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--append</span><span class=ws> </span><span class=p1>conflict_files</span><span class=ws> </span><span class=p0>$</span><span class=p1>file</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--query</span><span class=ws> </span><span class=p1>conflict_files[1]</span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--erase</span><span class=ws> </span><span class=p1>install_plugins[</span><span class=p0>$</span><span class=p1>index]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=p1>-s</span><span class=ws> </span><span class=s0>"</span><span class=s1>fisher:</span><span class=ws> </span><span class=s1>Cannot</span><span class=ws> </span><span class=s1>install</span><span class=ws> </span><span class=s1>\"</span><span class=p0>$</span><span class=p1>plugin</span><span class=s1>\":</span><span class=ws> </span><span class=s1>please</span><span class=ws> </span><span class=s1>remove</span><span class=ws> </span><span class=s1>or</span><span class=ws> </span><span class=s1>move</span><span class=ws> </span><span class=s1>conflicting</span><span class=ws> </span><span class=s1>files</span><span class=ws> </span><span class=s1>first:</span><span class=s0>"</span><span class=ws> </span><span class=p1>\n</span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>conflict_files</span><span class=ws> </span><span class=p1>>&2</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>continue</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>file</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>(string</span><span class=ws> </span><span class=p1>replace</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p0>$</span><span class=p1>source/</span><span class=ws> </span><span class=s0>""</span><span class=ws> </span><span class=p0>$</span><span class=p1>files)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>command</span><span class=ws> </span><span class=p1>cp</span><span class=ws> </span><span class=p1>-RLf</span><span class=ws> </span><span class=p0>$</span><span class=p1>source/</span><span class=p0>$</span><span class=p1>file</span><span class=ws> </span><span class=p0>$</span><span class=p1>fisher_path/</span><span class=p0>$</span><span class=p1>file</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>plugin_files_var</span><span class=ws> </span><span class=p1>_fisher_(string</span><span class=ws> </span><span class=p1>escape</span><span class=ws> </span><span class=p1>--style=var</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin)_files</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--query</span><span class=ws> </span><span class=p1>files[1]</span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--universal</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin_files_var</span><span class=ws> </span><span class=p1>(string</span><span class=ws> </span><span class=p1>replace</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p0>$</span><span class=p1>source</span><span class=ws> </span><span class=p0>$</span><span class=p1>fisher_path</span><span class=ws> </span><span class=p0>$</span><span class=p1>files</span><span class=ws> </span><span class=p1>|</span><span class=ws> </span><span class=p1>string</span><span class=ws> </span><span class=p1>replace</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p1>~</span><span class=ws> </span><span class=p1>\~)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contains</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin</span><span class=ws> </span><span class=p0>$</span><span class=p1>_fisher_plugins</span><span class=ws> </span><span class=p1>||</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--universal</span><span class=ws> </span><span class=p1>--append</span><span class=ws> </span><span class=p1>_fisher_plugins</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contains</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin</span><span class=ws> </span><span class=p0>$</span><span class=p1>install_plugins</span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>event</span><span class=ws> </span><span class=p1>install</span><span class=ws> </span><span class=p1>||</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>event</span><span class=ws> </span><span class=p1>update</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>printf</span><span class=ws> </span><span class=s0>"</span><span class=s1>%s\n</span><span class=s0>"</span><span class=ws> </span><span class=p1>Installing\</span><span class=ws> </span><span class=p1>(set_color</span><span class=ws> </span><span class=p1>--bold)</span><span class=p0>$</span><span class=p1>plugin(set_color</span><span class=ws> </span><span class=p1>normal)</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=p1>$</span><span class=p0>$</span><span class=p1>plugin_files_var</span><span class=ws> </span><span class=p1>|</span><span class=ws> </span><span class=p1>string</span><span class=ws> </span><span class=p1>replace</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p1>\~</span><span class=ws> </span><span class=p1>~</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>file</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>(string</span><span class=ws> </span><span class=p1>match</span><span class=ws> </span><span class=p1>--regex</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=s0>'</span><span class=s1>.+/[^/]+\.fish$</span><span class=s0>'</span><span class=ws> </span><span class=p1>$</span><span class=p0>$</span><span class=p1>plugin_files_var</span><span class=ws> </span><span class=p1>|</span><span class=ws> </span><span class=p1>string</span><span class=ws> </span><span class=p1>replace</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p1>\~</span><span class=ws> </span><span class=p1>~)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>source</span><span class=ws> </span><span class=p0>$</span><span class=p1>file</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>name</span><span class=ws> </span><span class=p1>(string</span><span class=ws> </span><span class=p1>replace</span><span class=ws> </span><span class=p1>--regex</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=s0>'</span><span class=s1>.+conf\.d/([^/]+)\.fish$</span><span class=s0>'</span><span class=ws> </span><span class=s0>'</span><span class=s1>$1</span><span class=s0>'</span><span class=ws> </span><span class=p0>$</span><span class=p1>file)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>emit</span><span class=ws> </span><span class=p1>{</span><span class=p0>$</span><span class=p1>name}_</span><span class=p0>$</span><span class=p1>event</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>command</span><span class=ws> </span><span class=p1>rm</span><span class=ws> </span><span class=p1>-rf</span><span class=ws> </span><span class=p0>$</span><span class=p1>source_plugins</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--query</span><span class=ws> </span><span class=p1>_fisher_plugins[1]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>commit_plugins</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>plugin</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p0>$</span><span class=p1>file_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contains</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p1>(string</span><span class=ws> </span><span class=p1>lower</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin)</span><span class=ws> </span><span class=p1>(string</span><span class=ws> </span><span class=p1>lower</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p0>$</span><span class=p1>_fisher_plugins)</span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--append</span><span class=ws> </span><span class=p1>commit_plugins</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>plugin</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p0>$</span><span class=p1>_fisher_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contains</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p1>(string</span><span class=ws> </span><span class=p1>lower</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin)</span><span class=ws> </span><span class=p1>(string</span><span class=ws> </span><span class=p1>lower</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p0>$</span><span class=p1>commit_plugins)</span><span class=ws> </span><span class=p1>||</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--append</span><span class=ws> </span><span class=p1>commit_plugins</span><span class=ws> </span><span class=p0>$</span><span class=p1>plugin</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>printf</span><span class=ws> </span><span class=s0>"</span><span class=s1>%s\n</span><span class=s0>"</span><span class=ws> </span><span class=p0>$</span><span class=p1>commit_plugins</span><span class=ws> </span><span class=p1>></span><span class=p0>$</span><span class=p1>fish_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--erase</span><span class=ws> </span><span class=p1>_fisher_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>command</span><span class=ws> </span><span class=p1>rm</span><span class=ws> </span><span class=p1>-f</span><span class=ws> </span><span class=p0>$</span><span class=p1>fish_plugins</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>total</span><span class=ws> </span><span class=p1>(count</span><span class=ws> </span><span class=p0>$</span><span class=p1>install_plugins)</span><span class=ws> </span><span class=p1>(count</span><span class=ws> </span><span class=p0>$</span><span class=p1>update_plugins)</span><span class=ws> </span><span class=p1>(count</span><span class=ws> </span><span class=p0>$</span><span class=p1>remove_plugins)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>test</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>total</span><span class=s0>"</span><span class=ws> </span><span class=p1>!=</span><span class=ws> </span><span class=s0>"</span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=s0>"</span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=p1>(string</span><span class=ws> </span><span class=p1>join</span><span class=ws> </span><span class=s0>"</span><span class=s1>,</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=p1>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>test</span><span class=ws> </span><span class=p0>$</span><span class=p1>total[1]</span><span class=ws> </span><span class=p1>=</span><span class=ws> </span><span class=p1>0</span><span class=ws> </span><span class=p1>||</span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=s1>Installed</span><span class=ws> </span><span class=p0>$</span><span class=p1>total</span><span class=s1>[1]</span><span class=s0>"</span><span class=p1>)</span><span class=ws> </span><span class=p1>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>test</span><span class=ws> </span><span class=p0>$</span><span class=p1>total[2]</span><span class=ws> </span><span class=p1>=</span><span class=ws> </span><span class=p1>0</span><span class=ws> </span><span class=p1>||</span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=s1>Updated</span><span class=ws> </span><span class=p0>$</span><span class=p1>total</span><span class=s1>[2]</span><span class=s0>"</span><span class=p1>)</span><span class=ws> </span><span class=p1>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>test</span><span class=ws> </span><span class=p0>$</span><span class=p1>total[3]</span><span class=ws> </span><span class=p1>=</span><span class=ws> </span><span class=p1>0</span><span class=ws> </span><span class=p1>||</span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=s1>Removed</span><span class=ws> </span><span class=p0>$</span><span class=p1>total</span><span class=s1>[3]</span><span class=s0>"</span><span class=p1>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>)</span><span class=ws> </span><span class=p1>plugin/s</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>case</span><span class=ws> </span><span class=p1>\*</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=s1>fisher:</span><span class=ws> </span><span class=s1>Unknown</span><span class=ws> </span><span class=s1>command:</span><span class=ws> </span><span class=s1>\"</span><span class=p0>$</span><span class=p1>cmd</span><span class=s1>\"</span><span class=s0>"</span><span class=ws> </span><span class=p1>>&2</span><span class=ws> </span><span class=p1>&&</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>1</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=p0>end</span>

<span class=p0>if</span><span class=ws> </span><span class=p1>!</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--query</span><span class=ws> </span><span class=p1>_fisher_upgraded_to_4_4</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--universal</span><span class=ws> </span><span class=p1>_fisher_upgraded_to_4_4</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>functions</span><span class=ws> </span><span class=p1>--query</span><span class=ws> </span><span class=p1>_fisher_list</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--query</span><span class=ws> </span><span class=p1>XDG_DATA_HOME[1]</span><span class=ws> </span><span class=p1>||</span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>--local</span><span class=ws> </span><span class=p1>XDG_DATA_HOME</span><span class=ws> </span><span class=p1>~/.local/share</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>command</span><span class=ws> </span><span class=p1>rm</span><span class=ws> </span><span class=p1>-rf</span><span class=ws> </span><span class=p0>$</span><span class=p1>XDG_DATA_HOME/fisher</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>functions</span><span class=ws> </span><span class=p1>--erase</span><span class=ws> </span><span class=p1>_fisher_{list,plugin_parse}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>fisher</span><span class=ws> </span><span class=p1>update</span><span class=ws> </span><span class=p1>>/dev/null</span><span class=ws> </span><span class=p1>2>/dev/null</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>var</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>(set</span><span class=ws> </span><span class=p1>--names</span><span class=ws> </span><span class=p1>|</span><span class=ws> </span><span class=p1>string</span><span class=ws> </span><span class=p1>match</span><span class=ws> </span><span class=p1>--entire</span><span class=ws> </span><span class=p1>--regex</span><span class=ws> </span><span class=s0>'</span><span class=s1>^_fisher_.+_files$</span><span class=s0>'</span><span class=p1>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p0>$</span><span class=p1>var</span><span class=ws> </span><span class=p1>(string</span><span class=ws> </span><span class=p1>replace</span><span class=ws> </span><span class=p1>--</span><span class=ws> </span><span class=p1>~</span><span class=ws> </span><span class=p1>\~</span><span class=ws> </span><span class=p1>$</span><span class=p0>$</span><span class=p1>var)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>functions</span><span class=ws> </span><span class=p1>--erase</span><span class=ws> </span><span class=p1>_fisher_fish_postexec</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=p0>end</span>
</code></pre><pre aria-labelledby=go class=sh hidden><code><span class=p0>package</span><span class=ws> </span><span class=p1>kong</span>

<span class=p0>import</span><span class=ws> </span><span class=p0>(</span>
<span class=wt>	</span><span class=s0>"</span><span class=s1>errors</span><span class=s0>"</span>
<span class=wt>	</span><span class=s0>"</span><span class=s1>fmt</span><span class=s0>"</span>
<span class=wt>	</span><span class=s0>"</span><span class=s1>io</span><span class=s0>"</span>
<span class=wt>	</span><span class=s0>"</span><span class=s1>os</span><span class=s0>"</span>
<span class=wt>	</span><span class=s0>"</span><span class=s1>path/filepath</span><span class=s0>"</span>
<span class=wt>	</span><span class=s0>"</span><span class=s1>reflect</span><span class=s0>"</span>
<span class=wt>	</span><span class=s0>"</span><span class=s1>regexp</span><span class=s0>"</span>
<span class=wt>	</span><span class=s0>"</span><span class=s1>strings</span><span class=s0>"</span>
<span class=p0>)</span>

<span class=p0>var</span><span class=ws> </span><span class=p0>(</span>
<span class=wt>	</span><span class=p1>callbackReturnSignature</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>reflect</span><span class=p0>.</span><span class=p1>TypeOf</span><span class=p0>((*error)(</span><span class=p1>nil</span><span class=p0>)).</span><span class=p1>Elem</span><span class=p0>()</span>
<span class=p0>)</span>

<span class=p0>func</span><span class=ws> </span><span class=p1>failField</span><span class=p0>(</span><span class=p1>parent</span><span class=ws> </span><span class=p1>reflect</span><span class=p0>.</span><span class=p1>Value</span><span class=p0>,</span><span class=ws> </span><span class=p1>field</span><span class=ws> </span><span class=p1>reflect</span><span class=p0>.</span><span class=p1>StructField</span><span class=p0>,</span><span class=ws> </span><span class=p1>format</span><span class=ws> </span><span class=p0>string</span><span class=p0>,</span><span class=ws> </span><span class=p1>args</span><span class=ws> </span><span class=p0>...interface{})</span><span class=ws> </span><span class=p0>error</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>name</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>parent</span><span class=p0>.</span><span class=p1>Type</span><span class=p0>().</span><span class=p1>Name</span><span class=p0>()</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>name</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=s0>""</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>name</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>&lt;anonymous</span><span class=ws> </span><span class=s1>struct></span><span class=s0>"</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>fmt</span><span class=p0>.</span><span class=p1>Errorf</span><span class=p0>(</span><span class=s0>"</span><span class=p0>%s</span><span class=s1>.</span><span class=p0>%s</span><span class=s1>:</span><span class=ws> </span><span class=p0>%s</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p1>name</span><span class=p0>,</span><span class=ws> </span><span class=p1>field</span><span class=p0>.</span><span class=p1>Name</span><span class=p0>,</span><span class=ws> </span><span class=p1>fmt</span><span class=p0>.</span><span class=p1>Sprintf</span><span class=p0>(</span><span class=p1>format</span><span class=p0>,</span><span class=ws> </span><span class=p1>args</span><span class=p0>...))</span>
<span class=p0>}</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>Must</span><span class=ws> </span><span class=c0>creates</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>new</span><span class=ws> </span><span class=c0>Parser</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>panics</span><span class=ws> </span><span class=c0>if</span><span class=ws> </span><span class=c0>there</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>an</span><span class=ws> </span><span class=c0>error.</span>
<span class=p0>func</span><span class=ws> </span><span class=p1>Must</span><span class=p0>(</span><span class=p1>ast</span><span class=ws> </span><span class=p0>interface{},</span><span class=ws> </span><span class=p1>options</span><span class=ws> </span><span class=p0>...</span><span class=p1>Option</span><span class=p0>)</span><span class=ws> </span><span class=p0>*</span><span class=p1>Kong</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>k</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>New</span><span class=p0>(</span><span class=p1>ast</span><span class=p0>,</span><span class=ws> </span><span class=p1>options</span><span class=p0>...)</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>panic</span><span class=p0>(</span><span class=p1>err</span><span class=p0>)</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>k</span>
<span class=p0>}</span>

<span class=p0>type</span><span class=ws> </span><span class=p1>usageOnError</span><span class=ws> </span><span class=p0>int</span>

<span class=p0>const</span><span class=ws> </span><span class=p0>(</span>
<span class=wt>	</span><span class=p1>shortUsage</span><span class=ws> </span><span class=p1>usageOnError</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>iota</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>1</span>
<span class=wt>	</span><span class=p1>fullUsage</span>
<span class=p0>)</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>Kong</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>main</span><span class=ws> </span><span class=c0>parser</span><span class=ws> </span><span class=c0>type.</span>
<span class=p0>type</span><span class=ws> </span><span class=p1>Kong</span><span class=ws> </span><span class=p0>struct</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=c0>//</span><span class=ws> </span><span class=c0>Grammar</span><span class=ws> </span><span class=c0>model.</span>
<span class=wt>	</span><span class=p1>Model</span><span class=ws> </span><span class=p0>*</span><span class=p1>Application</span>

<span class=wt>	</span><span class=c0>//</span><span class=ws> </span><span class=c0>Termination</span><span class=ws> </span><span class=c0>function</span><span class=ws> </span><span class=c0>(defaults</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>os.Exit)</span>
<span class=wt>	</span><span class=p1>Exit</span><span class=ws> </span><span class=p0>func(int)</span>

<span class=wt>	</span><span class=p1>Stdout</span><span class=ws> </span><span class=p1>io</span><span class=p0>.</span><span class=p1>Writer</span>
<span class=wt>	</span><span class=p1>Stderr</span><span class=ws> </span><span class=p1>io</span><span class=p0>.</span><span class=p1>Writer</span>

<span class=wt>	</span><span class=p1>bindings</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>bindings</span>
<span class=wt>	</span><span class=p1>loader</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ConfigurationLoader</span>
<span class=wt>	</span><span class=p1>resolvers</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>[]</span><span class=p1>Resolver</span>
<span class=wt>	</span><span class=p1>registry</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>*</span><span class=p1>Registry</span>
<span class=wt>	</span><span class=p1>ignoreFields</span><span class=ws> </span><span class=p0>[]*</span><span class=p1>regexp</span><span class=p0>.</span><span class=p1>Regexp</span>

<span class=wt>	</span><span class=p1>noDefaultHelp</span><span class=ws> </span><span class=p0>bool</span>
<span class=wt>	</span><span class=p1>usageOnError</span><span class=ws> </span><span class=ws> </span><span class=p1>usageOnError</span>
<span class=wt>	</span><span class=p1>help</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>HelpPrinter</span>
<span class=wt>	</span><span class=p1>shortHelp</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>HelpPrinter</span>
<span class=wt>	</span><span class=p1>helpFormatter</span><span class=ws> </span><span class=p1>HelpValueFormatter</span>
<span class=wt>	</span><span class=p1>helpOptions</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>HelpOptions</span>
<span class=wt>	</span><span class=p1>helpFlag</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>*</span><span class=p1>Flag</span>
<span class=wt>	</span><span class=p1>groups</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>[]</span><span class=p1>Group</span>
<span class=wt>	</span><span class=p1>vars</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Vars</span>
<span class=wt>	</span><span class=p1>flagNamer</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func(</span><span class=p0>string</span><span class=p0>)</span><span class=ws> </span><span class=p0>string</span>

<span class=wt>	</span><span class=c0>//</span><span class=ws> </span><span class=c0>Set</span><span class=ws> </span><span class=c0>temporarily</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>Options.</span><span class=ws> </span><span class=c0>These</span><span class=ws> </span><span class=c0>are</span><span class=ws> </span><span class=c0>applied</span><span class=ws> </span><span class=c0>after</span><span class=ws> </span><span class=c0>build().</span>
<span class=wt>	</span><span class=p1>postBuildOptions</span><span class=ws> </span><span class=p0>[]</span><span class=p1>Option</span>
<span class=wt>	</span><span class=p1>embedded</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>[]</span><span class=p1>embedded</span>
<span class=wt>	</span><span class=p1>dynamicCommands</span><span class=ws> </span><span class=ws> </span><span class=p0>[]*</span><span class=p1>dynamicCommand</span>
<span class=p0>}</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>New</span><span class=ws> </span><span class=c0>creates</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>new</span><span class=ws> </span><span class=c0>Kong</span><span class=ws> </span><span class=c0>parser</span><span class=ws> </span><span class=c0>on</span><span class=ws> </span><span class=c0>grammar.</span>
<span class=c0>//</span>
<span class=c0>//</span><span class=ws> </span><span class=c0>See</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>README</span><span class=ws> </span><span class=c0>(https://github.com/alecthomas/kong)</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>usage</span><span class=ws> </span><span class=c0>instructions.</span>
<span class=p0>func</span><span class=ws> </span><span class=p1>New</span><span class=p0>(</span><span class=p1>grammar</span><span class=ws> </span><span class=p0>interface{},</span><span class=ws> </span><span class=p1>options</span><span class=ws> </span><span class=p0>...</span><span class=p1>Option</span><span class=p0>)</span><span class=ws> </span><span class=p0>(*</span><span class=p1>Kong</span><span class=p0>,</span><span class=ws> </span><span class=p0>error)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>k</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p0>&</span><span class=p1>Kong</span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>Exit</span><span class=p0>:</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>os</span><span class=p0>.</span><span class=p1>Exit</span><span class=p0>,</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>Stdout</span><span class=p0>:</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>os</span><span class=p0>.</span><span class=p1>Stdout</span><span class=p0>,</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>Stderr</span><span class=p0>:</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>os</span><span class=p0>.</span><span class=p1>Stderr</span><span class=p0>,</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>registry</span><span class=p0>:</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>NewRegistry</span><span class=p0>().</span><span class=p1>RegisterDefaults</span><span class=p0>(),</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>vars</span><span class=p0>:</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Vars</span><span class=p0>{},</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>bindings</span><span class=p0>:</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>bindings</span><span class=p0>{},</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>helpFormatter</span><span class=p0>:</span><span class=ws> </span><span class=p1>DefaultHelpValueFormatter</span><span class=p0>,</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>ignoreFields</span><span class=p0>:</span><span class=ws> </span><span class=ws> </span><span class=p1>make</span><span class=p0>([]*</span><span class=p1>regexp</span><span class=p0>.</span><span class=p1>Regexp</span><span class=p0>,</span><span class=ws> </span><span class=p1>0</span><span class=p0>),</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>flagNamer</span><span class=p0>:</span><span class=ws> </span><span class=p0>func(</span><span class=p1>s</span><span class=ws> </span><span class=p0>string</span><span class=p0>)</span><span class=ws> </span><span class=p0>string</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>strings</span><span class=p0>.</span><span class=p1>ToLower</span><span class=p0>(</span><span class=p1>dashedString</span><span class=p0>(</span><span class=p1>s</span><span class=p0>))</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>},</span>
<span class=wt>	</span><span class=p0>}</span>

<span class=wt>	</span><span class=p1>options</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>append</span><span class=p0>(</span><span class=p1>options</span><span class=p0>,</span><span class=ws> </span><span class=p1>Bind</span><span class=p0>(</span><span class=p1>k</span><span class=p0>))</span>

<span class=wt>	</span><span class=p0>for</span><span class=ws> </span><span class=p1>_</span><span class=p0>,</span><span class=ws> </span><span class=p1>option</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p0>range</span><span class=ws> </span><span class=p1>options</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>option</span><span class=p0>.</span><span class=p1>Apply</span><span class=p0>(</span><span class=p1>k</span><span class=p0>);</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>}</span>

<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>help</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>k</span><span class=p0>.</span><span class=p1>help</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>DefaultHelpPrinter</span>
<span class=wt>	</span><span class=p0>}</span>

<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>shortHelp</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>k</span><span class=p0>.</span><span class=p1>shortHelp</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>DefaultShortHelpPrinter</span>
<span class=wt>	</span><span class=p0>}</span>

<span class=wt>	</span><span class=p1>model</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>build</span><span class=p0>(</span><span class=p1>k</span><span class=p0>,</span><span class=ws> </span><span class=p1>grammar</span><span class=p0>)</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>k</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>model</span><span class=p0>.</span><span class=p1>Name</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>filepath</span><span class=p0>.</span><span class=p1>Base</span><span class=p0>(</span><span class=p1>os</span><span class=p0>.</span><span class=p1>Args</span><span class=p0>[</span><span class=p1>0</span><span class=p0>])</span>
<span class=wt>	</span><span class=p1>k</span><span class=p0>.</span><span class=p1>Model</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>model</span>
<span class=wt>	</span><span class=p1>k</span><span class=p0>.</span><span class=p1>Model</span><span class=p0>.</span><span class=p1>HelpFlag</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>helpFlag</span>

<span class=wt>	</span><span class=c0>//</span><span class=ws> </span><span class=c0>Embed</span><span class=ws> </span><span class=c0>any</span><span class=ws> </span><span class=c0>embedded</span><span class=ws> </span><span class=c0>structs.</span>
<span class=wt>	</span><span class=p0>for</span><span class=ws> </span><span class=p1>_</span><span class=p0>,</span><span class=ws> </span><span class=p1>embed</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p0>range</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>embedded</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>tag</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>parseTagString</span><span class=p0>(</span><span class=p1>strings</span><span class=p0>.</span><span class=p1>Join</span><span class=p0>(</span><span class=p1>embed</span><span class=p0>.</span><span class=p1>tags</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=s0>"</span><span class=p0>))</span><span class=ws> </span><span class=c0>//nolint:govet</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>tag</span><span class=p0>.</span><span class=p1>Embed</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>v</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>reflect</span><span class=p0>.</span><span class=p1>Indirect</span><span class=p0>(</span><span class=p1>reflect</span><span class=p0>.</span><span class=p1>ValueOf</span><span class=p0>(</span><span class=p1>embed</span><span class=p0>.</span><span class=p1>strct</span><span class=p0>))</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>node</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>buildNode</span><span class=p0>(</span><span class=p1>k</span><span class=p0>,</span><span class=ws> </span><span class=p1>v</span><span class=p0>,</span><span class=ws> </span><span class=p1>CommandNode</span><span class=p0>,</span><span class=ws> </span><span class=p1>tag</span><span class=p0>,</span><span class=ws> </span><span class=p0>map[</span><span class=p0>string</span><span class=p0>]bool{})</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>for</span><span class=ws> </span><span class=p1>_</span><span class=p0>,</span><span class=ws> </span><span class=p1>child</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p0>range</span><span class=ws> </span><span class=p1>node</span><span class=p0>.</span><span class=p1>Children</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>child</span><span class=p0>.</span><span class=p1>Parent</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>Model</span><span class=p0>.</span><span class=p1>Node</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>k</span><span class=p0>.</span><span class=p1>Model</span><span class=p0>.</span><span class=p1>Children</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>append</span><span class=p0>(</span><span class=p1>k</span><span class=p0>.</span><span class=p1>Model</span><span class=p0>.</span><span class=p1>Children</span><span class=p0>,</span><span class=ws> </span><span class=p1>child</span><span class=p0>)</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>k</span><span class=p0>.</span><span class=p1>Model</span><span class=p0>.</span><span class=p1>Flags</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>append</span><span class=p0>(</span><span class=p1>k</span><span class=p0>.</span><span class=p1>Model</span><span class=p0>.</span><span class=p1>Flags</span><span class=p0>,</span><span class=ws> </span><span class=p1>node</span><span class=p0>.</span><span class=p1>Flags</span><span class=p0>...)</span>
<span class=wt>	</span><span class=p0>}</span>

<span class=wt>	</span><span class=c0>//</span><span class=ws> </span><span class=c0>Synthesise</span><span class=ws> </span><span class=c0>command</span><span class=ws> </span><span class=c0>nodes.</span>
<span class=wt>	</span><span class=p0>for</span><span class=ws> </span><span class=p1>_</span><span class=p0>,</span><span class=ws> </span><span class=p1>dcmd</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p0>range</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>dynamicCommands</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>tag</span><span class=p0>,</span><span class=ws> </span><span class=p1>terr</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>parseTagString</span><span class=p0>(</span><span class=p1>strings</span><span class=p0>.</span><span class=p1>Join</span><span class=p0>(</span><span class=p1>dcmd</span><span class=p0>.</span><span class=p1>tags</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=s0>"</span><span class=p0>))</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>terr</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p1>terr</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>tag</span><span class=p0>.</span><span class=p1>Name</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>dcmd</span><span class=p0>.</span><span class=p1>name</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>tag</span><span class=p0>.</span><span class=p1>Help</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>dcmd</span><span class=p0>.</span><span class=p1>help</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>tag</span><span class=p0>.</span><span class=p1>Group</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>dcmd</span><span class=p0>.</span><span class=p1>group</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>tag</span><span class=p0>.</span><span class=p1>Cmd</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>v</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>reflect</span><span class=p0>.</span><span class=p1>Indirect</span><span class=p0>(</span><span class=p1>reflect</span><span class=p0>.</span><span class=p1>ValueOf</span><span class=p0>(</span><span class=p1>dcmd</span><span class=p0>.</span><span class=p1>cmd</span><span class=p0>))</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>buildChild</span><span class=p0>(</span><span class=p1>k</span><span class=p0>,</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>Model</span><span class=p0>.</span><span class=p1>Node</span><span class=p0>,</span><span class=ws> </span><span class=p1>CommandNode</span><span class=p0>,</span><span class=ws> </span><span class=p1>reflect</span><span class=p0>.</span><span class=p1>Value</span><span class=p0>{},</span><span class=ws> </span><span class=p1>reflect</span><span class=p0>.</span><span class=p1>StructField</span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>Name</span><span class=p0>:</span><span class=ws> </span><span class=p1>dcmd</span><span class=p0>.</span><span class=p1>name</span><span class=p0>,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>Type</span><span class=p0>:</span><span class=ws> </span><span class=p1>v</span><span class=p0>.</span><span class=p1>Type</span><span class=p0>(),</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>},</span><span class=ws> </span><span class=p1>v</span><span class=p0>,</span><span class=ws> </span><span class=p1>tag</span><span class=p0>,</span><span class=ws> </span><span class=p1>dcmd</span><span class=p0>.</span><span class=p1>name</span><span class=p0>,</span><span class=ws> </span><span class=p0>map[</span><span class=p0>string</span><span class=p0>]bool{})</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>}</span>

<span class=wt>	</span><span class=p0>for</span><span class=ws> </span><span class=p1>_</span><span class=p0>,</span><span class=ws> </span><span class=p1>option</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p0>range</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>postBuildOptions</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>option</span><span class=p0>.</span><span class=p1>Apply</span><span class=p0>(</span><span class=p1>k</span><span class=p0>);</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>k</span><span class=p0>.</span><span class=p1>postBuildOptions</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>

<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>interpolate</span><span class=p0>(</span><span class=p1>k</span><span class=p0>.</span><span class=p1>Model</span><span class=p0>.</span><span class=p1>Node</span><span class=p0>);</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span>
<span class=wt>	</span><span class=p0>}</span>

<span class=wt>	</span><span class=p1>k</span><span class=p0>.</span><span class=p1>bindings</span><span class=p0>.</span><span class=p1>add</span><span class=p0>(</span><span class=p1>k</span><span class=p0>.</span><span class=p1>vars</span><span class=p0>)</span>

<span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>k</span><span class=p0>,</span><span class=ws> </span><span class=p1>nil</span>
<span class=p0>}</span>

<span class=p0>type</span><span class=ws> </span><span class=p1>varStack</span><span class=ws> </span><span class=p0>[]</span><span class=p1>Vars</span>

<span class=p0>func</span><span class=ws> </span><span class=p0>(</span><span class=p1>v</span><span class=ws> </span><span class=p0>*</span><span class=p1>varStack</span><span class=p0>)</span><span class=ws> </span><span class=p1>head</span><span class=p0>()</span><span class=ws> </span><span class=p1>Vars</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>(*</span><span class=p1>v</span><span class=p0>)[</span><span class=p1>len</span><span class=p0>(*</span><span class=p1>v</span><span class=p0>)-</span><span class=p1>1</span><span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p0>func</span><span class=ws> </span><span class=p0>(</span><span class=p1>v</span><span class=ws> </span><span class=p0>*</span><span class=p1>varStack</span><span class=p0>)</span><span class=ws> </span><span class=p1>pop</span><span class=p0>()</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>*</span><span class=p1>v</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(*</span><span class=p1>v</span><span class=p0>)[:</span><span class=p1>len</span><span class=p0>(*</span><span class=p1>v</span><span class=p0>)-</span><span class=p1>1</span><span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p0>func</span><span class=ws> </span><span class=p0>(</span><span class=p1>v</span><span class=ws> </span><span class=p0>*</span><span class=p1>varStack</span><span class=p0>)</span><span class=ws> </span><span class=p1>push</span><span class=p0>(</span><span class=p1>vars</span><span class=ws> </span><span class=p1>Vars</span><span class=p0>)</span><span class=ws> </span><span class=p1>Vars</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>len</span><span class=p0>(*</span><span class=p1>v</span><span class=p0>)</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>0</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>vars</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(*</span><span class=p1>v</span><span class=p0>)[</span><span class=p1>len</span><span class=p0>(*</span><span class=p1>v</span><span class=p0>)-</span><span class=p1>1</span><span class=p0>].</span><span class=p1>CloneWith</span><span class=p0>(</span><span class=p1>vars</span><span class=p0>)</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>*</span><span class=p1>v</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>append</span><span class=p0>(*</span><span class=p1>v</span><span class=p0>,</span><span class=ws> </span><span class=p1>vars</span><span class=p0>)</span>
<span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>vars</span>
<span class=p0>}</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>Interpolate</span><span class=ws> </span><span class=c0>variables</span><span class=ws> </span><span class=c0>into</span><span class=ws> </span><span class=c0>model.</span>
<span class=p0>func</span><span class=ws> </span><span class=p0>(</span><span class=p1>k</span><span class=ws> </span><span class=p0>*</span><span class=p1>Kong</span><span class=p0>)</span><span class=ws> </span><span class=p1>interpolate</span><span class=p0>(</span><span class=p1>node</span><span class=ws> </span><span class=p0>*</span><span class=p1>Node</span><span class=p0>)</span><span class=ws> </span><span class=p0>(</span><span class=p1>err</span><span class=ws> </span><span class=p0>error)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>stack</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>varStack</span><span class=p0>{}</span>
<span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>Visit</span><span class=p0>(</span><span class=p1>node</span><span class=p0>,</span><span class=ws> </span><span class=p0>func(</span><span class=p1>node</span><span class=ws> </span><span class=p1>Visitable</span><span class=p0>,</span><span class=ws> </span><span class=p1>next</span><span class=ws> </span><span class=p1>Next</span><span class=p0>)</span><span class=ws> </span><span class=p0>error</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>switch</span><span class=ws> </span><span class=p1>node</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>node</span><span class=p0>.(type)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>case</span><span class=ws> </span><span class=p0>*</span><span class=p1>Node</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>vars</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>stack</span><span class=p0>.</span><span class=p1>push</span><span class=p0>(</span><span class=p1>node</span><span class=p0>.</span><span class=p1>Vars</span><span class=p0>())</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>node</span><span class=p0>.</span><span class=p1>Help</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>interpolate</span><span class=p0>(</span><span class=p1>node</span><span class=p0>.</span><span class=p1>Help</span><span class=p0>,</span><span class=ws> </span><span class=p1>vars</span><span class=p0>,</span><span class=ws> </span><span class=p1>nil</span><span class=p0>)</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>fmt</span><span class=p0>.</span><span class=p1>Errorf</span><span class=p0>(</span><span class=s0>"</span><span class=s1>help</span><span class=ws> </span><span class=s1>for</span><span class=ws> </span><span class=p0>%s</span><span class=s1>:</span><span class=ws> </span><span class=p0>%s</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p1>node</span><span class=p0>.</span><span class=p1>Path</span><span class=p0>(),</span><span class=ws> </span><span class=p1>err</span><span class=p0>)</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>next</span><span class=p0>(</span><span class=p1>nil</span><span class=p0>)</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>stack</span><span class=p0>.</span><span class=p1>pop</span><span class=p0>()</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>err</span>

<span class=wt>	</span><span class=wt>	</span><span class=p0>case</span><span class=ws> </span><span class=p0>*</span><span class=p1>Value</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>next</span><span class=p0>(</span><span class=p1>k</span><span class=p0>.</span><span class=p1>interpolateValue</span><span class=p0>(</span><span class=p1>node</span><span class=p0>,</span><span class=ws> </span><span class=p1>stack</span><span class=p0>.</span><span class=p1>head</span><span class=p0>()))</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>next</span><span class=p0>(</span><span class=p1>nil</span><span class=p0>)</span>
<span class=wt>	</span><span class=p0>})</span>
<span class=p0>}</span>

<span class=p0>func</span><span class=ws> </span><span class=p0>(</span><span class=p1>k</span><span class=ws> </span><span class=p0>*</span><span class=p1>Kong</span><span class=p0>)</span><span class=ws> </span><span class=p1>interpolateValue</span><span class=p0>(</span><span class=p1>value</span><span class=ws> </span><span class=p0>*</span><span class=p1>Value</span><span class=p0>,</span><span class=ws> </span><span class=p1>vars</span><span class=ws> </span><span class=p1>Vars</span><span class=p0>)</span><span class=ws> </span><span class=p0>(</span><span class=p1>err</span><span class=ws> </span><span class=p0>error)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>len</span><span class=p0>(</span><span class=p1>value</span><span class=p0>.</span><span class=p1>Tag</span><span class=p0>.</span><span class=p1>Vars</span><span class=p0>)</span><span class=ws> </span><span class=p0>></span><span class=ws> </span><span class=p1>0</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>vars</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>vars</span><span class=p0>.</span><span class=p1>CloneWith</span><span class=p0>(</span><span class=p1>value</span><span class=p0>.</span><span class=p1>Tag</span><span class=p0>.</span><span class=p1>Vars</span><span class=p0>)</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>varsContributor</span><span class=p0>,</span><span class=ws> </span><span class=p1>ok</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>value</span><span class=p0>.</span><span class=p1>Mapper</span><span class=p0>.(</span><span class=p1>VarsContributor</span><span class=p0>);</span><span class=ws> </span><span class=p1>ok</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>vars</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>vars</span><span class=p0>.</span><span class=p1>CloneWith</span><span class=p0>(</span><span class=p1>varsContributor</span><span class=p0>.</span><span class=p1>Vars</span><span class=p0>(</span><span class=p1>value</span><span class=p0>))</span>
<span class=wt>	</span><span class=p0>}</span>

<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>value</span><span class=p0>.</span><span class=p1>Enum</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>interpolate</span><span class=p0>(</span><span class=p1>value</span><span class=p0>.</span><span class=p1>Enum</span><span class=p0>,</span><span class=ws> </span><span class=p1>vars</span><span class=p0>,</span><span class=ws> </span><span class=p1>nil</span><span class=p0>);</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>fmt</span><span class=p0>.</span><span class=p1>Errorf</span><span class=p0>(</span><span class=s0>"</span><span class=s1>enum</span><span class=ws> </span><span class=s1>for</span><span class=ws> </span><span class=p0>%s</span><span class=s1>:</span><span class=ws> </span><span class=p0>%s</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p1>value</span><span class=p0>.</span><span class=p1>Summary</span><span class=p0>(),</span><span class=ws> </span><span class=p1>err</span><span class=p0>)</span>
<span class=wt>	</span><span class=p0>}</span>

<span class=wt>	</span><span class=p1>updatedVars</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p0>map[</span><span class=p0>string</span><span class=p0>]</span><span class=p0>string</span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=s0>"</span><span class=s1>default</span><span class=s0>"</span><span class=p0>:</span><span class=ws> </span><span class=p1>value</span><span class=p0>.</span><span class=p1>Default</span><span class=p0>,</span>
<span class=wt>	</span><span class=wt>	</span><span class=s0>"</span><span class=s1>enum</span><span class=s0>"</span><span class=p0>:</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>value</span><span class=p0>.</span><span class=p1>Enum</span><span class=p0>,</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>value</span><span class=p0>.</span><span class=p1>Default</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>interpolate</span><span class=p0>(</span><span class=p1>value</span><span class=p0>.</span><span class=p1>Default</span><span class=p0>,</span><span class=ws> </span><span class=p1>vars</span><span class=p0>,</span><span class=ws> </span><span class=p1>nil</span><span class=p0>);</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>fmt</span><span class=p0>.</span><span class=p1>Errorf</span><span class=p0>(</span><span class=s0>"</span><span class=s1>default</span><span class=ws> </span><span class=s1>value</span><span class=ws> </span><span class=s1>for</span><span class=ws> </span><span class=p0>%s</span><span class=s1>:</span><span class=ws> </span><span class=p0>%s</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p1>value</span><span class=p0>.</span><span class=p1>Summary</span><span class=p0>(),</span><span class=ws> </span><span class=p1>err</span><span class=p0>)</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>value</span><span class=p0>.</span><span class=p1>Enum</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>interpolate</span><span class=p0>(</span><span class=p1>value</span><span class=p0>.</span><span class=p1>Enum</span><span class=p0>,</span><span class=ws> </span><span class=p1>vars</span><span class=p0>,</span><span class=ws> </span><span class=p1>nil</span><span class=p0>);</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>fmt</span><span class=p0>.</span><span class=p1>Errorf</span><span class=p0>(</span><span class=s0>"</span><span class=s1>enum</span><span class=ws> </span><span class=s1>value</span><span class=ws> </span><span class=s1>for</span><span class=ws> </span><span class=p0>%s</span><span class=s1>:</span><span class=ws> </span><span class=p0>%s</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p1>value</span><span class=p0>.</span><span class=p1>Summary</span><span class=p0>(),</span><span class=ws> </span><span class=p1>err</span><span class=p0>)</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>value</span><span class=p0>.</span><span class=p1>Flag</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>for</span><span class=ws> </span><span class=p1>i</span><span class=p0>,</span><span class=ws> </span><span class=p1>env</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p0>range</span><span class=ws> </span><span class=p1>value</span><span class=p0>.</span><span class=p1>Flag</span><span class=p0>.</span><span class=p1>Envs</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>value</span><span class=p0>.</span><span class=p1>Flag</span><span class=p0>.</span><span class=p1>Envs</span><span class=p0>[</span><span class=p1>i</span><span class=p0>],</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>interpolate</span><span class=p0>(</span><span class=p1>env</span><span class=p0>,</span><span class=ws> </span><span class=p1>vars</span><span class=p0>,</span><span class=ws> </span><span class=p1>nil</span><span class=p0>);</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>fmt</span><span class=p0>.</span><span class=p1>Errorf</span><span class=p0>(</span><span class=s0>"</span><span class=s1>env</span><span class=ws> </span><span class=s1>value</span><span class=ws> </span><span class=s1>for</span><span class=ws> </span><span class=p0>%s</span><span class=s1>:</span><span class=ws> </span><span class=p0>%s</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p1>value</span><span class=p0>.</span><span class=p1>Summary</span><span class=p0>(),</span><span class=ws> </span><span class=p1>err</span><span class=p0>)</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>value</span><span class=p0>.</span><span class=p1>Tag</span><span class=p0>.</span><span class=p1>Envs</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>value</span><span class=p0>.</span><span class=p1>Flag</span><span class=p0>.</span><span class=p1>Envs</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>updatedVars</span><span class=p0>[</span><span class=s0>"</span><span class=s1>env</span><span class=s0>"</span><span class=p0>]</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>""</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>len</span><span class=p0>(</span><span class=p1>value</span><span class=p0>.</span><span class=p1>Flag</span><span class=p0>.</span><span class=p1>Envs</span><span class=p0>)</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>0</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>updatedVars</span><span class=p0>[</span><span class=s0>"</span><span class=s1>env</span><span class=s0>"</span><span class=p0>]</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>value</span><span class=p0>.</span><span class=p1>Flag</span><span class=p0>.</span><span class=p1>Envs</span><span class=p0>[</span><span class=p1>0</span><span class=p0>]</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>value</span><span class=p0>.</span><span class=p1>Help</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>interpolate</span><span class=p0>(</span><span class=p1>value</span><span class=p0>.</span><span class=p1>Help</span><span class=p0>,</span><span class=ws> </span><span class=p1>vars</span><span class=p0>,</span><span class=ws> </span><span class=p1>updatedVars</span><span class=p0>)</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>fmt</span><span class=p0>.</span><span class=p1>Errorf</span><span class=p0>(</span><span class=s0>"</span><span class=s1>help</span><span class=ws> </span><span class=s1>for</span><span class=ws> </span><span class=p0>%s</span><span class=s1>:</span><span class=ws> </span><span class=p0>%s</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p1>value</span><span class=p0>.</span><span class=p1>Summary</span><span class=p0>(),</span><span class=ws> </span><span class=p1>err</span><span class=p0>)</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span>
<span class=p0>}</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>Provide</span><span class=ws> </span><span class=c0>additional</span><span class=ws> </span><span class=c0>builtin</span><span class=ws> </span><span class=c0>flags,</span><span class=ws> </span><span class=c0>if</span><span class=ws> </span><span class=c0>any.</span>
<span class=p0>func</span><span class=ws> </span><span class=p0>(</span><span class=p1>k</span><span class=ws> </span><span class=p0>*</span><span class=p1>Kong</span><span class=p0>)</span><span class=ws> </span><span class=p1>extraFlags</span><span class=p0>()</span><span class=ws> </span><span class=p0>[]*</span><span class=p1>Flag</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>noDefaultHelp</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>var</span><span class=ws> </span><span class=p1>helpTarget</span><span class=ws> </span><span class=p1>helpValue</span>
<span class=wt>	</span><span class=p1>value</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>reflect</span><span class=p0>.</span><span class=p1>ValueOf</span><span class=p0>(&</span><span class=p1>helpTarget</span><span class=p0>).</span><span class=p1>Elem</span><span class=p0>()</span>
<span class=wt>	</span><span class=p1>helpFlag</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p0>&</span><span class=p1>Flag</span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>Short</span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>h</span><span class=s0>'</span><span class=p0>,</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>Value</span><span class=p0>:</span><span class=ws> </span><span class=p0>&</span><span class=p1>Value</span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>Name</span><span class=p0>:</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>help</span><span class=s0>"</span><span class=p0>,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>Help</span><span class=p0>:</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>Show</span><span class=ws> </span><span class=s1>context-sensitive</span><span class=ws> </span><span class=s1>help.</span><span class=s0>"</span><span class=p0>,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>OrigHelp</span><span class=p0>:</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>Show</span><span class=ws> </span><span class=s1>context-sensitive</span><span class=ws> </span><span class=s1>help.</span><span class=s0>"</span><span class=p0>,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>Target</span><span class=p0>:</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>value</span><span class=p0>,</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>Tag</span><span class=p0>:</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&</span><span class=p1>Tag</span><span class=p0>{},</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>Mapper</span><span class=p0>:</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>registry</span><span class=p0>.</span><span class=p1>ForValue</span><span class=p0>(</span><span class=p1>value</span><span class=p0>),</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>DefaultValue</span><span class=p0>:</span><span class=ws> </span><span class=p1>reflect</span><span class=p0>.</span><span class=p1>ValueOf</span><span class=p0>(</span><span class=p1>false</span><span class=p0>),</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>},</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>helpFlag</span><span class=p0>.</span><span class=p1>Flag</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>helpFlag</span>
<span class=wt>	</span><span class=p1>k</span><span class=p0>.</span><span class=p1>helpFlag</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>helpFlag</span>
<span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p0>[]*</span><span class=p1>Flag</span><span class=p0>{</span><span class=p1>helpFlag</span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>Parse</span><span class=ws> </span><span class=c0>arguments</span><span class=ws> </span><span class=c0>into</span><span class=ws> </span><span class=c0>target.</span>
<span class=c0>//</span>
<span class=c0>//</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>return</span><span class=ws> </span><span class=c0>Context</span><span class=ws> </span><span class=c0>can</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>used</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>further</span><span class=ws> </span><span class=c0>inspect</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>parsed</span><span class=ws> </span><span class=c0>command-line,</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>format</span><span class=ws> </span><span class=c0>help,</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>find</span><span class=ws> </span><span class=c0>the</span>
<span class=c0>//</span><span class=ws> </span><span class=c0>selected</span><span class=ws> </span><span class=c0>command,</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>run</span><span class=ws> </span><span class=c0>command</span><span class=ws> </span><span class=c0>Run()</span><span class=ws> </span><span class=c0>methods,</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>so</span><span class=ws> </span><span class=c0>on.</span><span class=ws> </span><span class=c0>See</span><span class=ws> </span><span class=c0>Context</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>README</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>more</span><span class=ws> </span><span class=c0>information.</span>
<span class=c0>//</span>
<span class=c0>//</span><span class=ws> </span><span class=c0>Will</span><span class=ws> </span><span class=c0>return</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>ParseError</span><span class=ws> </span><span class=c0>if</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>*semantically*</span><span class=ws> </span><span class=c0>invalid</span><span class=ws> </span><span class=c0>command-line</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>encountered</span><span class=ws> </span><span class=c0>(as</span><span class=ws> </span><span class=c0>opposed</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>syntactically</span>
<span class=c0>//</span><span class=ws> </span><span class=c0>invalid</span><span class=ws> </span><span class=c0>one,</span><span class=ws> </span><span class=c0>which</span><span class=ws> </span><span class=c0>will</span><span class=ws> </span><span class=c0>report</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>normal</span><span class=ws> </span><span class=c0>error).</span>
<span class=p0>func</span><span class=ws> </span><span class=p0>(</span><span class=p1>k</span><span class=ws> </span><span class=p0>*</span><span class=p1>Kong</span><span class=p0>)</span><span class=ws> </span><span class=p1>Parse</span><span class=p0>(</span><span class=p1>args</span><span class=ws> </span><span class=p0>[]</span><span class=p0>string</span><span class=p0>)</span><span class=ws> </span><span class=p0>(</span><span class=p1>ctx</span><span class=ws> </span><span class=p0>*</span><span class=p1>Context</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>error)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>ctx</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>Trace</span><span class=p0>(</span><span class=p1>k</span><span class=p0>,</span><span class=ws> </span><span class=p1>args</span><span class=p0>)</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>.</span><span class=p1>Error</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p0>&</span><span class=p1>ParseError</span><span class=p0>{error:</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>.</span><span class=p1>Error</span><span class=p0>,</span><span class=ws> </span><span class=p1>Context</span><span class=p0>:</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>applyHook</span><span class=p0>(</span><span class=p1>ctx</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>BeforeReset</span><span class=s0>"</span><span class=p0>);</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p0>&</span><span class=p1>ParseError</span><span class=p0>{error:</span><span class=ws> </span><span class=p1>err</span><span class=p0>,</span><span class=ws> </span><span class=p1>Context</span><span class=p0>:</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>.</span><span class=p1>Reset</span><span class=p0>();</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p0>&</span><span class=p1>ParseError</span><span class=p0>{error:</span><span class=ws> </span><span class=p1>err</span><span class=p0>,</span><span class=ws> </span><span class=p1>Context</span><span class=p0>:</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>applyHook</span><span class=p0>(</span><span class=p1>ctx</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>BeforeResolve</span><span class=s0>"</span><span class=p0>);</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p0>&</span><span class=p1>ParseError</span><span class=p0>{error:</span><span class=ws> </span><span class=p1>err</span><span class=p0>,</span><span class=ws> </span><span class=p1>Context</span><span class=p0>:</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>.</span><span class=p1>Resolve</span><span class=p0>();</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p0>&</span><span class=p1>ParseError</span><span class=p0>{error:</span><span class=ws> </span><span class=p1>err</span><span class=p0>,</span><span class=ws> </span><span class=p1>Context</span><span class=p0>:</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>applyHook</span><span class=p0>(</span><span class=p1>ctx</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>BeforeApply</span><span class=s0>"</span><span class=p0>);</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p0>&</span><span class=p1>ParseError</span><span class=p0>{error:</span><span class=ws> </span><span class=p1>err</span><span class=p0>,</span><span class=ws> </span><span class=p1>Context</span><span class=p0>:</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>_</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>.</span><span class=p1>Apply</span><span class=p0>();</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p0>&</span><span class=p1>ParseError</span><span class=p0>{error:</span><span class=ws> </span><span class=p1>err</span><span class=p0>,</span><span class=ws> </span><span class=p1>Context</span><span class=p0>:</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>.</span><span class=p1>Validate</span><span class=p0>();</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p0>&</span><span class=p1>ParseError</span><span class=p0>{error:</span><span class=ws> </span><span class=p1>err</span><span class=p0>,</span><span class=ws> </span><span class=p1>Context</span><span class=p0>:</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>applyHook</span><span class=p0>(</span><span class=p1>ctx</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>AfterApply</span><span class=s0>"</span><span class=p0>);</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p0>&</span><span class=p1>ParseError</span><span class=p0>{error:</span><span class=ws> </span><span class=p1>err</span><span class=p0>,</span><span class=ws> </span><span class=p1>Context</span><span class=p0>:</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>,</span><span class=ws> </span><span class=p1>nil</span>
<span class=p0>}</span>

<span class=p0>func</span><span class=ws> </span><span class=p0>(</span><span class=p1>k</span><span class=ws> </span><span class=p0>*</span><span class=p1>Kong</span><span class=p0>)</span><span class=ws> </span><span class=p1>applyHook</span><span class=p0>(</span><span class=p1>ctx</span><span class=ws> </span><span class=p0>*</span><span class=p1>Context</span><span class=p0>,</span><span class=ws> </span><span class=p1>name</span><span class=ws> </span><span class=p0>string</span><span class=p0>)</span><span class=ws> </span><span class=p0>error</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p0>for</span><span class=ws> </span><span class=p1>_</span><span class=p0>,</span><span class=ws> </span><span class=p1>trace</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p0>range</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>.</span><span class=p1>Path</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>var</span><span class=ws> </span><span class=p1>value</span><span class=ws> </span><span class=p1>reflect</span><span class=p0>.</span><span class=p1>Value</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>switch</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>case</span><span class=ws> </span><span class=p1>trace</span><span class=p0>.</span><span class=p1>App</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>value</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>trace</span><span class=p0>.</span><span class=p1>App</span><span class=p0>.</span><span class=p1>Target</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>case</span><span class=ws> </span><span class=p1>trace</span><span class=p0>.</span><span class=p1>Argument</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>value</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>trace</span><span class=p0>.</span><span class=p1>Argument</span><span class=p0>.</span><span class=p1>Target</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>case</span><span class=ws> </span><span class=p1>trace</span><span class=p0>.</span><span class=p1>Command</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>value</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>trace</span><span class=p0>.</span><span class=p1>Command</span><span class=p0>.</span><span class=p1>Target</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>case</span><span class=ws> </span><span class=p1>trace</span><span class=p0>.</span><span class=p1>Positional</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>value</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>trace</span><span class=p0>.</span><span class=p1>Positional</span><span class=p0>.</span><span class=p1>Target</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>case</span><span class=ws> </span><span class=p1>trace</span><span class=p0>.</span><span class=p1>Flag</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>value</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>trace</span><span class=p0>.</span><span class=p1>Flag</span><span class=p0>.</span><span class=p1>Value</span><span class=p0>.</span><span class=p1>Target</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>default:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>panic</span><span class=p0>(</span><span class=s0>"</span><span class=s1>unsupported</span><span class=ws> </span><span class=s1>Path</span><span class=s0>"</span><span class=p0>)</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>method</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>getMethod</span><span class=p0>(</span><span class=p1>value</span><span class=p0>,</span><span class=ws> </span><span class=p1>name</span><span class=p0>)</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p0>!</span><span class=p1>method</span><span class=p0>.</span><span class=p1>IsValid</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>continue</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>binds</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>bindings</span><span class=p0>.</span><span class=p1>clone</span><span class=p0>()</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>binds</span><span class=p0>.</span><span class=p1>add</span><span class=p0>(</span><span class=p1>ctx</span><span class=p0>,</span><span class=ws> </span><span class=p1>trace</span><span class=p0>)</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>binds</span><span class=p0>.</span><span class=p1>add</span><span class=p0>(</span><span class=p1>trace</span><span class=p0>.</span><span class=p1>Node</span><span class=p0>().</span><span class=p1>Vars</span><span class=p0>().</span><span class=p1>CloneWith</span><span class=p0>(</span><span class=p1>k</span><span class=p0>.</span><span class=p1>vars</span><span class=p0>))</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>binds</span><span class=p0>.</span><span class=p1>merge</span><span class=p0>(</span><span class=p1>ctx</span><span class=p0>.</span><span class=p1>bindings</span><span class=p0>)</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>callFunction</span><span class=p0>(</span><span class=p1>method</span><span class=p0>,</span><span class=ws> </span><span class=p1>binds</span><span class=p0>);</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>err</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=c0>//</span><span class=ws> </span><span class=c0>Path[0]</span><span class=ws> </span><span class=c0>will</span><span class=ws> </span><span class=c0>always</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>app</span><span class=ws> </span><span class=c0>root.</span>
<span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>applyHookToDefaultFlags</span><span class=p0>(</span><span class=p1>ctx</span><span class=p0>,</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>.</span><span class=p1>Path</span><span class=p0>[</span><span class=p1>0</span><span class=p0>].</span><span class=p1>Node</span><span class=p0>(),</span><span class=ws> </span><span class=p1>name</span><span class=p0>)</span>
<span class=p0>}</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>Call</span><span class=ws> </span><span class=c0>hook</span><span class=ws> </span><span class=c0>on</span><span class=ws> </span><span class=c0>any</span><span class=ws> </span><span class=c0>unset</span><span class=ws> </span><span class=c0>flags</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>default</span><span class=ws> </span><span class=c0>values.</span>
<span class=p0>func</span><span class=ws> </span><span class=p0>(</span><span class=p1>k</span><span class=ws> </span><span class=p0>*</span><span class=p1>Kong</span><span class=p0>)</span><span class=ws> </span><span class=p1>applyHookToDefaultFlags</span><span class=p0>(</span><span class=p1>ctx</span><span class=ws> </span><span class=p0>*</span><span class=p1>Context</span><span class=p0>,</span><span class=ws> </span><span class=p1>node</span><span class=ws> </span><span class=p0>*</span><span class=p1>Node</span><span class=p0>,</span><span class=ws> </span><span class=p1>name</span><span class=ws> </span><span class=p0>string</span><span class=p0>)</span><span class=ws> </span><span class=p0>error</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>node</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>Visit</span><span class=p0>(</span><span class=p1>node</span><span class=p0>,</span><span class=ws> </span><span class=p0>func(</span><span class=p1>n</span><span class=ws> </span><span class=p1>Visitable</span><span class=p0>,</span><span class=ws> </span><span class=p1>next</span><span class=ws> </span><span class=p1>Next</span><span class=p0>)</span><span class=ws> </span><span class=p0>error</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>node</span><span class=p0>,</span><span class=ws> </span><span class=p1>ok</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>n</span><span class=p0>.(*</span><span class=p1>Node</span><span class=p0>)</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p0>!</span><span class=p1>ok</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>next</span><span class=p0>(</span><span class=p1>nil</span><span class=p0>)</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>binds</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>bindings</span><span class=p0>.</span><span class=p1>clone</span><span class=p0>().</span><span class=p1>add</span><span class=p0>(</span><span class=p1>ctx</span><span class=p0>).</span><span class=p1>add</span><span class=p0>(</span><span class=p1>node</span><span class=p0>.</span><span class=p1>Vars</span><span class=p0>().</span><span class=p1>CloneWith</span><span class=p0>(</span><span class=p1>k</span><span class=p0>.</span><span class=p1>vars</span><span class=p0>))</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>for</span><span class=ws> </span><span class=p1>_</span><span class=p0>,</span><span class=ws> </span><span class=p1>flag</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p0>range</span><span class=ws> </span><span class=p1>node</span><span class=p0>.</span><span class=p1>Flags</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p0>!</span><span class=p1>flag</span><span class=p0>.</span><span class=p1>HasDefault</span><span class=ws> </span><span class=p0>||</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>.</span><span class=p1>values</span><span class=p0>[</span><span class=p1>flag</span><span class=p0>.</span><span class=p1>Value</span><span class=p0>].</span><span class=p1>IsValid</span><span class=p0>()</span><span class=ws> </span><span class=p0>||</span><span class=ws> </span><span class=p0>!</span><span class=p1>flag</span><span class=p0>.</span><span class=p1>Target</span><span class=p0>.</span><span class=p1>IsValid</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>continue</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>method</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>getMethod</span><span class=p0>(</span><span class=p1>flag</span><span class=p0>.</span><span class=p1>Target</span><span class=p0>,</span><span class=ws> </span><span class=p1>name</span><span class=p0>)</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p0>!</span><span class=p1>method</span><span class=p0>.</span><span class=p1>IsValid</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>continue</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>path</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p0>&</span><span class=p1>Path</span><span class=p0>{</span><span class=p1>Flag</span><span class=p0>:</span><span class=ws> </span><span class=p1>flag</span><span class=p0>}</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>callFunction</span><span class=p0>(</span><span class=p1>method</span><span class=p0>,</span><span class=ws> </span><span class=p1>binds</span><span class=p0>.</span><span class=p1>clone</span><span class=p0>().</span><span class=p1>add</span><span class=p0>(</span><span class=p1>path</span><span class=p0>));</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>next</span><span class=p0>(</span><span class=p1>err</span><span class=p0>)</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>next</span><span class=p0>(</span><span class=p1>nil</span><span class=p0>)</span>
<span class=wt>	</span><span class=p0>})</span>
<span class=p0>}</span>

<span class=p0>func</span><span class=ws> </span><span class=p1>formatMultilineMessage</span><span class=p0>(</span><span class=p1>w</span><span class=ws> </span><span class=p1>io</span><span class=p0>.</span><span class=p1>Writer</span><span class=p0>,</span><span class=ws> </span><span class=p1>leaders</span><span class=ws> </span><span class=p0>[]</span><span class=p0>string</span><span class=p0>,</span><span class=ws> </span><span class=p1>format</span><span class=ws> </span><span class=p0>string</span><span class=p0>,</span><span class=ws> </span><span class=p1>args</span><span class=ws> </span><span class=p0>...interface{})</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>lines</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>strings</span><span class=p0>.</span><span class=p1>Split</span><span class=p0>(</span><span class=p1>fmt</span><span class=p0>.</span><span class=p1>Sprintf</span><span class=p0>(</span><span class=p1>format</span><span class=p0>,</span><span class=ws> </span><span class=p1>args</span><span class=p0>...),</span><span class=ws> </span><span class=s0>"</span><span class=s1>\n</span><span class=s0>"</span><span class=p0>)</span>
<span class=wt>	</span><span class=p1>leader</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=s0>""</span>
<span class=wt>	</span><span class=p0>for</span><span class=ws> </span><span class=p1>_</span><span class=p0>,</span><span class=ws> </span><span class=p1>l</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p0>range</span><span class=ws> </span><span class=p1>leaders</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>l</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=s0>""</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>continue</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>leader</span><span class=ws> </span><span class=p0>+=</span><span class=ws> </span><span class=p1>l</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=s0>"</span><span class=s1>:</span><span class=ws> </span><span class=s0>"</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>fmt</span><span class=p0>.</span><span class=p1>Fprintf</span><span class=p0>(</span><span class=p1>w</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=p0>%s%s</span><span class=s1>\n</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p1>leader</span><span class=p0>,</span><span class=ws> </span><span class=p1>lines</span><span class=p0>[</span><span class=p1>0</span><span class=p0>])</span>
<span class=wt>	</span><span class=p0>for</span><span class=ws> </span><span class=p1>_</span><span class=p0>,</span><span class=ws> </span><span class=p1>line</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p0>range</span><span class=ws> </span><span class=p1>lines</span><span class=p0>[</span><span class=p1>1</span><span class=p0>:]</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>fmt</span><span class=p0>.</span><span class=p1>Fprintf</span><span class=p0>(</span><span class=p1>w</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=p0>%*s%s</span><span class=s1>\n</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p1>len</span><span class=p0>(</span><span class=p1>leader</span><span class=p0>),</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p1>line</span><span class=p0>)</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>Printf</span><span class=ws> </span><span class=c0>writes</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>message</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>Kong.Stdout</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>application</span><span class=ws> </span><span class=c0>name</span><span class=ws> </span><span class=c0>prefixed.</span>
<span class=p0>func</span><span class=ws> </span><span class=p0>(</span><span class=p1>k</span><span class=ws> </span><span class=p0>*</span><span class=p1>Kong</span><span class=p0>)</span><span class=ws> </span><span class=p1>Printf</span><span class=p0>(</span><span class=p1>format</span><span class=ws> </span><span class=p0>string</span><span class=p0>,</span><span class=ws> </span><span class=p1>args</span><span class=ws> </span><span class=p0>...interface{})</span><span class=ws> </span><span class=p0>*</span><span class=p1>Kong</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>formatMultilineMessage</span><span class=p0>(</span><span class=p1>k</span><span class=p0>.</span><span class=p1>Stdout</span><span class=p0>,</span><span class=ws> </span><span class=p0>[]</span><span class=p0>string</span><span class=p0>{</span><span class=p1>k</span><span class=p0>.</span><span class=p1>Model</span><span class=p0>.</span><span class=p1>Name</span><span class=p0>},</span><span class=ws> </span><span class=p1>format</span><span class=p0>,</span><span class=ws> </span><span class=p1>args</span><span class=p0>...)</span>
<span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>k</span>
<span class=p0>}</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>Errorf</span><span class=ws> </span><span class=c0>writes</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>message</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>Kong.Stderr</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>application</span><span class=ws> </span><span class=c0>name</span><span class=ws> </span><span class=c0>prefixed.</span>
<span class=p0>func</span><span class=ws> </span><span class=p0>(</span><span class=p1>k</span><span class=ws> </span><span class=p0>*</span><span class=p1>Kong</span><span class=p0>)</span><span class=ws> </span><span class=p1>Errorf</span><span class=p0>(</span><span class=p1>format</span><span class=ws> </span><span class=p0>string</span><span class=p0>,</span><span class=ws> </span><span class=p1>args</span><span class=ws> </span><span class=p0>...interface{})</span><span class=ws> </span><span class=p0>*</span><span class=p1>Kong</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>formatMultilineMessage</span><span class=p0>(</span><span class=p1>k</span><span class=p0>.</span><span class=p1>Stderr</span><span class=p0>,</span><span class=ws> </span><span class=p0>[]</span><span class=p0>string</span><span class=p0>{</span><span class=p1>k</span><span class=p0>.</span><span class=p1>Model</span><span class=p0>.</span><span class=p1>Name</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>error</span><span class=s0>"</span><span class=p0>},</span><span class=ws> </span><span class=p1>format</span><span class=p0>,</span><span class=ws> </span><span class=p1>args</span><span class=p0>...)</span>
<span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>k</span>
<span class=p0>}</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>Fatalf</span><span class=ws> </span><span class=c0>writes</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>message</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>Kong.Stderr</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>application</span><span class=ws> </span><span class=c0>name</span><span class=ws> </span><span class=c0>prefixed</span><span class=ws> </span><span class=c0>then</span><span class=ws> </span><span class=c0>exits</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>non-zero</span><span class=ws> </span><span class=c0>status.</span>
<span class=p0>func</span><span class=ws> </span><span class=p0>(</span><span class=p1>k</span><span class=ws> </span><span class=p0>*</span><span class=p1>Kong</span><span class=p0>)</span><span class=ws> </span><span class=p1>Fatalf</span><span class=p0>(</span><span class=p1>format</span><span class=ws> </span><span class=p0>string</span><span class=p0>,</span><span class=ws> </span><span class=p1>args</span><span class=ws> </span><span class=p0>...interface{})</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>k</span><span class=p0>.</span><span class=p1>Errorf</span><span class=p0>(</span><span class=p1>format</span><span class=p0>,</span><span class=ws> </span><span class=p1>args</span><span class=p0>...)</span>
<span class=wt>	</span><span class=p1>k</span><span class=p0>.</span><span class=p1>Exit</span><span class=p0>(</span><span class=p1>1</span><span class=p0>)</span>
<span class=p0>}</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>FatalIfErrorf</span><span class=ws> </span><span class=c0>terminates</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>an</span><span class=ws> </span><span class=c0>error</span><span class=ws> </span><span class=c0>message</span><span class=ws> </span><span class=c0>if</span><span class=ws> </span><span class=c0>err</span><span class=ws> </span><span class=c0>!=</span><span class=ws> </span><span class=c0>nil.</span>
<span class=p0>func</span><span class=ws> </span><span class=p0>(</span><span class=p1>k</span><span class=ws> </span><span class=p0>*</span><span class=p1>Kong</span><span class=p0>)</span><span class=ws> </span><span class=p1>FatalIfErrorf</span><span class=p0>(</span><span class=p1>err</span><span class=ws> </span><span class=p0>error,</span><span class=ws> </span><span class=p1>args</span><span class=ws> </span><span class=p0>...interface{})</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>msg</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>err</span><span class=p0>.</span><span class=p1>Error</span><span class=p0>()</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>len</span><span class=p0>(</span><span class=p1>args</span><span class=p0>)</span><span class=ws> </span><span class=p0>></span><span class=ws> </span><span class=p1>0</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>msg</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>fmt</span><span class=p0>.</span><span class=p1>Sprintf</span><span class=p0>(</span><span class=p1>args</span><span class=p0>[</span><span class=p1>0</span><span class=p0>].(</span><span class=p0>string</span><span class=p0>),</span><span class=ws> </span><span class=p1>args</span><span class=p0>[</span><span class=p1>1</span><span class=p0>:]...)</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=s0>"</span><span class=s1>:</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>err</span><span class=p0>.</span><span class=p1>Error</span><span class=p0>()</span><span class=ws> </span><span class=c0>//nolint</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=c0>//</span><span class=ws> </span><span class=c0>Maybe</span><span class=ws> </span><span class=c0>display</span><span class=ws> </span><span class=c0>usage</span><span class=ws> </span><span class=c0>information.</span>
<span class=wt>	</span><span class=p0>var</span><span class=ws> </span><span class=p1>parseErr</span><span class=ws> </span><span class=p0>*</span><span class=p1>ParseError</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>errors</span><span class=p0>.</span><span class=p1>As</span><span class=p0>(</span><span class=p1>err</span><span class=p0>,</span><span class=ws> </span><span class=p0>&</span><span class=p1>parseErr</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>switch</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>usageOnError</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>case</span><span class=ws> </span><span class=p1>fullUsage</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>_</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>help</span><span class=p0>(</span><span class=p1>k</span><span class=p0>.</span><span class=p1>helpOptions</span><span class=p0>,</span><span class=ws> </span><span class=p1>parseErr</span><span class=p0>.</span><span class=p1>Context</span><span class=p0>)</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>fmt</span><span class=p0>.</span><span class=p1>Fprintln</span><span class=p0>(</span><span class=p1>k</span><span class=p0>.</span><span class=p1>Stdout</span><span class=p0>)</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>case</span><span class=ws> </span><span class=p1>shortUsage</span><span class=p0>:</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>_</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>shortHelp</span><span class=p0>(</span><span class=p1>k</span><span class=p0>.</span><span class=p1>helpOptions</span><span class=p0>,</span><span class=ws> </span><span class=p1>parseErr</span><span class=p0>.</span><span class=p1>Context</span><span class=p0>)</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>fmt</span><span class=p0>.</span><span class=p1>Fprintln</span><span class=p0>(</span><span class=p1>k</span><span class=p0>.</span><span class=p1>Stdout</span><span class=p0>)</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>k</span><span class=p0>.</span><span class=p1>Fatalf</span><span class=p0>(</span><span class=s0>"</span><span class=p0>%s</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>)</span>
<span class=p0>}</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>LoadConfig</span><span class=ws> </span><span class=c0>from</span><span class=ws> </span><span class=c0>path</span><span class=ws> </span><span class=c0>using</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>loader</span><span class=ws> </span><span class=c0>configured</span><span class=ws> </span><span class=c0>via</span><span class=ws> </span><span class=c0>Configuration(loader).</span>
<span class=c0>//</span>
<span class=c0>//</span><span class=ws> </span><span class=c0>"path"</span><span class=ws> </span><span class=c0>will</span><span class=ws> </span><span class=c0>have</span><span class=ws> </span><span class=c0>~</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>any</span><span class=ws> </span><span class=c0>variables</span><span class=ws> </span><span class=c0>expanded.</span>
<span class=p0>func</span><span class=ws> </span><span class=p0>(</span><span class=p1>k</span><span class=ws> </span><span class=p0>*</span><span class=p1>Kong</span><span class=p0>)</span><span class=ws> </span><span class=p1>LoadConfig</span><span class=p0>(</span><span class=p1>path</span><span class=ws> </span><span class=p0>string</span><span class=p0>)</span><span class=ws> </span><span class=p0>(</span><span class=p1>Resolver</span><span class=p0>,</span><span class=ws> </span><span class=p0>error)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p0>var</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>error</span>
<span class=wt>	</span><span class=p1>path</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>ExpandPath</span><span class=p0>(</span><span class=p1>path</span><span class=p0>)</span>
<span class=wt>	</span><span class=p1>path</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>interpolate</span><span class=p0>(</span><span class=p1>path</span><span class=p0>,</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>vars</span><span class=p0>,</span><span class=ws> </span><span class=p1>nil</span><span class=p0>)</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p1>r</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>os</span><span class=p0>.</span><span class=p1>Open</span><span class=p0>(</span><span class=p1>path</span><span class=p0>)</span><span class=ws> </span><span class=c0>//nolint:</span><span class=ws> </span><span class=c0>gas</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p1>err</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>defer</span><span class=ws> </span><span class=p1>r</span><span class=p0>.</span><span class=p1>Close</span><span class=p0>()</span>

<span class=wt>	</span><span class=p0>return</span><span class=ws> </span><span class=p1>k</span><span class=p0>.</span><span class=p1>loader</span><span class=p0>(</span><span class=p1>r</span><span class=p0>)</span>
<span class=p0>}</span>
</code></pre><pre aria-labelledby=go.mod class=sh hidden><code><span class=p0>module</span><span class=ws> </span><span class=p1>github.com/maaslalani/invoice</span>

<span class=p0>go</span><span class=ws> </span><span class=p1>1.20</span>

<span class=p0>require</span><span class=ws> </span><span class=p1>(</span>
<span class=wt>	</span><span class=p1>github.com/signintech/gopdf</span><span class=ws> </span><span class=s1>v0.18.0</span>
<span class=wt>	</span><span class=p1>github.com/spf13/cobra</span><span class=ws> </span><span class=s1>v1.7.0</span>
<span class=wt>	</span><span class=p1>github.com/spf13/viper</span><span class=ws> </span><span class=s1>v1.16.0</span>
<span class=wt>	</span><span class=p1>gopkg.in/yaml.v3</span><span class=ws> </span><span class=s1>v3.0.1</span>
<span class=p1>)</span>

<span class=p0>require</span><span class=ws> </span><span class=p1>(</span>
<span class=wt>	</span><span class=p1>github.com/fsnotify/fsnotify</span><span class=ws> </span><span class=s1>v1.6.0</span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>indirect</span>
<span class=wt>	</span><span class=p1>github.com/hashicorp/hcl</span><span class=ws> </span><span class=s1>v1.0.0</span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>indirect</span>
<span class=wt>	</span><span class=p1>github.com/inconshreveable/mousetrap</span><span class=ws> </span><span class=s1>v1.1.0</span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>indirect</span>
<span class=wt>	</span><span class=p1>github.com/magiconair/properties</span><span class=ws> </span><span class=s1>v1.8.7</span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>indirect</span>
<span class=wt>	</span><span class=p1>github.com/mitchellh/mapstructure</span><span class=ws> </span><span class=s1>v1.5.0</span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>indirect</span>
<span class=wt>	</span><span class=p1>github.com/pelletier/go-toml/v2</span><span class=ws> </span><span class=s1>v2.0.8</span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>indirect</span>
<span class=wt>	</span><span class=p1>github.com/phpdave11/gofpdi</span><span class=ws> </span><span class=s1>v1.0.14-0.20211212211723-1f10f9844311</span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>indirect</span>
<span class=wt>	</span><span class=p1>github.com/pkg/errors</span><span class=ws> </span><span class=s1>v0.9.1</span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>indirect</span>
<span class=wt>	</span><span class=p1>github.com/spf13/afero</span><span class=ws> </span><span class=s1>v1.9.5</span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>indirect</span>
<span class=wt>	</span><span class=p1>github.com/spf13/cast</span><span class=ws> </span><span class=s1>v1.5.1</span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>indirect</span>
<span class=wt>	</span><span class=p1>github.com/spf13/jwalterweatherman</span><span class=ws> </span><span class=s1>v1.1.0</span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>indirect</span>
<span class=wt>	</span><span class=p1>github.com/spf13/pflag</span><span class=ws> </span><span class=s1>v1.0.5</span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>indirect</span>
<span class=wt>	</span><span class=p1>github.com/subosito/gotenv</span><span class=ws> </span><span class=s1>v1.4.2</span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>indirect</span>
<span class=wt>	</span><span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.8.0</span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>indirect</span>
<span class=wt>	</span><span class=p1>golang.org/x/text</span><span class=ws> </span><span class=s1>v0.9.0</span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>indirect</span>
<span class=wt>	</span><span class=p1>gopkg.in/ini.v1</span><span class=ws> </span><span class=s1>v1.67.0</span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>indirect</span>
<span class=p1>)</span>
</code></pre><pre aria-labelledby=go.sum class=sh hidden><code><span class=p1>cloud.google.com/go</span><span class=ws> </span><span class=s1>v0.26.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>aQUYkXzVsufM+DwF1aE+0xfcU+56JwCaLick0ClmMTw</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go</span><span class=ws> </span><span class=s1>v0.34.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>aQUYkXzVsufM+DwF1aE+0xfcU+56JwCaLick0ClmMTw</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go</span><span class=ws> </span><span class=s1>v0.38.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>990N+gfupTy94rShfmMCWGDn0LpTmnzTp2qbd1dvSRU</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go</span><span class=ws> </span><span class=s1>v0.44.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>iSa0KzasP4Uvy3f1mN/7PiObzGgflwredwwASm/v6AU</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go</span><span class=ws> </span><span class=s1>v0.44.2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>60680Gw3Yr4ikxnPRS/oxxkBccT6SA1yMk63TGekxKY</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go</span><span class=ws> </span><span class=s1>v0.44.3</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>60680Gw3Yr4ikxnPRS/oxxkBccT6SA1yMk63TGekxKY</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go</span><span class=ws> </span><span class=s1>v0.45.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>RpBamKRgapWJb87xiFSdk4g1CME7QZg3uwTez+TSTjc</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go</span><span class=ws> </span><span class=s1>v0.46.3</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>a6bKKbmY7er1mI7TEI4lsAkts/mkhTSZK8w33B4RAg0</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go</span><span class=ws> </span><span class=s1>v0.50.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>r9sluTvynVuxRIOHXQEHMFffphuXHOMZMycpNR5e6To</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go</span><span class=ws> </span><span class=s1>v0.52.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>pXajvRH/6o3+F9jDHZWQ5PbGhn+o8w9qiu/CffaVdO4</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go</span><span class=ws> </span><span class=s1>v0.53.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>fp/UouUEsRkN6ryDKNW/Upv/JBKnv6WDthjR6+vze6M</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go</span><span class=ws> </span><span class=s1>v0.54.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>1rq2OEkV3YMf6n/9ZvGWI3GWw0VoqH/1x2nd8Is/bPc</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go</span><span class=ws> </span><span class=s1>v0.56.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>jr7tqZxxKOVYizybht9+26Z/gUq7tiRzu+ACVAMbKVk</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go</span><span class=ws> </span><span class=s1>v0.57.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>oXiQ6Rzq3RAkkY7N6t3TcE6jE+CIBBbA36lwQ1JyzZs</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go</span><span class=ws> </span><span class=s1>v0.62.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>jmCYTdRCQuc1PHIIJ/maLInMho30T/Y0M4hTdTShOYc</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go</span><span class=ws> </span><span class=s1>v0.65.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>O5N8zS7uWy9vkA9vayVHs65eM1ubvY4h553ofrNHObY</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go</span><span class=ws> </span><span class=s1>v0.72.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>M+5Vjvlc2wnp6tjzE102Dw08nGShTscUx2nZMufOKPI</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go</span><span class=ws> </span><span class=s1>v0.74.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>VV1xSbzvo+9QJOxLDaJfTjx5e+MePCpCWwvftOeQmWk</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go</span><span class=ws> </span><span class=s1>v0.75.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>VGuuCn7PG0dwsd5XPVm2Mm3wlh3EL55/79EKB6hlPTY</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go/bigquery</span><span class=ws> </span><span class=s1>v1.0.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>i/xbL2UlR5RvWAURpBYZTtm/cXjCha9lbfbpx4poX+o</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go/bigquery</span><span class=ws> </span><span class=s1>v1.3.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>PjpwJnslEMmckchkHFfq+HTD2DmtT67aNFKH1/VBDHE</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go/bigquery</span><span class=ws> </span><span class=s1>v1.4.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>S8dzgnTigyfTmLBfrtrhyYhwRxG72rYxvftPBK2Dvzc</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go/bigquery</span><span class=ws> </span><span class=s1>v1.5.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>snEHRnqQbz117VIFhE8bmtwIDY80NLUZUMb4Nv6dBIg</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go/bigquery</span><span class=ws> </span><span class=s1>v1.7.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>//okPTzCYNXSlb24MZs83e2Do+h+VXtc4gLoIoXIAPc</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go/bigquery</span><span class=ws> </span><span class=s1>v1.8.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>J5hqkt3O0uAFnINi6JXValWIb1v0goeZM77hZzJN/fQ</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go/datastore</span><span class=ws> </span><span class=s1>v1.0.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>LXYbyblFSglQ5pkeyhO+Qmw7ukd3C+pD7TKLgZqpHYE</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go/datastore</span><span class=ws> </span><span class=s1>v1.1.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>umbIZjpQpHh4hmRpGhH4tLFup+FVzqBi1b3c64qFpCk</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go/pubsub</span><span class=ws> </span><span class=s1>v1.0.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>R0Gpsv3s54REJCy4fxDixWD93lHJMoZTyQ2kNxGRt3I</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go/pubsub</span><span class=ws> </span><span class=s1>v1.1.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>EwwdRX2sKPjnvnqCa270oGRyludottCI76h+R3AArQw</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go/pubsub</span><span class=ws> </span><span class=s1>v1.2.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>jhfEVHT8odbXTkndysNHCcx0awwzvfOlguIAii9o8iA</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go/pubsub</span><span class=ws> </span><span class=s1>v1.3.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>i+ucay31+CNRpDW4Lu78I4xXG+O1r/MAHgjpRVR+TSU</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go/storage</span><span class=ws> </span><span class=s1>v1.0.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>IhtSnM/ZTZV8YYJWCY8RULGVqBDmpoyjwiyrjsg+URw</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go/storage</span><span class=ws> </span><span class=s1>v1.5.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>tpKbwo567HUNpVclU5sGELwQWBDZ8gh0ZeosJ0Rtdos</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go/storage</span><span class=ws> </span><span class=s1>v1.6.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>N7U0C8pVQ/+NIKOBQyamJIeKQKkZ+mxpohlUTyfDhBk</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go/storage</span><span class=ws> </span><span class=s1>v1.8.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>Wv1Oy7z6Yz3DshWRJFhqM/UCfaWIRTdp0RXyy7KQOVs</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go/storage</span><span class=ws> </span><span class=s1>v1.10.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>FLPqc6j+Ki4BU591ie1oL6qBQGu2Bl/tZ9ullr3+Kg0</span><span class=p1>=</span>
<span class=p1>cloud.google.com/go/storage</span><span class=ws> </span><span class=s1>v1.14.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>GrKmX003DSIwi9o29oFT7YDnHYwZoctc3fOKtUw0Xmo</span><span class=p1>=</span>
<span class=p1>dmitri.shuralyov.com/gpu/mtl</span><span class=ws> </span><span class=s1>v0.0.0-20190408044501-666a987793e9</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>H6x//7gZCb22OMCxBHrMx7a5I7Hp++hsVxbQ4BYO7hU</span><span class=p1>=</span>
<span class=p1>github.com/BurntSushi/toml</span><span class=ws> </span><span class=s1>v0.3.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>xHWCNGjB5oqiDr8zfno3MHue2Ht5sIBksp03qcyfWMU</span><span class=p1>=</span>
<span class=p1>github.com/BurntSushi/xgb</span><span class=ws> </span><span class=s1>v0.0.0-20160522181843-27f122750802</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>IVnqGOEym/WlBOVXweHU+Q+/VP0lqqI8lqeDx9IjBqo</span><span class=p1>=</span>
<span class=p1>github.com/census-instrumentation/opencensus-proto</span><span class=ws> </span><span class=s1>v0.2.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>f6KPmirojxKA12rnyqOA5BBL4O983OfeGPqjHWSTneU</span><span class=p1>=</span>
<span class=p1>github.com/chzyer/logex</span><span class=ws> </span><span class=s1>v1.1.10</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>+Ywpsq7O8HXn0nuIou7OrIPyXbp3wmkHB+jjWRnGsAI</span><span class=p1>=</span>
<span class=p1>github.com/chzyer/readline</span><span class=ws> </span><span class=s1>v0.0.0-20180603132655-2972be24d48e</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>nSuG5e5PlCu98SY8svDHJxuZscDgtXS6KTTbou5AhLI</span><span class=p1>=</span>
<span class=p1>github.com/chzyer/test</span><span class=ws> </span><span class=s1>v0.0.0-20180213035817-a1ea475d72b1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>Q3SI9o4m/ZMnBNeIyt5eFwwo7qiLfzFZmjNmxjkiQlU</span><span class=p1>=</span>
<span class=p1>github.com/client9/misspell</span><span class=ws> </span><span class=s1>v0.3.4</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>qj6jICC3Q7zFZvVWo7KLAzC3yx5G7kyvSDkc90ppPyw</span><span class=p1>=</span>
<span class=p1>github.com/cncf/udpa/go</span><span class=ws> </span><span class=s1>v0.0.0-20191209042840-269d4d468f6f</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>M8M6+tZqaGXZJjfX53e64911xZQV5JYwmTeXPW+k8Sc</span><span class=p1>=</span>
<span class=p1>github.com/cncf/udpa/go</span><span class=ws> </span><span class=s1>v0.0.0-20200629203442-efcf912fb354</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>WmhPx2Nbnhtbo57+VJT5O0JRkEi1Wbu0z5j0R8u5Hbk</span><span class=p1>=</span>
<span class=p1>github.com/cncf/udpa/go</span><span class=ws> </span><span class=s1>v0.0.0-20201120205902-5459f2c99403</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>WmhPx2Nbnhtbo57+VJT5O0JRkEi1Wbu0z5j0R8u5Hbk</span><span class=p1>=</span>
<span class=p1>github.com/cpuguy83/go-md2man/v2</span><span class=ws> </span><span class=s1>v2.0.2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>tgQtvFlXSQOSOSIRvRPT7W67SCa46tRHOmNcaadrF8o</span><span class=p1>=</span>
<span class=p1>github.com/davecgh/go-spew</span><span class=ws> </span><span class=s1>v1.1.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38</span><span class=p1>=</span>
<span class=p1>github.com/davecgh/go-spew</span><span class=ws> </span><span class=s1>v1.1.1</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>vj9j/u1bqnvCEfJOwUhtlOARqs3+rkHYY13jYWTU97c</span><span class=p1>=</span>
<span class=p1>github.com/davecgh/go-spew</span><span class=ws> </span><span class=s1>v1.1.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38</span><span class=p1>=</span>
<span class=p1>github.com/envoyproxy/go-control-plane</span><span class=ws> </span><span class=s1>v0.9.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>YTl/9mNaCwkRvm6d1a2C3ymFceY/DCBVvsKhRF0iEA4</span><span class=p1>=</span>
<span class=p1>github.com/envoyproxy/go-control-plane</span><span class=ws> </span><span class=s1>v0.9.1-0.20191026205805-5f8ba28d4473</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>YTl/9mNaCwkRvm6d1a2C3ymFceY/DCBVvsKhRF0iEA4</span><span class=p1>=</span>
<span class=p1>github.com/envoyproxy/go-control-plane</span><span class=ws> </span><span class=s1>v0.9.4</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>6rpuAdCZL397s3pYoYcLgu1mIlRU8Am5FuJP05cCM98</span><span class=p1>=</span>
<span class=p1>github.com/envoyproxy/go-control-plane</span><span class=ws> </span><span class=s1>v0.9.7</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>cwu0lG7PUMfa9snN8LXBig5ynNVH9qI8YYLbd1fK2po</span><span class=p1>=</span>
<span class=p1>github.com/envoyproxy/go-control-plane</span><span class=ws> </span><span class=s1>v0.9.9-0.20201210154907-fd9021fe5dad</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>cXg6YxExXjJnVBQHBLXeUAgxn2UodCpnH306RInaBQk</span><span class=p1>=</span>
<span class=p1>github.com/envoyproxy/protoc-gen-validate</span><span class=ws> </span><span class=s1>v0.1.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>iSmxcyjqTsJpI2R4NaDN7+kN2VEUnK/pcBlmesArF7c</span><span class=p1>=</span>
<span class=p1>github.com/frankban/quicktest</span><span class=ws> </span><span class=s1>v1.14.4</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>g2rn0vABPOOXmZUj+vbmUp0lPoXEMuhTpIluN0XL9UY</span><span class=p1>=</span>
<span class=p1>github.com/fsnotify/fsnotify</span><span class=ws> </span><span class=s1>v1.6.0</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>n+5WquG0fcWoWp6xPWfHdbskMCQaFnG6PfBrh1Ky4HY</span><span class=p1>=</span>
<span class=p1>github.com/fsnotify/fsnotify</span><span class=ws> </span><span class=s1>v1.6.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>sl3t1tCWJFWoRz9R8WJCbQihKKwmorjAbSClcnxKAGw</span><span class=p1>=</span>
<span class=p1>github.com/go-gl/glfw</span><span class=ws> </span><span class=s1>v0.0.0-20190409004039-e6da0acd62b1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>vR7hzQXu2zJy9AVAgeJqvqgH9Q5CA+iKCZ2gyEVpxRU</span><span class=p1>=</span>
<span class=p1>github.com/go-gl/glfw/v3.3/glfw</span><span class=ws> </span><span class=s1>v0.0.0-20191125211704-12ad95a8df72</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>tQ2UAYgL5IevRw8kRxooKSPJfGvJ9fJQFa0TUsXzTg8</span><span class=p1>=</span>
<span class=p1>github.com/go-gl/glfw/v3.3/glfw</span><span class=ws> </span><span class=s1>v0.0.0-20200222043503-6f7a984d4dc4</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>tQ2UAYgL5IevRw8kRxooKSPJfGvJ9fJQFa0TUsXzTg8</span><span class=p1>=</span>
<span class=p1>github.com/golang/glog</span><span class=ws> </span><span class=s1>v0.0.0-20160126235308-23def4e6c14b</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>SBH7ygxi8pfUlaOkMMuAQtPIUF8ecWP5IEl/CR7VP2Q</span><span class=p1>=</span>
<span class=p1>github.com/golang/groupcache</span><span class=ws> </span><span class=s1>v0.0.0-20190702054246-869f871628b6</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>cIg4eruTrX1D+g88fzRXU5OdNfaM+9IcxsU14FzY7Hc</span><span class=p1>=</span>
<span class=p1>github.com/golang/groupcache</span><span class=ws> </span><span class=s1>v0.0.0-20191227052852-215e87163ea7</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>cIg4eruTrX1D+g88fzRXU5OdNfaM+9IcxsU14FzY7Hc</span><span class=p1>=</span>
<span class=p1>github.com/golang/groupcache</span><span class=ws> </span><span class=s1>v0.0.0-20200121045136-8c9f03a8e57e</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>cIg4eruTrX1D+g88fzRXU5OdNfaM+9IcxsU14FzY7Hc</span><span class=p1>=</span>
<span class=p1>github.com/golang/mock</span><span class=ws> </span><span class=s1>v1.1.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>oTYuIxOrZwtPieC+H1uAHpcLFnEyAGVDL/k47Jfbm0A</span><span class=p1>=</span>
<span class=p1>github.com/golang/mock</span><span class=ws> </span><span class=s1>v1.2.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>oTYuIxOrZwtPieC+H1uAHpcLFnEyAGVDL/k47Jfbm0A</span><span class=p1>=</span>
<span class=p1>github.com/golang/mock</span><span class=ws> </span><span class=s1>v1.3.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>sBzyDLLjw3U8JLTeZvSv8jJB+tU5PVekmnlKIyFUx0Y</span><span class=p1>=</span>
<span class=p1>github.com/golang/mock</span><span class=ws> </span><span class=s1>v1.4.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>UOMv5ysSaYNkG+OFQykRIcU/QvvxJf3p21QfJ2Bt3cw</span><span class=p1>=</span>
<span class=p1>github.com/golang/mock</span><span class=ws> </span><span class=s1>v1.4.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>UOMv5ysSaYNkG+OFQykRIcU/QvvxJf3p21QfJ2Bt3cw</span><span class=p1>=</span>
<span class=p1>github.com/golang/mock</span><span class=ws> </span><span class=s1>v1.4.3</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>UOMv5ysSaYNkG+OFQykRIcU/QvvxJf3p21QfJ2Bt3cw</span><span class=p1>=</span>
<span class=p1>github.com/golang/mock</span><span class=ws> </span><span class=s1>v1.4.4</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>l3mdAwkq5BuhzHwde/uurv3sEJeZMXNpwsxVWU71h+4</span><span class=p1>=</span>
<span class=p1>github.com/golang/protobuf</span><span class=ws> </span><span class=s1>v1.2.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>6lQm79b+lXiMfvg/cZm0SGofjICqVBUtrP5yJMmIC1U</span><span class=p1>=</span>
<span class=p1>github.com/golang/protobuf</span><span class=ws> </span><span class=s1>v1.3.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>6lQm79b+lXiMfvg/cZm0SGofjICqVBUtrP5yJMmIC1U</span><span class=p1>=</span>
<span class=p1>github.com/golang/protobuf</span><span class=ws> </span><span class=s1>v1.3.2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>6lQm79b+lXiMfvg/cZm0SGofjICqVBUtrP5yJMmIC1U</span><span class=p1>=</span>
<span class=p1>github.com/golang/protobuf</span><span class=ws> </span><span class=s1>v1.3.3</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>vzj43D7+SQXF/4pzW/hwtAqwc6iTitCiVSaWz5lYuqw</span><span class=p1>=</span>
<span class=p1>github.com/golang/protobuf</span><span class=ws> </span><span class=s1>v1.3.4</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>vzj43D7+SQXF/4pzW/hwtAqwc6iTitCiVSaWz5lYuqw</span><span class=p1>=</span>
<span class=p1>github.com/golang/protobuf</span><span class=ws> </span><span class=s1>v1.3.5</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>6O5/vntMXwX2lRkT1hjjk0nAC1IDOTvTlVgjlRvqsdk</span><span class=p1>=</span>
<span class=p1>github.com/golang/protobuf</span><span class=ws> </span><span class=s1>v1.4.0-rc.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>ceaxUfeHdC40wWswd/P6IGgMaK3YpKi5j83Wpe3EHw8</span><span class=p1>=</span>
<span class=p1>github.com/golang/protobuf</span><span class=ws> </span><span class=s1>v1.4.0-rc.1.0.20200221234624-67d41d38c208</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>xKAWHe0F5eneWXFV3EuXVDTCmh+JuBKY0li0aMyXATA</span><span class=p1>=</span>
<span class=p1>github.com/golang/protobuf</span><span class=ws> </span><span class=s1>v1.4.0-rc.2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>LlEzMj4AhA7rCAGe4KMBDvJI+AwstrUpVNzEA03Pprs</span><span class=p1>=</span>
<span class=p1>github.com/golang/protobuf</span><span class=ws> </span><span class=s1>v1.4.0-rc.4.0.20200313231945-b860323f09d0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>WU3c8KckQ9AFe+yFwt9sWVRKCVIyN9cPHBJSNnbL67w</span><span class=p1>=</span>
<span class=p1>github.com/golang/protobuf</span><span class=ws> </span><span class=s1>v1.4.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>jodUvKwWbYaEsadDk5Fwe5c77LiNKVO9IDvqG2KuDX0</span><span class=p1>=</span>
<span class=p1>github.com/golang/protobuf</span><span class=ws> </span><span class=s1>v1.4.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>U8fpvMrcmy5pZrNK1lt4xCsGvpyWQ/VVv6QDs8UjoX8</span><span class=p1>=</span>
<span class=p1>github.com/golang/protobuf</span><span class=ws> </span><span class=s1>v1.4.2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>oDoupMAO8OvCJWAcko0GGGIgR6R6ocIYbsSw735rRwI</span><span class=p1>=</span>
<span class=p1>github.com/golang/protobuf</span><span class=ws> </span><span class=s1>v1.4.3</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>oDoupMAO8OvCJWAcko0GGGIgR6R6ocIYbsSw735rRwI</span><span class=p1>=</span>
<span class=p1>github.com/google/btree</span><span class=ws> </span><span class=s1>v0.0.0-20180813153112-4030bb1f1f0c</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>lNA+9X1NB3Zf8V7Ke586lFgjr2dZNuvo3lPJSGZ5JPQ</span><span class=p1>=</span>
<span class=p1>github.com/google/btree</span><span class=ws> </span><span class=s1>v1.0.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>lNA+9X1NB3Zf8V7Ke586lFgjr2dZNuvo3lPJSGZ5JPQ</span><span class=p1>=</span>
<span class=p1>github.com/google/go-cmp</span><span class=ws> </span><span class=s1>v0.2.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>oXzfMopK8JAjlY9xF4vHSVASa0yLyX7SntLO5aqRK0M</span><span class=p1>=</span>
<span class=p1>github.com/google/go-cmp</span><span class=ws> </span><span class=s1>v0.3.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>8QqcDgzrUqlUb/G2PQTWiueGozuR1884gddMywk6iLU</span><span class=p1>=</span>
<span class=p1>github.com/google/go-cmp</span><span class=ws> </span><span class=s1>v0.3.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>8QqcDgzrUqlUb/G2PQTWiueGozuR1884gddMywk6iLU</span><span class=p1>=</span>
<span class=p1>github.com/google/go-cmp</span><span class=ws> </span><span class=s1>v0.4.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE</span><span class=p1>=</span>
<span class=p1>github.com/google/go-cmp</span><span class=ws> </span><span class=s1>v0.4.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE</span><span class=p1>=</span>
<span class=p1>github.com/google/go-cmp</span><span class=ws> </span><span class=s1>v0.5.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE</span><span class=p1>=</span>
<span class=p1>github.com/google/go-cmp</span><span class=ws> </span><span class=s1>v0.5.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE</span><span class=p1>=</span>
<span class=p1>github.com/google/go-cmp</span><span class=ws> </span><span class=s1>v0.5.2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE</span><span class=p1>=</span>
<span class=p1>github.com/google/go-cmp</span><span class=ws> </span><span class=s1>v0.5.4</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE</span><span class=p1>=</span>
<span class=p1>github.com/google/go-cmp</span><span class=ws> </span><span class=s1>v0.5.9</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>O2Tfq5qg4qc4AmwVlvv0oLiVAGB7enBSJ2x2DqQFi38</span><span class=p1>=</span>
<span class=p1>github.com/google/martian</span><span class=ws> </span><span class=s1>v2.1.0+incompatible</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>9I4somxYTbIHy5NJKHRl3wXiIaQGbYVAs8BPL6v8lEs</span><span class=p1>=</span>
<span class=p1>github.com/google/martian/v3</span><span class=ws> </span><span class=s1>v3.0.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>y5Zk1BBys9G+gd6Jrk0W3cC1+ELVxBWuIGO+w/tUAp0</span><span class=p1>=</span>
<span class=p1>github.com/google/martian/v3</span><span class=ws> </span><span class=s1>v3.1.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>y5Zk1BBys9G+gd6Jrk0W3cC1+ELVxBWuIGO+w/tUAp0</span><span class=p1>=</span>
<span class=p1>github.com/google/pprof</span><span class=ws> </span><span class=s1>v0.0.0-20181206194817-3ea8567a2e57</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>zfwlbNMJ+OItoe0UupaVj+oy1omPYYDuagoSzA8v9mc</span><span class=p1>=</span>
<span class=p1>github.com/google/pprof</span><span class=ws> </span><span class=s1>v0.0.0-20190515194954-54271f7e092f</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>zfwlbNMJ+OItoe0UupaVj+oy1omPYYDuagoSzA8v9mc</span><span class=p1>=</span>
<span class=p1>github.com/google/pprof</span><span class=ws> </span><span class=s1>v0.0.0-20191218002539-d4f498aebedc</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>ZgVRPoUq/hfqzAqh7sHMqb3I9Rq5C59dIz2SbBwJ4eM</span><span class=p1>=</span>
<span class=p1>github.com/google/pprof</span><span class=ws> </span><span class=s1>v0.0.0-20200212024743-f11f1df84d12</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>ZgVRPoUq/hfqzAqh7sHMqb3I9Rq5C59dIz2SbBwJ4eM</span><span class=p1>=</span>
<span class=p1>github.com/google/pprof</span><span class=ws> </span><span class=s1>v0.0.0-20200229191704-1ebb73c60ed3</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>ZgVRPoUq/hfqzAqh7sHMqb3I9Rq5C59dIz2SbBwJ4eM</span><span class=p1>=</span>
<span class=p1>github.com/google/pprof</span><span class=ws> </span><span class=s1>v0.0.0-20200430221834-fc25d7d30c6d</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>ZgVRPoUq/hfqzAqh7sHMqb3I9Rq5C59dIz2SbBwJ4eM</span><span class=p1>=</span>
<span class=p1>github.com/google/pprof</span><span class=ws> </span><span class=s1>v0.0.0-20200708004538-1a94d8640e99</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>ZgVRPoUq/hfqzAqh7sHMqb3I9Rq5C59dIz2SbBwJ4eM</span><span class=p1>=</span>
<span class=p1>github.com/google/pprof</span><span class=ws> </span><span class=s1>v0.0.0-20201023163331-3e6fc7fc9c4c</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>kpwsk12EmLew5upagYY7GY0pfYCcupk39gWOCRROcvE</span><span class=p1>=</span>
<span class=p1>github.com/google/pprof</span><span class=ws> </span><span class=s1>v0.0.0-20201203190320-1bf35d6f28c2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>kpwsk12EmLew5upagYY7GY0pfYCcupk39gWOCRROcvE</span><span class=p1>=</span>
<span class=p1>github.com/google/pprof</span><span class=ws> </span><span class=s1>v0.0.0-20201218002935-b9804c9f04c2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>kpwsk12EmLew5upagYY7GY0pfYCcupk39gWOCRROcvE</span><span class=p1>=</span>
<span class=p1>github.com/google/renameio</span><span class=ws> </span><span class=s1>v0.1.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>KWCgfxg9yswjAJkECMjeO8J8rahYeXnNhOm40UhjYkI</span><span class=p1>=</span>
<span class=p1>github.com/google/uuid</span><span class=ws> </span><span class=s1>v1.1.2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>TIyPZe4MgqvfeYDBFedMoGGpEw/LqOeaOT+nhxU+yHo</span><span class=p1>=</span>
<span class=p1>github.com/googleapis/gax-go/v2</span><span class=ws> </span><span class=s1>v2.0.4</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>0Wqv26UfaUD9n4G6kQubkQ+KchISgw+vpHVxEJEs9eg</span><span class=p1>=</span>
<span class=p1>github.com/googleapis/gax-go/v2</span><span class=ws> </span><span class=s1>v2.0.5</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>DWXyrwAJ9X0FpwwEdw+IPEYBICEFu5mhpdKc/us6bOk</span><span class=p1>=</span>
<span class=p1>github.com/googleapis/google-cloud-go-testing</span><span class=ws> </span><span class=s1>v0.0.0-20200911160855-bcd43fbb19e8</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>dvDLG8qkwmyD9a/MJJN3XJcT3xFxOKAvTZGvuZmac9g</span><span class=p1>=</span>
<span class=p1>github.com/hashicorp/golang-lru</span><span class=ws> </span><span class=s1>v0.5.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>/m3WP610KZHVQ1SGc6re/UDhFvYD7pJ4Ao+sR/qLZy8</span><span class=p1>=</span>
<span class=p1>github.com/hashicorp/golang-lru</span><span class=ws> </span><span class=s1>v0.5.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>/m3WP610KZHVQ1SGc6re/UDhFvYD7pJ4Ao+sR/qLZy8</span><span class=p1>=</span>
<span class=p1>github.com/hashicorp/hcl</span><span class=ws> </span><span class=s1>v1.0.0</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>0Anlzjpi4vEasTeNFn2mLJgTSwt0+6sfsiTG8qcWGx4</span><span class=p1>=</span>
<span class=p1>github.com/hashicorp/hcl</span><span class=ws> </span><span class=s1>v1.0.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>E5yfLk+7swimpb2L/Alb/PJmXilQ/rhwaUYs4T20WEQ</span><span class=p1>=</span>
<span class=p1>github.com/ianlancetaylor/demangle</span><span class=ws> </span><span class=s1>v0.0.0-20181102032728-5e5cf60278f6</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>aSSvb/t6k1mPoxDqO4vJh6VOCGPwU4O0C2/Eqndh1Sc</span><span class=p1>=</span>
<span class=p1>github.com/ianlancetaylor/demangle</span><span class=ws> </span><span class=s1>v0.0.0-20200824232613-28f6c0f3b639</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>aSSvb/t6k1mPoxDqO4vJh6VOCGPwU4O0C2/Eqndh1Sc</span><span class=p1>=</span>
<span class=p1>github.com/inconshreveable/mousetrap</span><span class=ws> </span><span class=s1>v1.1.0</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>wN+x4NVGpMsO7ErUn/mUI3vEoE6Jt13X2s0bqwp9tc8</span><span class=p1>=</span>
<span class=p1>github.com/inconshreveable/mousetrap</span><span class=ws> </span><span class=s1>v1.1.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>vpF70FUmC8bwa3OWnCshd2FqLfsEA9PFc4w1p2J65bw</span><span class=p1>=</span>
<span class=p1>github.com/jstemmer/go-junit-report</span><span class=ws> </span><span class=s1>v0.0.0-20190106144839-af01ea7f8024</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>6v2b51hI/fHJwM22ozAgKL4VKDeJcHhJFhtBdhmNjmU</span><span class=p1>=</span>
<span class=p1>github.com/jstemmer/go-junit-report</span><span class=ws> </span><span class=s1>v0.9.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>Brl9GWCQeLvo8nXZwPNNblvFj/XSXhF0NWZEnDohbsk</span><span class=p1>=</span>
<span class=p1>github.com/kisielk/gotool</span><span class=ws> </span><span class=s1>v1.0.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>XhKaO+MFFWcvkIS/tQcRk01m1F5IRFswLeQ+oQHNcck</span><span class=p1>=</span>
<span class=p1>github.com/kr/fs</span><span class=ws> </span><span class=s1>v0.1.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>FFnZGqtBN9Gxj7eW1uZ42v5BccTP0vu6NEaFoC2HwRg</span><span class=p1>=</span>
<span class=p1>github.com/kr/pretty</span><span class=ws> </span><span class=s1>v0.1.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>dAy3ld7l9f0ibDNOQOHHMYYIIbhfbHSm3C4ZsoJORNo</span><span class=p1>=</span>
<span class=p1>github.com/kr/pretty</span><span class=ws> </span><span class=s1>v0.3.1</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>flRD4NNwYAUpkphVc1HcthR4KEIFJ65n8Mw5qdRn3LE</span><span class=p1>=</span>
<span class=p1>github.com/kr/pty</span><span class=ws> </span><span class=s1>v1.1.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>pFQYn66WHrOpPYNljwOMqo10TkYh1fy3cYio2l3bCsQ</span><span class=p1>=</span>
<span class=p1>github.com/kr/text</span><span class=ws> </span><span class=s1>v0.1.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>4Jbv+DJW3UT/LiOwJeYQe1efqtUx/iVham/4vfdArNI</span><span class=p1>=</span>
<span class=p1>github.com/kr/text</span><span class=ws> </span><span class=s1>v0.2.0</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>5Nx0Ya0ZqY2ygV366QzturHI13Jq95ApcVaJBhpS+AY</span><span class=p1>=</span>
<span class=p1>github.com/magiconair/properties</span><span class=ws> </span><span class=s1>v1.8.7</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>IeQXZAiQcpL9mgcAe1Nu6cX9LLw6ExEHKjN0VQdvPDY</span><span class=p1>=</span>
<span class=p1>github.com/magiconair/properties</span><span class=ws> </span><span class=s1>v1.8.7</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>Dhd985XPs7jluiymwWYZ0G4Z61jb3vdS329zhj2hYo0</span><span class=p1>=</span>
<span class=p1>github.com/mitchellh/mapstructure</span><span class=ws> </span><span class=s1>v1.5.0</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>jeMsZIYE/09sWLaz43PL7Gy6RuMjD2eJVyuac5Z2hdY</span><span class=p1>=</span>
<span class=p1>github.com/mitchellh/mapstructure</span><span class=ws> </span><span class=s1>v1.5.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>bFUtVrKA4DC2yAKiSyO/QUcy7e+RRV2QTWOzhPopBRo</span><span class=p1>=</span>
<span class=p1>github.com/pelletier/go-toml/v2</span><span class=ws> </span><span class=s1>v2.0.8</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>0ctb6s9mE31h0/lhu+J6OPmVeDxJn+kYnJc2jZR9tGQ</span><span class=p1>=</span>
<span class=p1>github.com/pelletier/go-toml/v2</span><span class=ws> </span><span class=s1>v2.0.8</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>vuYfssBdrU2XDZ9bYydBu6t+6a6PYNcZljzZR9VXg+4</span><span class=p1>=</span>
<span class=p1>github.com/phpdave11/gofpdi</span><span class=ws> </span><span class=s1>v1.0.14-0.20211212211723-1f10f9844311</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>zyWXQ6vu27ETMpYsEMAsisQ+GqJ4e1TPvSNfdOPF0no</span><span class=p1>=</span>
<span class=p1>github.com/phpdave11/gofpdi</span><span class=ws> </span><span class=s1>v1.0.14-0.20211212211723-1f10f9844311</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>vBmVV0Do6hSBHC8uKUQ71JGW+ZGQq74llk/7bXwjDoI</span><span class=p1>=</span>
<span class=p1>github.com/pkg/errors</span><span class=ws> </span><span class=s1>v0.8.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>bwawxfHBFNV+L2hUp1rHADufV3IMtnDRdf1r5NINEl0</span><span class=p1>=</span>
<span class=p1>github.com/pkg/errors</span><span class=ws> </span><span class=s1>v0.9.1</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>FEBLx1zS214owpjy7qsBeixbURkuhQAwrK5UwLGTwt4</span><span class=p1>=</span>
<span class=p1>github.com/pkg/errors</span><span class=ws> </span><span class=s1>v0.9.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>bwawxfHBFNV+L2hUp1rHADufV3IMtnDRdf1r5NINEl0</span><span class=p1>=</span>
<span class=p1>github.com/pkg/sftp</span><span class=ws> </span><span class=s1>v1.13.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>3HaPG6Dq1ILlpPZRO0HVMrsydcdLt6HRDccSgb87qRg</span><span class=p1>=</span>
<span class=p1>github.com/pmezard/go-difflib</span><span class=ws> </span><span class=s1>v1.0.0</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>4DBwDE0NGyQoBHbLQYPwSUPoCMWR5BEzIk/f1lZbAQM</span><span class=p1>=</span>
<span class=p1>github.com/pmezard/go-difflib</span><span class=ws> </span><span class=s1>v1.0.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>iKH77koFhYxTK1pcRnkKkqfTogsbg7gZNVY4sRDYZ/4</span><span class=p1>=</span>
<span class=p1>github.com/prometheus/client_model</span><span class=ws> </span><span class=s1>v0.0.0-20190812154241-14fe0d1b01d4</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>xMI15A0UPsDsEKsMN9yxemIoYk6Tm2C1GtYGdfGttqA</span><span class=p1>=</span>
<span class=p1>github.com/rogpeppe/go-internal</span><span class=ws> </span><span class=s1>v1.3.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>M8bDsm7K2OlrFYOpmOWEs/qY81heoFRclV5y23lUDJ4</span><span class=p1>=</span>
<span class=p1>github.com/rogpeppe/go-internal</span><span class=ws> </span><span class=s1>v1.9.0</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>73kH8U+JUqXU8lRuOHeVHaa/SZPifC7BkcraZVejAe8</span><span class=p1>=</span>
<span class=p1>github.com/russross/blackfriday/v2</span><span class=ws> </span><span class=s1>v2.1.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>+Rmxgy9KzJVeS9/2gXHxylqXiyQDYRxCVz55jmeOWTM</span><span class=p1>=</span>
<span class=p1>github.com/signintech/gopdf</span><span class=ws> </span><span class=s1>v0.18.0</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>ktQSrhoeQSImPBIIH9Z3vnTJZXCfiGYzgYW2Vy5Ff+c</span><span class=p1>=</span>
<span class=p1>github.com/signintech/gopdf</span><span class=ws> </span><span class=s1>v0.18.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>wrLtZoWaRNrS4hphED0oflFoa6IWkOu6M3nJjm4VbO4</span><span class=p1>=</span>
<span class=p1>github.com/spf13/afero</span><span class=ws> </span><span class=s1>v1.9.5</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>stMpOSZFs//0Lv29HduCmli3GUfpFoF3Y1Q/aXj/wVM</span><span class=p1>=</span>
<span class=p1>github.com/spf13/afero</span><span class=ws> </span><span class=s1>v1.9.5</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>UBogFpq8E9Hx+xc5CNTTEpTnuHVmXDwZcZcE1eb/UhQ</span><span class=p1>=</span>
<span class=p1>github.com/spf13/cast</span><span class=ws> </span><span class=s1>v1.5.1</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>R+kOtfhWQE6TVQzY+4D7wJLBgkdVasCEFxSUBYBYIlA</span><span class=p1>=</span>
<span class=p1>github.com/spf13/cast</span><span class=ws> </span><span class=s1>v1.5.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>b9PdjNptOpzXr7Rq1q9gJML/2cdGQAo69NKzQ10KN48</span><span class=p1>=</span>
<span class=p1>github.com/spf13/cobra</span><span class=ws> </span><span class=s1>v1.7.0</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>hyqWnYt1ZQShIddO5kBpj3vu05/++x6tJ6dg8EC572I</span><span class=p1>=</span>
<span class=p1>github.com/spf13/cobra</span><span class=ws> </span><span class=s1>v1.7.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>uLxZILRyS/50WlhOIKD7W6V5bgeIt+4sICxh6uRMrb0</span><span class=p1>=</span>
<span class=p1>github.com/spf13/jwalterweatherman</span><span class=ws> </span><span class=s1>v1.1.0</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>ue6voC5bR5F8YxI5S67j9i582FU4Qvo2bmqnqMYADFk</span><span class=p1>=</span>
<span class=p1>github.com/spf13/jwalterweatherman</span><span class=ws> </span><span class=s1>v1.1.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>aNWZUN0dPAAO/Ljvb5BEdw96iTZ0EXowPYD95IqWIGo</span><span class=p1>=</span>
<span class=p1>github.com/spf13/pflag</span><span class=ws> </span><span class=s1>v1.0.5</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>iy+VFUOCP1a+8yFto/drg2CJ5u0yRoB7fZw3DKv/JXA</span><span class=p1>=</span>
<span class=p1>github.com/spf13/pflag</span><span class=ws> </span><span class=s1>v1.0.5</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>McXfInJRrz4CZXVZOBLb0bTZqETkiAhM9Iw0y3An2Bg</span><span class=p1>=</span>
<span class=p1>github.com/spf13/viper</span><span class=ws> </span><span class=s1>v1.16.0</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>rGGH0XDZhdUOryiDWjmIvUSWpbNqisK8Wk0Vyefw8hc</span><span class=p1>=</span>
<span class=p1>github.com/spf13/viper</span><span class=ws> </span><span class=s1>v1.16.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>yg78JgCJcbrQOvV9YLXgkLaZqUidkY9K+Dd1FofRzQg</span><span class=p1>=</span>
<span class=p1>github.com/stretchr/objx</span><span class=ws> </span><span class=s1>v0.1.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>HFkY916IF+rwdDfMAkV7OtwuqBVzrE8GR6GFx+wExME</span><span class=p1>=</span>
<span class=p1>github.com/stretchr/objx</span><span class=ws> </span><span class=s1>v0.4.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>YvHI0jy2hoMjB+UWwv71VJQ9isScKT/TqJzVSSt89Yw</span><span class=p1>=</span>
<span class=p1>github.com/stretchr/objx</span><span class=ws> </span><span class=s1>v0.5.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>Yh+to48EsGEfYuaHDzXPcE3xhTkx73EhmCGUpEOglKo</span><span class=p1>=</span>
<span class=p1>github.com/stretchr/testify</span><span class=ws> </span><span class=s1>v1.2.2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>a8OnRcib4nhh0OaRAV+Yts87kKdq0PP7pXfy6kDkUVs</span><span class=p1>=</span>
<span class=p1>github.com/stretchr/testify</span><span class=ws> </span><span class=s1>v1.4.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>j7eGeouHqKxXV5pUuKE4zz7dFj8WfuZ+81PSLYec5m4</span><span class=p1>=</span>
<span class=p1>github.com/stretchr/testify</span><span class=ws> </span><span class=s1>v1.5.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>5W2xD1RspED5o8YsWQXVCued0rvSQ+mT+I5cxcmMvtA</span><span class=p1>=</span>
<span class=p1>github.com/stretchr/testify</span><span class=ws> </span><span class=s1>v1.7.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>6Fq8oRcR53rry900zMqJjRRixrwX3KX962/h/Wwjteg</span><span class=p1>=</span>
<span class=p1>github.com/stretchr/testify</span><span class=ws> </span><span class=s1>v1.7.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>6Fq8oRcR53rry900zMqJjRRixrwX3KX962/h/Wwjteg</span><span class=p1>=</span>
<span class=p1>github.com/stretchr/testify</span><span class=ws> </span><span class=s1>v1.8.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>yNjHg4UonilssWZ8iaSj1OCr/vHnekPRkoO+kdMU+MU</span><span class=p1>=</span>
<span class=p1>github.com/stretchr/testify</span><span class=ws> </span><span class=s1>v1.8.3</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>RP3t2pwF7cMEbC1dqtB6poj3niw/9gnV4Cjg5oW5gtY</span><span class=p1>=</span>
<span class=p1>github.com/stretchr/testify</span><span class=ws> </span><span class=s1>v1.8.3</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>sz/lmYIOXD/1dqDmKjjqLyZ2RngseejIcXlSw2iwfAo</span><span class=p1>=</span>
<span class=p1>github.com/subosito/gotenv</span><span class=ws> </span><span class=s1>v1.4.2</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>X1TuBLAMDFbaTAChgCBLu3DU3UPyELpnF2jjJ2cz/S8</span><span class=p1>=</span>
<span class=p1>github.com/subosito/gotenv</span><span class=ws> </span><span class=s1>v1.4.2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>ayKnFf/c6rvx/2iiLrJUk1e6plDbT3edrFNGqEflhK0</span><span class=p1>=</span>
<span class=p1>github.com/yuin/goldmark</span><span class=ws> </span><span class=s1>v1.1.25</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>3hX8gzYuyVAZsxl0MRgGTJEmQBFcNTphYh9decYSb74</span><span class=p1>=</span>
<span class=p1>github.com/yuin/goldmark</span><span class=ws> </span><span class=s1>v1.1.27</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>3hX8gzYuyVAZsxl0MRgGTJEmQBFcNTphYh9decYSb74</span><span class=p1>=</span>
<span class=p1>github.com/yuin/goldmark</span><span class=ws> </span><span class=s1>v1.1.32</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>3hX8gzYuyVAZsxl0MRgGTJEmQBFcNTphYh9decYSb74</span><span class=p1>=</span>
<span class=p1>github.com/yuin/goldmark</span><span class=ws> </span><span class=s1>v1.2.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>3hX8gzYuyVAZsxl0MRgGTJEmQBFcNTphYh9decYSb74</span><span class=p1>=</span>
<span class=p1>go.opencensus.io</span><span class=ws> </span><span class=s1>v0.21.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>mSImk1erAIZhrmZN+AvHh14ztQfjbGwt4TtuofqLduU</span><span class=p1>=</span>
<span class=p1>go.opencensus.io</span><span class=ws> </span><span class=s1>v0.22.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>+kGneAE2xo2IficOXnaByMWTGM9T73dGwxeWcUqIpI8</span><span class=p1>=</span>
<span class=p1>go.opencensus.io</span><span class=ws> </span><span class=s1>v0.22.2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>yxeiOL68Rb0Xd1ddK5vPZ/oVn4vY4Ynel7k9FzqtOIw</span><span class=p1>=</span>
<span class=p1>go.opencensus.io</span><span class=ws> </span><span class=s1>v0.22.3</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>yxeiOL68Rb0Xd1ddK5vPZ/oVn4vY4Ynel7k9FzqtOIw</span><span class=p1>=</span>
<span class=p1>go.opencensus.io</span><span class=ws> </span><span class=s1>v0.22.4</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>yxeiOL68Rb0Xd1ddK5vPZ/oVn4vY4Ynel7k9FzqtOIw</span><span class=p1>=</span>
<span class=p1>go.opencensus.io</span><span class=ws> </span><span class=s1>v0.22.5</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>5pWMHQbX5EPX2/62yrJeAkowc+lfs/XD7Uxpq3pI6kk</span><span class=p1>=</span>
<span class=p1>golang.org/x/crypto</span><span class=ws> </span><span class=s1>v0.0.0-20190308221718-c2843e01d9a2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>djNgcEr1/C05ACkg1iLfiJU5Ep61QUkGW8qpdssI0+w</span><span class=p1>=</span>
<span class=p1>golang.org/x/crypto</span><span class=ws> </span><span class=s1>v0.0.0-20190510104115-cbcb75029529</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>yigFU9vqHzYiE8UmvKecakEJjdnWj3jj499lnFckfCI</span><span class=p1>=</span>
<span class=p1>golang.org/x/crypto</span><span class=ws> </span><span class=s1>v0.0.0-20190605123033-f99c8df09eb5</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>yigFU9vqHzYiE8UmvKecakEJjdnWj3jj499lnFckfCI</span><span class=p1>=</span>
<span class=p1>golang.org/x/crypto</span><span class=ws> </span><span class=s1>v0.0.0-20191011191535-87dc89f01550</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>yigFU9vqHzYiE8UmvKecakEJjdnWj3jj499lnFckfCI</span><span class=p1>=</span>
<span class=p1>golang.org/x/crypto</span><span class=ws> </span><span class=s1>v0.0.0-20200622213623-75b288015ac9</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>LzIPMQfyMNhhGPhUkYOs5KpL4U8rLKemX1yGLhDgUto</span><span class=p1>=</span>
<span class=p1>golang.org/x/crypto</span><span class=ws> </span><span class=s1>v0.0.0-20210421170649-83a5a9bb288b</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>T9bdIzuCu7OtxOm1hfPfRQxPLYneinmdGuTeoZ9dtd4</span><span class=p1>=</span>
<span class=p1>golang.org/x/crypto</span><span class=ws> </span><span class=s1>v0.0.0-20220722155217-630584e8d5aa</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>IxCIyHEi3zRg3s0A5j5BB6A9Jmi73HwBIUl50j+osU4</span><span class=p1>=</span>
<span class=p1>golang.org/x/exp</span><span class=ws> </span><span class=s1>v0.0.0-20190121172915-509febef88a4</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>CJ0aWSM057203Lf6IL+f9T1iT9GByDxfZKAQTCR3kQA</span><span class=p1>=</span>
<span class=p1>golang.org/x/exp</span><span class=ws> </span><span class=s1>v0.0.0-20190306152737-a1d7652674e8</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>CJ0aWSM057203Lf6IL+f9T1iT9GByDxfZKAQTCR3kQA</span><span class=p1>=</span>
<span class=p1>golang.org/x/exp</span><span class=ws> </span><span class=s1>v0.0.0-20190510132918-efd6b22b2522</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>ZjyILWgesfNpC6sMxTJOJm9Kp84zZh5NQWvqDGG3Qr8</span><span class=p1>=</span>
<span class=p1>golang.org/x/exp</span><span class=ws> </span><span class=s1>v0.0.0-20190829153037-c13cbed26979</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>86+5VVa7VpoJ4kLfm080zCjGlMRFzhUhsZKEZO7MGek</span><span class=p1>=</span>
<span class=p1>golang.org/x/exp</span><span class=ws> </span><span class=s1>v0.0.0-20191030013958-a1ab85dbe136</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>JXzH8nQsPlswgeRAPE3MuO9GYsAcnJvJ4vnMwN/5qkY</span><span class=p1>=</span>
<span class=p1>golang.org/x/exp</span><span class=ws> </span><span class=s1>v0.0.0-20191129062945-2f5052295587</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>2RIsYlXP63K8oxa1u096TMicItID8zy7Y6sNkU49FU4</span><span class=p1>=</span>
<span class=p1>golang.org/x/exp</span><span class=ws> </span><span class=s1>v0.0.0-20191227195350-da58074b4299</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>2RIsYlXP63K8oxa1u096TMicItID8zy7Y6sNkU49FU4</span><span class=p1>=</span>
<span class=p1>golang.org/x/exp</span><span class=ws> </span><span class=s1>v0.0.0-20200119233911-0405dc783f0a</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>2RIsYlXP63K8oxa1u096TMicItID8zy7Y6sNkU49FU4</span><span class=p1>=</span>
<span class=p1>golang.org/x/exp</span><span class=ws> </span><span class=s1>v0.0.0-20200207192155-f17229e696bd</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>J/WKrq2StrnmMY6+EHIKF9dgMWnmCNThgcyBT1FY9mM</span><span class=p1>=</span>
<span class=p1>golang.org/x/exp</span><span class=ws> </span><span class=s1>v0.0.0-20200224162631-6cc2880d07d6</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>3jZMyOhIsHpP37uCMkUooju7aAi5cS1Q23tOzKc+0MU</span><span class=p1>=</span>
<span class=p1>golang.org/x/image</span><span class=ws> </span><span class=s1>v0.0.0-20190227222117-0694c2d4d067</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>kZ7UVZpmo3dzQBMxlp+ypCbDeSB+sBbTgSJuh5dn5js</span><span class=p1>=</span>
<span class=p1>golang.org/x/image</span><span class=ws> </span><span class=s1>v0.0.0-20190802002840-cff245a6509b</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>FeLwcggjj3mMvU+oOTbSwawSJRM1uh48EjtB4UJZlP0</span><span class=p1>=</span>
<span class=p1>golang.org/x/lint</span><span class=ws> </span><span class=s1>v0.0.0-20181026193005-c67002cb31c3</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>UVdnD1Gm6xHRNCYTkRU2/jEulfH38KcIWyp/GAMgvoE</span><span class=p1>=</span>
<span class=p1>golang.org/x/lint</span><span class=ws> </span><span class=s1>v0.0.0-20190227174305-5b3e6a55c961</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>wehouNa3lNwaWXcvxsM5YxQ5yQlVC4a0KAMCusXpPoU</span><span class=p1>=</span>
<span class=p1>golang.org/x/lint</span><span class=ws> </span><span class=s1>v0.0.0-20190301231843-5614ed5bae6f</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>UVdnD1Gm6xHRNCYTkRU2/jEulfH38KcIWyp/GAMgvoE</span><span class=p1>=</span>
<span class=p1>golang.org/x/lint</span><span class=ws> </span><span class=s1>v0.0.0-20190313153728-d0100b6bd8b3</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>6SW0HCj/g11FgYtHlgUYUwCkIfeOF89ocIRzGO/8vkc</span><span class=p1>=</span>
<span class=p1>golang.org/x/lint</span><span class=ws> </span><span class=s1>v0.0.0-20190409202823-959b441ac422</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>6SW0HCj/g11FgYtHlgUYUwCkIfeOF89ocIRzGO/8vkc</span><span class=p1>=</span>
<span class=p1>golang.org/x/lint</span><span class=ws> </span><span class=s1>v0.0.0-20190909230951-414d861bb4ac</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>6SW0HCj/g11FgYtHlgUYUwCkIfeOF89ocIRzGO/8vkc</span><span class=p1>=</span>
<span class=p1>golang.org/x/lint</span><span class=ws> </span><span class=s1>v0.0.0-20190930215403-16217165b5de</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>6SW0HCj/g11FgYtHlgUYUwCkIfeOF89ocIRzGO/8vkc</span><span class=p1>=</span>
<span class=p1>golang.org/x/lint</span><span class=ws> </span><span class=s1>v0.0.0-20191125180803-fdd1cda4f05f</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>5qLYkcX4OjUUV8bRuDixDT3tpyyb+LUpUlRWLxfhWrs</span><span class=p1>=</span>
<span class=p1>golang.org/x/lint</span><span class=ws> </span><span class=s1>v0.0.0-20200130185559-910be7a94367</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>3xt1FjdF8hUf6vQPIChWIBhFzV8gjjsPE/fR3IyQdNY</span><span class=p1>=</span>
<span class=p1>golang.org/x/lint</span><span class=ws> </span><span class=s1>v0.0.0-20200302205851-738671d3881b</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>3xt1FjdF8hUf6vQPIChWIBhFzV8gjjsPE/fR3IyQdNY</span><span class=p1>=</span>
<span class=p1>golang.org/x/lint</span><span class=ws> </span><span class=s1>v0.0.0-20201208152925-83fdc39ff7b5</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>3xt1FjdF8hUf6vQPIChWIBhFzV8gjjsPE/fR3IyQdNY</span><span class=p1>=</span>
<span class=p1>golang.org/x/mobile</span><span class=ws> </span><span class=s1>v0.0.0-20190312151609-d3739f865fa6</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>z+o9i4GpDbdi3rU15maQ/Ox0txvL9dWGYEHz965HBQE</span><span class=p1>=</span>
<span class=p1>golang.org/x/mobile</span><span class=ws> </span><span class=s1>v0.0.0-20190719004257-d2bd2a29d028</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>E/iHnbuqvinMTCcRqshq8CkpyQDoeVncDDYHnLhea+o</span><span class=p1>=</span>
<span class=p1>golang.org/x/mod</span><span class=ws> </span><span class=s1>v0.0.0-20190513183733-4bf6d317e70e</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>mXi4GBBbnImb6dmsKGUJ2LatrhH/nqhxcFungHvyanc</span><span class=p1>=</span>
<span class=p1>golang.org/x/mod</span><span class=ws> </span><span class=s1>v0.1.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>0QHyrYULN0/3qlju5TqG8bIK38QM8yzMo5ekMj3DlcY</span><span class=p1>=</span>
<span class=p1>golang.org/x/mod</span><span class=ws> </span><span class=s1>v0.1.1-0.20191105210325-c90efee705ee</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>QqPTAvyqsEbceGzBzNggFXnrqF1CaUcvgkdR5Ot7KZg</span><span class=p1>=</span>
<span class=p1>golang.org/x/mod</span><span class=ws> </span><span class=s1>v0.1.1-0.20191107180719-034126e5016b</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>QqPTAvyqsEbceGzBzNggFXnrqF1CaUcvgkdR5Ot7KZg</span><span class=p1>=</span>
<span class=p1>golang.org/x/mod</span><span class=ws> </span><span class=s1>v0.2.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>s0Qsj1ACt9ePp/hMypM3fl4fZqREWJwdYDEqhRiZZUA</span><span class=p1>=</span>
<span class=p1>golang.org/x/mod</span><span class=ws> </span><span class=s1>v0.3.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>s0Qsj1ACt9ePp/hMypM3fl4fZqREWJwdYDEqhRiZZUA</span><span class=p1>=</span>
<span class=p1>golang.org/x/mod</span><span class=ws> </span><span class=s1>v0.4.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>s0Qsj1ACt9ePp/hMypM3fl4fZqREWJwdYDEqhRiZZUA</span><span class=p1>=</span>
<span class=p1>golang.org/x/mod</span><span class=ws> </span><span class=s1>v0.4.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>s0Qsj1ACt9ePp/hMypM3fl4fZqREWJwdYDEqhRiZZUA</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20180724234803-3673e40ba225</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20180826012351-8a410e7b638d</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20190108225652-1e06a53dbb7e</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20190213061140-3a22650c66bd</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20190311183353-d8887717615a</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>t9HGtf8HONx5eT2rtn7q6eTqICYqUVnKs3thJo3Qplg</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20190404232315-eb5bcb51f2a3</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>t9HGtf8HONx5eT2rtn7q6eTqICYqUVnKs3thJo3Qplg</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20190501004415-9ce7a6920f09</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>t9HGtf8HONx5eT2rtn7q6eTqICYqUVnKs3thJo3Qplg</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20190503192946-f4e77d36d62c</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>t9HGtf8HONx5eT2rtn7q6eTqICYqUVnKs3thJo3Qplg</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20190603091049-60506f45cf65</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>HSz+uSET+XFnRR8LxR5pz3Of3rY3CfYBVs4xY44aLks</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20190620200207-3b0461eec859</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20190628185345-da137c7871d7</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20190724013045-ca1201d0de80</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20191209160850-c0dbc17a3553</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20200114155413-6afb5195e5aa</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20200202094626-16171245cfb2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20200222125558-5a598a2470a0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20200226121028-0de0cce0169b</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20200301022130-244492dfa37a</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20200324143707-d3edc9973b7e</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>qpuaurCH72eLCgpAm/N6yyVIVM9cpaDIP3A8BGJEC5A</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20200501053045-e0ff5e5a1de5</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>qpuaurCH72eLCgpAm/N6yyVIVM9cpaDIP3A8BGJEC5A</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20200506145744-7e3656a0809f</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>qpuaurCH72eLCgpAm/N6yyVIVM9cpaDIP3A8BGJEC5A</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20200513185701-a91f0712d120</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>qpuaurCH72eLCgpAm/N6yyVIVM9cpaDIP3A8BGJEC5A</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20200520182314-0ba52f642ac2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>qpuaurCH72eLCgpAm/N6yyVIVM9cpaDIP3A8BGJEC5A</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20200625001655-4c5254603344</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>/O7V0waA8r7cgGh81Ro3o1hOxt32SMVPicZroKQ2sZA</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20200707034311-ab3426394381</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>/O7V0waA8r7cgGh81Ro3o1hOxt32SMVPicZroKQ2sZA</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20200822124328-c89045814202</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>/O7V0waA8r7cgGh81Ro3o1hOxt32SMVPicZroKQ2sZA</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20201021035429-f5854403a974</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>sp8m0HH+o8qH0wwXwYZr8TS3Oi6o0r6Gce1SSxlDquU</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20201031054903-ff519b6c9102</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>sp8m0HH+o8qH0wwXwYZr8TS3Oi6o0r6Gce1SSxlDquU</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20201209123823-ac852fbbde11</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20201224014010-6772e930b67b</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20210226172049-e18ecbb05110</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg</span><span class=p1>=</span>
<span class=p1>golang.org/x/net</span><span class=ws> </span><span class=s1>v0.0.0-20211112202133-69e39bad7dc2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>9nx3DQGgdP8bBQD5qxJ1jj9UTztislL4KSBs9R2vV5Y</span><span class=p1>=</span>
<span class=p1>golang.org/x/oauth2</span><span class=ws> </span><span class=s1>v0.0.0-20180821212333-d2e6202438be</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>N/0e6XlmueqKjAGxoOufVs8QHGRruUQn6yWY3a++T0U</span><span class=p1>=</span>
<span class=p1>golang.org/x/oauth2</span><span class=ws> </span><span class=s1>v0.0.0-20190226205417-e64efc72b421</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>gOpvHmFTYa4IltrdGE7lF6nIHvwfUNPOp7c8zoXwtLw</span><span class=p1>=</span>
<span class=p1>golang.org/x/oauth2</span><span class=ws> </span><span class=s1>v0.0.0-20190604053449-0f29369cfe45</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>gOpvHmFTYa4IltrdGE7lF6nIHvwfUNPOp7c8zoXwtLw</span><span class=p1>=</span>
<span class=p1>golang.org/x/oauth2</span><span class=ws> </span><span class=s1>v0.0.0-20191202225959-858c2ad4c8b6</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>gOpvHmFTYa4IltrdGE7lF6nIHvwfUNPOp7c8zoXwtLw</span><span class=p1>=</span>
<span class=p1>golang.org/x/oauth2</span><span class=ws> </span><span class=s1>v0.0.0-20200107190931-bf48bf16ab8d</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>gOpvHmFTYa4IltrdGE7lF6nIHvwfUNPOp7c8zoXwtLw</span><span class=p1>=</span>
<span class=p1>golang.org/x/oauth2</span><span class=ws> </span><span class=s1>v0.0.0-20200902213428-5d25da1a8d43</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>KelEdhl1UZF7XfJ4dDtk6s++YSgaE7mD/BuKKDLBl4A</span><span class=p1>=</span>
<span class=p1>golang.org/x/oauth2</span><span class=ws> </span><span class=s1>v0.0.0-20201109201403-9fd604954f58</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>KelEdhl1UZF7XfJ4dDtk6s++YSgaE7mD/BuKKDLBl4A</span><span class=p1>=</span>
<span class=p1>golang.org/x/oauth2</span><span class=ws> </span><span class=s1>v0.0.0-20201208152858-08078c50e5b5</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>KelEdhl1UZF7XfJ4dDtk6s++YSgaE7mD/BuKKDLBl4A</span><span class=p1>=</span>
<span class=p1>golang.org/x/oauth2</span><span class=ws> </span><span class=s1>v0.0.0-20210218202405-ba52d332ba99</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>KelEdhl1UZF7XfJ4dDtk6s++YSgaE7mD/BuKKDLBl4A</span><span class=p1>=</span>
<span class=p1>golang.org/x/sync</span><span class=ws> </span><span class=s1>v0.0.0-20180314180146-1d60e4601c6f</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM</span><span class=p1>=</span>
<span class=p1>golang.org/x/sync</span><span class=ws> </span><span class=s1>v0.0.0-20181108010431-42b317875d0f</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM</span><span class=p1>=</span>
<span class=p1>golang.org/x/sync</span><span class=ws> </span><span class=s1>v0.0.0-20181221193216-37e7f081c4d4</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM</span><span class=p1>=</span>
<span class=p1>golang.org/x/sync</span><span class=ws> </span><span class=s1>v0.0.0-20190227155943-e225da77a7e6</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM</span><span class=p1>=</span>
<span class=p1>golang.org/x/sync</span><span class=ws> </span><span class=s1>v0.0.0-20190423024810-112230192c58</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM</span><span class=p1>=</span>
<span class=p1>golang.org/x/sync</span><span class=ws> </span><span class=s1>v0.0.0-20190911185100-cd5d95a43a6e</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM</span><span class=p1>=</span>
<span class=p1>golang.org/x/sync</span><span class=ws> </span><span class=s1>v0.0.0-20200317015054-43a5402ce75a</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM</span><span class=p1>=</span>
<span class=p1>golang.org/x/sync</span><span class=ws> </span><span class=s1>v0.0.0-20200625203802-6e8e738ad208</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM</span><span class=p1>=</span>
<span class=p1>golang.org/x/sync</span><span class=ws> </span><span class=s1>v0.0.0-20201020160332-67f06af15bc9</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM</span><span class=p1>=</span>
<span class=p1>golang.org/x/sync</span><span class=ws> </span><span class=s1>v0.0.0-20201207232520-09787c993a3a</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20180830151530-49385e6e1522</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20190215142949-d0b11bdaac8a</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20190312061237-fead79001313</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20190412213103-97732733099d</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20190502145724-3ef323f4f1fd</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20190507160741-ecd444e8653b</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20190606165138-5da285871e9c</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20190624142023-c5567b49c5d0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20190726091711-fc99dfbffb4e</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20191001151750-bb3f8db39f24</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20191204072324-ce4227a45e2e</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20191228213918-04cbcbbfeed8</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20200113162924-86b910548bc1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20200122134326-e047566fdf82</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20200202164722-d101bd2416d5</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20200212091648-12a6c2dcc1e4</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20200223170610-d5e6a3e2c0ae</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20200302150141-5c8b2ff67527</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20200323222414-85ca7c5b95cd</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20200331124033-c3d80250170d</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20200501052902-10377860bb8e</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20200511232937-7e40ca221e25</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20200515095857-1151b9dac4a9</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20200523222454-059865788121</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20200803210538-64077c9b5642</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20200905004654-be1d3432aa8f</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20200930185726-fdedc70b468f</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20201119102817-f84b799fce68</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20201201145000-ef89a241ccb3</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20210104204734-6f8348627aad</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20210119212857-b64e53b001e4</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20210225134936-a50acf3fe073</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20210423082822-04245dca01da</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20210423185535-09eb48e85fd7</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20210615035016-665e8c7367d1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.0.0-20220908164124-27713097b956</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.8.0</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>EBmGv8NaZBZTWvrbjNoL6HVt+IVy3QDQpJs7VRIw3tU</span><span class=p1>=</span>
<span class=p1>golang.org/x/sys</span><span class=ws> </span><span class=s1>v0.8.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg</span><span class=p1>=</span>
<span class=p1>golang.org/x/term</span><span class=ws> </span><span class=s1>v0.0.0-20201126162022-7de9c90e9dd1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>bj7SfCRtBDWHUb9snDiAeCFNEtKQo2Wmx5Cou7ajbmo</span><span class=p1>=</span>
<span class=p1>golang.org/x/text</span><span class=ws> </span><span class=s1>v0.0.0-20170915032832-14c0d48ead0c</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ</span><span class=p1>=</span>
<span class=p1>golang.org/x/text</span><span class=ws> </span><span class=s1>v0.3.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ</span><span class=p1>=</span>
<span class=p1>golang.org/x/text</span><span class=ws> </span><span class=s1>v0.3.1-0.20180807135948-17ff2d5776d2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ</span><span class=p1>=</span>
<span class=p1>golang.org/x/text</span><span class=ws> </span><span class=s1>v0.3.2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>bEr9sfX3Q8Zfm5fL9x+3itogRgK3+ptLWKqgva+5dAk</span><span class=p1>=</span>
<span class=p1>golang.org/x/text</span><span class=ws> </span><span class=s1>v0.3.3</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>5Zoc/QRtKVWzQhOtBMvqHzDpF6irO9z98xDceosuGiQ</span><span class=p1>=</span>
<span class=p1>golang.org/x/text</span><span class=ws> </span><span class=s1>v0.3.4</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>5Zoc/QRtKVWzQhOtBMvqHzDpF6irO9z98xDceosuGiQ</span><span class=p1>=</span>
<span class=p1>golang.org/x/text</span><span class=ws> </span><span class=s1>v0.3.6</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>5Zoc/QRtKVWzQhOtBMvqHzDpF6irO9z98xDceosuGiQ</span><span class=p1>=</span>
<span class=p1>golang.org/x/text</span><span class=ws> </span><span class=s1>v0.3.7</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>u+2+/6zg+i71rQMx5EYifcz6MCKuco9NR6JIITiCfzQ</span><span class=p1>=</span>
<span class=p1>golang.org/x/text</span><span class=ws> </span><span class=s1>v0.9.0</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>2sjJmO8cDvYveuX97RDLsxlyUxLl+GHoLxBiRdHllBE</span><span class=p1>=</span>
<span class=p1>golang.org/x/text</span><span class=ws> </span><span class=s1>v0.9.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>e1OnstbJyHTd6l/uOt8jFFHp6TRDWZR/bV3emEE/zU8</span><span class=p1>=</span>
<span class=p1>golang.org/x/time</span><span class=ws> </span><span class=s1>v0.0.0-20181108054448-85acf8d2951c</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>tRJNPiyCQ0inRvYxbN9jk5I+vvW/OXSQhTDSoE431IQ</span><span class=p1>=</span>
<span class=p1>golang.org/x/time</span><span class=ws> </span><span class=s1>v0.0.0-20190308202827-9d24e82272b4</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>tRJNPiyCQ0inRvYxbN9jk5I+vvW/OXSQhTDSoE431IQ</span><span class=p1>=</span>
<span class=p1>golang.org/x/time</span><span class=ws> </span><span class=s1>v0.0.0-20191024005414-555d28b269f0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>tRJNPiyCQ0inRvYxbN9jk5I+vvW/OXSQhTDSoE431IQ</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20180917221912-90fa682c2a6e</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20190114222345-bf090417da8b</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20190226205152-f727befe758c</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>9Yl7xja0Znq3iFh3HoIrodX9oNMXvdceNzlUR8zjMvY</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20190311212946-11955173bddd</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>LCzVGOaR6xXOjkQ3onu1FJEFr0SW1gC7cKk1uF8kGRs</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20190312151545-0bb0c0a6e846</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>LCzVGOaR6xXOjkQ3onu1FJEFr0SW1gC7cKk1uF8kGRs</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20190312170243-e65039ee4138</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>LCzVGOaR6xXOjkQ3onu1FJEFr0SW1gC7cKk1uF8kGRs</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20190425150028-36563e24a262</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>RgjU9mgBXZiqYHBnxXauZ1Gv1EHHAz9KjViQ78xBX0Q</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20190506145303-2d16b83fe98c</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>RgjU9mgBXZiqYHBnxXauZ1Gv1EHHAz9KjViQ78xBX0Q</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20190524140312-2c0ae7006135</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>RgjU9mgBXZiqYHBnxXauZ1Gv1EHHAz9KjViQ78xBX0Q</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20190606124116-d0a3d012864b</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>/rFqwRUd4F7ZHNgwSSTFct+R/Kf4OFW1sUzUTQQTgfc</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20190621195816-6e04913cbbac</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>/rFqwRUd4F7ZHNgwSSTFct+R/Kf4OFW1sUzUTQQTgfc</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20190628153133-6cdbf07be9d0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>/rFqwRUd4F7ZHNgwSSTFct+R/Kf4OFW1sUzUTQQTgfc</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20190816200558-6889da9d5479</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>b+2E5dAYhXwXZwtnZ6UAqBI28+e2cm9otk0dWdXHAEo</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20190911174233-4f2ddba30aff</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>b+2E5dAYhXwXZwtnZ6UAqBI28+e2cm9otk0dWdXHAEo</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20191012152004-8de300cfc20a</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>b+2E5dAYhXwXZwtnZ6UAqBI28+e2cm9otk0dWdXHAEo</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20191113191852-77e3bb0ad9e7</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>b+2E5dAYhXwXZwtnZ6UAqBI28+e2cm9otk0dWdXHAEo</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20191115202509-3a792d9c32b2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>b+2E5dAYhXwXZwtnZ6UAqBI28+e2cm9otk0dWdXHAEo</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20191119224855-298f0cb1881e</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>b+2E5dAYhXwXZwtnZ6UAqBI28+e2cm9otk0dWdXHAEo</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20191125144606-a911d9008d1f</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>b+2E5dAYhXwXZwtnZ6UAqBI28+e2cm9otk0dWdXHAEo</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20191130070609-6e064ea0cf2d</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>b+2E5dAYhXwXZwtnZ6UAqBI28+e2cm9otk0dWdXHAEo</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20191216173652-a0e659d51361</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>TB2adYChydJhpapKDTa4BR/hXlZSLoq2Wpct/0txZ28</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20191227053925-7b8e75db28f4</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>TB2adYChydJhpapKDTa4BR/hXlZSLoq2Wpct/0txZ28</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20200117161641-43d50277825c</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>TB2adYChydJhpapKDTa4BR/hXlZSLoq2Wpct/0txZ28</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20200122220014-bf1340f18c4a</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>TB2adYChydJhpapKDTa4BR/hXlZSLoq2Wpct/0txZ28</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20200130002326-2f3ba24bd6e7</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>TB2adYChydJhpapKDTa4BR/hXlZSLoq2Wpct/0txZ28</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20200204074204-1cc6d1ef6c74</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>TB2adYChydJhpapKDTa4BR/hXlZSLoq2Wpct/0txZ28</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20200207183749-b753a1ba74fa</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>TB2adYChydJhpapKDTa4BR/hXlZSLoq2Wpct/0txZ28</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20200212150539-ea181f53ac56</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>TB2adYChydJhpapKDTa4BR/hXlZSLoq2Wpct/0txZ28</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20200224181240-023911ca70b2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>TB2adYChydJhpapKDTa4BR/hXlZSLoq2Wpct/0txZ28</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20200227222343-706bc42d1f0d</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>TB2adYChydJhpapKDTa4BR/hXlZSLoq2Wpct/0txZ28</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20200304193943-95d2e580d8eb</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>o4KQGtdN14AW+yjsvvwRTJJuXz8XRtIHtEnmAXLyFUw</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20200312045724-11d5b4c81c7d</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>o4KQGtdN14AW+yjsvvwRTJJuXz8XRtIHtEnmAXLyFUw</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20200331025713-a30bf2db82d4</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>Sl4aGygMT6LrqrWclx+PTx3U+LnKx/seiNR+3G19Ar8</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20200501065659-ab2804fb9c9d</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>EkVYQZoAsY45+roYkvgYkIh4xh/qjgUK9TdY2XT94GE</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20200512131952-2bc93b1c0c88</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>EkVYQZoAsY45+roYkvgYkIh4xh/qjgUK9TdY2XT94GE</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20200515010526-7d3b6ebf133d</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>EkVYQZoAsY45+roYkvgYkIh4xh/qjgUK9TdY2XT94GE</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20200618134242-20370b0cb4b2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>EkVYQZoAsY45+roYkvgYkIh4xh/qjgUK9TdY2XT94GE</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20200729194436-6467de6f59a7</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>njjCfa9FT2d7l9Bc6FUM5FLjQPp3cFF28FI3qnDFljA</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20200804011535-6c149bb5ef0d</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>njjCfa9FT2d7l9Bc6FUM5FLjQPp3cFF28FI3qnDFljA</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20200825202427-b303f430e36d</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>njjCfa9FT2d7l9Bc6FUM5FLjQPp3cFF28FI3qnDFljA</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20200904185747-39188db58858</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>Cj7w3i3Rnn0Xh82ur9kSqwfTHTeVxaDqrfMjpcNT6bE</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20201110124207-079ba7bd75cd</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>emZCQorbCU4vsT4fOWvOPXz4eW1wZW4PmDk9uLelYpA</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20201201161351-ac6f37ff4c2a</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>emZCQorbCU4vsT4fOWvOPXz4eW1wZW4PmDk9uLelYpA</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20201208233053-a543418bbed2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>emZCQorbCU4vsT4fOWvOPXz4eW1wZW4PmDk9uLelYpA</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20210105154028-b0ab187a4818</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>emZCQorbCU4vsT4fOWvOPXz4eW1wZW4PmDk9uLelYpA</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.0.0-20210108195828-e2f9c7f1fc8e</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>emZCQorbCU4vsT4fOWvOPXz4eW1wZW4PmDk9uLelYpA</span><span class=p1>=</span>
<span class=p1>golang.org/x/tools</span><span class=ws> </span><span class=s1>v0.1.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>xkSsbof2nBLbhDlRMhhhyNLN/zl3eTqcnHD5viDpcZ0</span><span class=p1>=</span>
<span class=p1>golang.org/x/xerrors</span><span class=ws> </span><span class=s1>v0.0.0-20190717185122-a985d3407aa7</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0</span><span class=p1>=</span>
<span class=p1>golang.org/x/xerrors</span><span class=ws> </span><span class=s1>v0.0.0-20191011141410-1b5146add898</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0</span><span class=p1>=</span>
<span class=p1>golang.org/x/xerrors</span><span class=ws> </span><span class=s1>v0.0.0-20191204190536-9bdfabe68543</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0</span><span class=p1>=</span>
<span class=p1>golang.org/x/xerrors</span><span class=ws> </span><span class=s1>v0.0.0-20200804184101-5ec99f83aff1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0</span><span class=p1>=</span>
<span class=p1>google.golang.org/api</span><span class=ws> </span><span class=s1>v0.4.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>8k5glujaEP+g9n7WNsDg8QP6cUVNI86fCNMcbazEtwE</span><span class=p1>=</span>
<span class=p1>google.golang.org/api</span><span class=ws> </span><span class=s1>v0.7.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>WtwebWUNSVBH/HAw79HIFXZNqEvBhG+Ra+ax0hx3E3M</span><span class=p1>=</span>
<span class=p1>google.golang.org/api</span><span class=ws> </span><span class=s1>v0.8.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>o4eAsZoiT+ibD93RtjEohWalFOjRDx6CVaqeizhEnKg</span><span class=p1>=</span>
<span class=p1>google.golang.org/api</span><span class=ws> </span><span class=s1>v0.9.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>o4eAsZoiT+ibD93RtjEohWalFOjRDx6CVaqeizhEnKg</span><span class=p1>=</span>
<span class=p1>google.golang.org/api</span><span class=ws> </span><span class=s1>v0.13.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>iLdEw5Ide6rF15KTC1Kkl0iskquN2gFfn9o9XIsbkAI</span><span class=p1>=</span>
<span class=p1>google.golang.org/api</span><span class=ws> </span><span class=s1>v0.14.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>iLdEw5Ide6rF15KTC1Kkl0iskquN2gFfn9o9XIsbkAI</span><span class=p1>=</span>
<span class=p1>google.golang.org/api</span><span class=ws> </span><span class=s1>v0.15.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>iLdEw5Ide6rF15KTC1Kkl0iskquN2gFfn9o9XIsbkAI</span><span class=p1>=</span>
<span class=p1>google.golang.org/api</span><span class=ws> </span><span class=s1>v0.17.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>BwFmGc8tA3vsd7r/7kR8DY7iEEGSU04BFxCo5jP/sfE</span><span class=p1>=</span>
<span class=p1>google.golang.org/api</span><span class=ws> </span><span class=s1>v0.18.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>BwFmGc8tA3vsd7r/7kR8DY7iEEGSU04BFxCo5jP/sfE</span><span class=p1>=</span>
<span class=p1>google.golang.org/api</span><span class=ws> </span><span class=s1>v0.19.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>BwFmGc8tA3vsd7r/7kR8DY7iEEGSU04BFxCo5jP/sfE</span><span class=p1>=</span>
<span class=p1>google.golang.org/api</span><span class=ws> </span><span class=s1>v0.20.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>BwFmGc8tA3vsd7r/7kR8DY7iEEGSU04BFxCo5jP/sfE</span><span class=p1>=</span>
<span class=p1>google.golang.org/api</span><span class=ws> </span><span class=s1>v0.22.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>BwFmGc8tA3vsd7r/7kR8DY7iEEGSU04BFxCo5jP/sfE</span><span class=p1>=</span>
<span class=p1>google.golang.org/api</span><span class=ws> </span><span class=s1>v0.24.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>lIXQywCXRcnZPGlsd8NbLnOjtAoL6em04bJ9+z0MncE</span><span class=p1>=</span>
<span class=p1>google.golang.org/api</span><span class=ws> </span><span class=s1>v0.28.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>lIXQywCXRcnZPGlsd8NbLnOjtAoL6em04bJ9+z0MncE</span><span class=p1>=</span>
<span class=p1>google.golang.org/api</span><span class=ws> </span><span class=s1>v0.29.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>Lcubydp8VUV7KeIHD9z2Bys/sm/vGKnG1UHuDBSrHWM</span><span class=p1>=</span>
<span class=p1>google.golang.org/api</span><span class=ws> </span><span class=s1>v0.30.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>QGmEvQ87FHZNiUVJkT14jQNYJ4ZJjdRF23ZXz5138Fc</span><span class=p1>=</span>
<span class=p1>google.golang.org/api</span><span class=ws> </span><span class=s1>v0.35.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>/XrVsuzM0rZmrsbjJutiuftIzeuTQcEeaYcSk/mQ1dg</span><span class=p1>=</span>
<span class=p1>google.golang.org/api</span><span class=ws> </span><span class=s1>v0.36.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>+z5ficQTmoYpPn8LCUNVpK5I7hwkpjbcgqA7I34qYtE</span><span class=p1>=</span>
<span class=p1>google.golang.org/api</span><span class=ws> </span><span class=s1>v0.40.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>fYKFpnQN0DsDSKRVRcQSDQNtqWPfM9i+zNPxepjRCQ8</span><span class=p1>=</span>
<span class=p1>google.golang.org/appengine</span><span class=ws> </span><span class=s1>v1.1.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>EbEs0AVv82hx2wNQdGPgUI5lhzA/G0D9YwlJXL52JkM</span><span class=p1>=</span>
<span class=p1>google.golang.org/appengine</span><span class=ws> </span><span class=s1>v1.4.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>xpcJRLb0r/rnEns0DIKYYv+WjYCduHsrkT7/EB5XEv4</span><span class=p1>=</span>
<span class=p1>google.golang.org/appengine</span><span class=ws> </span><span class=s1>v1.5.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>xpcJRLb0r/rnEns0DIKYYv+WjYCduHsrkT7/EB5XEv4</span><span class=p1>=</span>
<span class=p1>google.golang.org/appengine</span><span class=ws> </span><span class=s1>v1.6.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>i06prIuMbXzDqacNJfV5OdTW448YApPu5ww/cMBSeb0</span><span class=p1>=</span>
<span class=p1>google.golang.org/appengine</span><span class=ws> </span><span class=s1>v1.6.5</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>8WjMMxjGQR8xUklV/ARdw2HLXBOI7O7uCIDZVag1xfc</span><span class=p1>=</span>
<span class=p1>google.golang.org/appengine</span><span class=ws> </span><span class=s1>v1.6.6</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>8WjMMxjGQR8xUklV/ARdw2HLXBOI7O7uCIDZVag1xfc</span><span class=p1>=</span>
<span class=p1>google.golang.org/appengine</span><span class=ws> </span><span class=s1>v1.6.7</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>8WjMMxjGQR8xUklV/ARdw2HLXBOI7O7uCIDZVag1xfc</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20180817151627-c66870c02cf8</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>JiN7NxoALGmiZfu7CAH4rXhgtRTLTxftemlI0sWmxmc</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20190307195333-5fe7a883aa19</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>VzzqZJRnGkLBvHegQrXjBqPurQTc5/KpmUdxsrq26oE</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20190418145605-e7d98fc518a7</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>VzzqZJRnGkLBvHegQrXjBqPurQTc5/KpmUdxsrq26oE</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20190425155659-357c62f0e4bb</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>VzzqZJRnGkLBvHegQrXjBqPurQTc5/KpmUdxsrq26oE</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20190502173448-54afdca5d873</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>VzzqZJRnGkLBvHegQrXjBqPurQTc5/KpmUdxsrq26oE</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20190801165951-fa694d86fc64</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>DMBHOl98Agz4BDEuKkezgsaosCRResVns1a3J2ZsMNc</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20190819201941-24fa4b261c55</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>DMBHOl98Agz4BDEuKkezgsaosCRResVns1a3J2ZsMNc</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20190911173649-1774047e7e51</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>IbNlFCBrqXvoKpeg0TB2l7cyZUmoaFKYIwrEpbDKLA8</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20191108220845-16a3f7862a1a</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>n3cpQtvxv34hfy77yVDNjmbRyujviMdxYliBSkLhpCc</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20191115194625-c23dd37a84c9</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>n3cpQtvxv34hfy77yVDNjmbRyujviMdxYliBSkLhpCc</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20191216164720-4f79533eabd1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>n3cpQtvxv34hfy77yVDNjmbRyujviMdxYliBSkLhpCc</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20191230161307-f3c370f40bfb</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>n3cpQtvxv34hfy77yVDNjmbRyujviMdxYliBSkLhpCc</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20200115191322-ca5a22157cba</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>n3cpQtvxv34hfy77yVDNjmbRyujviMdxYliBSkLhpCc</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20200122232147-0452cf42e150</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>n3cpQtvxv34hfy77yVDNjmbRyujviMdxYliBSkLhpCc</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20200204135345-fa8e72b47b90</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>GmwEX6Z4W5gMy59cAlVYjN9JhxgbQH6Gn+gFDQe2lzA</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20200212174721-66ed5ce911ce</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>55QSHmfGQM9UVYDPBsyGGes0y52j32PQ3BqQfXhyH3c</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20200224152610-e50cd9704f63</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>55QSHmfGQM9UVYDPBsyGGes0y52j32PQ3BqQfXhyH3c</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20200228133532-8c2c7df3a383</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>55QSHmfGQM9UVYDPBsyGGes0y52j32PQ3BqQfXhyH3c</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20200305110556-506484158171</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>55QSHmfGQM9UVYDPBsyGGes0y52j32PQ3BqQfXhyH3c</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20200312145019-da6875a35672</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>55QSHmfGQM9UVYDPBsyGGes0y52j32PQ3BqQfXhyH3c</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20200331122359-1ee6d9798940</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>55QSHmfGQM9UVYDPBsyGGes0y52j32PQ3BqQfXhyH3c</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20200430143042-b979b6f78d84</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>55QSHmfGQM9UVYDPBsyGGes0y52j32PQ3BqQfXhyH3c</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20200511104702-f5ebc3bea380</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>55QSHmfGQM9UVYDPBsyGGes0y52j32PQ3BqQfXhyH3c</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20200515170657-fc4c6c6a6587</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>YsZOwe1myG/8QRHRsmBRE1LrgQY60beZKjly0O1fX9U</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20200526211855-cb27e3aa2013</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>NbSheEEYHJ7i3ixzK3sjbqSGDJWnxyFXZblF3eUsNvo</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20200618031413-b414f8b61790</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>jDfRM7FcilCzHH/e9qn6dsT145K34l5v+OpcnNgKAAA</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20200729003335-053ba62fc06f</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20200804131852-c06518451d9c</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20200825200019-8632dd797987</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20200904004341-0bd0a958aa1d</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20201109203340-2640f1f9cdfb</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20201201144952-b05cb90ed32e</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20201210142538-e3217bee35cc</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20201214200347-8c77b98c765d</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20210108203827-ffc7fda8c3d7</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no</span><span class=p1>=</span>
<span class=p1>google.golang.org/genproto</span><span class=ws> </span><span class=s1>v0.0.0-20210226172003-ab064af71705</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no</span><span class=p1>=</span>
<span class=p1>google.golang.org/grpc</span><span class=ws> </span><span class=s1>v1.19.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>mqu4LbDTu4XGKhr4mRzUsmM4RtVoemTSY81AxZiDr8c</span><span class=p1>=</span>
<span class=p1>google.golang.org/grpc</span><span class=ws> </span><span class=s1>v1.20.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>10oTOabMzJvdu6/UiuZezV6QK5dSlG84ov/aaiqXj38</span><span class=p1>=</span>
<span class=p1>google.golang.org/grpc</span><span class=ws> </span><span class=s1>v1.21.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>oYelfM1adQP15Ek0mdvEgi9Df8B9CZIaU1084ijfRaM</span><span class=p1>=</span>
<span class=p1>google.golang.org/grpc</span><span class=ws> </span><span class=s1>v1.23.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>Y5yQAOtifL1yxbo5wqy6BxZv8vAUGQwXBOALyacEbxg</span><span class=p1>=</span>
<span class=p1>google.golang.org/grpc</span><span class=ws> </span><span class=s1>v1.25.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>c3i+UQWmh7LiEpx4sFZnkU36qjEYZ0imhYfXVyQciAY</span><span class=p1>=</span>
<span class=p1>google.golang.org/grpc</span><span class=ws> </span><span class=s1>v1.26.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>qbnxyOmOxrQa7FizSgH+ReBfzJrCY1pSN7KXBS8abTk</span><span class=p1>=</span>
<span class=p1>google.golang.org/grpc</span><span class=ws> </span><span class=s1>v1.27.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>qbnxyOmOxrQa7FizSgH+ReBfzJrCY1pSN7KXBS8abTk</span><span class=p1>=</span>
<span class=p1>google.golang.org/grpc</span><span class=ws> </span><span class=s1>v1.27.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>qbnxyOmOxrQa7FizSgH+ReBfzJrCY1pSN7KXBS8abTk</span><span class=p1>=</span>
<span class=p1>google.golang.org/grpc</span><span class=ws> </span><span class=s1>v1.28.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>rpkK4SK4GF4Ach/+MFLZUBavHOvF2JJB5uozKKal+60</span><span class=p1>=</span>
<span class=p1>google.golang.org/grpc</span><span class=ws> </span><span class=s1>v1.29.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>itym6AZVZYACWQqET3MqgPpjcuV5QH3BxFS3IjizoKk</span><span class=p1>=</span>
<span class=p1>google.golang.org/grpc</span><span class=ws> </span><span class=s1>v1.30.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>N36X2cJ7JwdamYAgDz+s+rVMFjt3numwzf/HckM8pak</span><span class=p1>=</span>
<span class=p1>google.golang.org/grpc</span><span class=ws> </span><span class=s1>v1.31.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>N36X2cJ7JwdamYAgDz+s+rVMFjt3numwzf/HckM8pak</span><span class=p1>=</span>
<span class=p1>google.golang.org/grpc</span><span class=ws> </span><span class=s1>v1.31.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>N36X2cJ7JwdamYAgDz+s+rVMFjt3numwzf/HckM8pak</span><span class=p1>=</span>
<span class=p1>google.golang.org/grpc</span><span class=ws> </span><span class=s1>v1.33.2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>JMHMWHQWaTccqQQlmk3MJZS+GWXOdAesneDmEnv2fbc</span><span class=p1>=</span>
<span class=p1>google.golang.org/grpc</span><span class=ws> </span><span class=s1>v1.34.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>WotjhfgOW/POjDeRt8vscBtXq+2VjORFy659qA51WJ8</span><span class=p1>=</span>
<span class=p1>google.golang.org/grpc</span><span class=ws> </span><span class=s1>v1.35.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>qjiiYl8FncCW8feJPdyg3v6XW24KsRHe+dy9BAGRRjU</span><span class=p1>=</span>
<span class=p1>google.golang.org/protobuf</span><span class=ws> </span><span class=s1>v0.0.0-20200109180630-ec00e32a8dfd</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>DFci5gLYBciE7Vtevhsrf46CRTquxDuWsQurQQe4oz8</span><span class=p1>=</span>
<span class=p1>google.golang.org/protobuf</span><span class=ws> </span><span class=s1>v0.0.0-20200221191635-4d8936d0db64</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>kwYJMbMJ01Woi6D6+Kah6886xMZcty6N08ah7+eCXa0</span><span class=p1>=</span>
<span class=p1>google.golang.org/protobuf</span><span class=ws> </span><span class=s1>v0.0.0-20200228230310-ab0ca4ff8a60</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>cfTl7dwQJ+fmap5saPgwCLgHXTUD7jkjRqWcaiX5VyM</span><span class=p1>=</span>
<span class=p1>google.golang.org/protobuf</span><span class=ws> </span><span class=s1>v1.20.1-0.20200309200217-e05f789c0967</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>A+miEFZTKqfCUM6K7xSMQL9OKL/b6hQv+e19PK+JZNE</span><span class=p1>=</span>
<span class=p1>google.golang.org/protobuf</span><span class=ws> </span><span class=s1>v1.21.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>47Nbq4nVaFHyn7ilMalzfO3qCViNmqZ2kzikPIcrTAo</span><span class=p1>=</span>
<span class=p1>google.golang.org/protobuf</span><span class=ws> </span><span class=s1>v1.22.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>EGpADcykh3NcUnDUJcl1+ZksZNG86OlYog2l/sGQquU</span><span class=p1>=</span>
<span class=p1>google.golang.org/protobuf</span><span class=ws> </span><span class=s1>v1.23.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>EGpADcykh3NcUnDUJcl1+ZksZNG86OlYog2l/sGQquU</span><span class=p1>=</span>
<span class=p1>google.golang.org/protobuf</span><span class=ws> </span><span class=s1>v1.23.1-0.20200526195155-81db48ad09cc</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>EGpADcykh3NcUnDUJcl1+ZksZNG86OlYog2l/sGQquU</span><span class=p1>=</span>
<span class=p1>google.golang.org/protobuf</span><span class=ws> </span><span class=s1>v1.24.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>r/3tXBNzIEhYS9I1OUVjXDlt8tc493IdKGjtUeSXeh4</span><span class=p1>=</span>
<span class=p1>google.golang.org/protobuf</span><span class=ws> </span><span class=s1>v1.25.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>9JNX74DMeImyA3h4bdi1ymwjUzf21/xIlbajtzgsN7c</span><span class=p1>=</span>
<span class=p1>gopkg.in/check.v1</span><span class=ws> </span><span class=s1>v0.0.0-20161208181325-20d25e280405</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>Co6ibVJAznAaIkqp8huTwlJQCZ016jof/cbN4VW5Yz0</span><span class=p1>=</span>
<span class=p1>gopkg.in/check.v1</span><span class=ws> </span><span class=s1>v1.0.0-20180628173108-788fd7840127</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>qIbj1fsPNlZgppZ+VLlY7N33q108Sa+fhmuc+sWQYwY</span><span class=p1>=</span>
<span class=p1>gopkg.in/check.v1</span><span class=ws> </span><span class=s1>v1.0.0-20180628173108-788fd7840127</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>Co6ibVJAznAaIkqp8huTwlJQCZ016jof/cbN4VW5Yz0</span><span class=p1>=</span>
<span class=p1>gopkg.in/errgo.v2</span><span class=ws> </span><span class=s1>v2.1.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>hNsd1EY+bozCKY1Ytp96fpM3vjJbqLJn88ws8XvfDNI</span><span class=p1>=</span>
<span class=p1>gopkg.in/ini.v1</span><span class=ws> </span><span class=s1>v1.67.0</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>Dgnx+6+nfE+IfzjUEISNeydPJh9AXNNsWbGP9KzCsOA</span><span class=p1>=</span>
<span class=p1>gopkg.in/ini.v1</span><span class=ws> </span><span class=s1>v1.67.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>pNLf8WUiyNEtQjuu5G5vTm06TEv9tsIgeAvK8hOrP4k</span><span class=p1>=</span>
<span class=p1>gopkg.in/yaml.v2</span><span class=ws> </span><span class=s1>v2.2.2</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>hI93XBmqTisBFMUTm0b8Fm+jr3Dg1NNxqwp+5A1VGuI</span><span class=p1>=</span>
<span class=p1>gopkg.in/yaml.v3</span><span class=ws> </span><span class=s1>v3.0.0-20200313102051-9f266ea9e77c</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>K4uyk7z7BCEPqu6E+C64Yfv1cQ7kz7rIZviUmN+EgEM</span><span class=p1>=</span>
<span class=p1>gopkg.in/yaml.v3</span><span class=ws> </span><span class=s1>v3.0.1</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>fxVm/GzAzEWqLHuvctI91KS9hhNmmWOoWu0XTYJS7CA</span><span class=p1>=</span>
<span class=p1>gopkg.in/yaml.v3</span><span class=ws> </span><span class=s1>v3.0.1</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>K4uyk7z7BCEPqu6E+C64Yfv1cQ7kz7rIZviUmN+EgEM</span><span class=p1>=</span>
<span class=p1>honnef.co/go/tools</span><span class=ws> </span><span class=s1>v0.0.0-20190102054323-c2f93a96b099</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>rf3lG4BRIbNafJWhAfAdb/ePZxsR/4RtNHQocxwk9r4</span><span class=p1>=</span>
<span class=p1>honnef.co/go/tools</span><span class=ws> </span><span class=s1>v0.0.0-20190106161140-3f1c8253044a</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>rf3lG4BRIbNafJWhAfAdb/ePZxsR/4RtNHQocxwk9r4</span><span class=p1>=</span>
<span class=p1>honnef.co/go/tools</span><span class=ws> </span><span class=s1>v0.0.0-20190418001031-e561f6794a2a</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>rf3lG4BRIbNafJWhAfAdb/ePZxsR/4RtNHQocxwk9r4</span><span class=p1>=</span>
<span class=p1>honnef.co/go/tools</span><span class=ws> </span><span class=s1>v0.0.0-20190523083050-ea95bdfd59fc</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>rf3lG4BRIbNafJWhAfAdb/ePZxsR/4RtNHQocxwk9r4</span><span class=p1>=</span>
<span class=p1>honnef.co/go/tools</span><span class=ws> </span><span class=s1>v0.0.1-2019.2.3</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>a3bituU0lyd329TUQxRnasdCoJDkEUEAqEt0JzvZhAg</span><span class=p1>=</span>
<span class=p1>honnef.co/go/tools</span><span class=ws> </span><span class=s1>v0.0.1-2020.1.3</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>X/FiERA/W4tHapMX5mGpAtMSVEeEUOyHaw9vFzvIQ3k</span><span class=p1>=</span>
<span class=p1>honnef.co/go/tools</span><span class=ws> </span><span class=s1>v0.0.1-2020.1.4</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>X/FiERA/W4tHapMX5mGpAtMSVEeEUOyHaw9vFzvIQ3k</span><span class=p1>=</span>
<span class=p1>rsc.io/binaryregexp</span><span class=ws> </span><span class=s1>v0.2.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>qTv7/COck+e2FymRvadv62gMdZztPaShugOCi3I+8D8</span><span class=p1>=</span>
<span class=p1>rsc.io/quote/v3</span><span class=ws> </span><span class=s1>v3.1.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>yEA65RcK8LyAZtP9Kv3t0HmxON59tX3rD+tICJqUlj0</span><span class=p1>=</span>
<span class=p1>rsc.io/sampler</span><span class=ws> </span><span class=s1>v1.3.0</span><span class=p1>/go.mod</span><span class=ws> </span><span class=p1>h1:</span><span class=p1>T1hPZKmBbMNahiBKFy5HrXp6adAjACjK9JXDnKaTXpA</span><span class=p1>=</span>
</code></pre><pre aria-labelledby=html class=sh hidden><code><span class=p0>&lt;!DOCTYPE</span><span class=ws> </span><span class=p0>html></span>
<span class=p0>&lt;</span><span class=p1>html</span><span class=ws> </span><span class=p0>class=</span><span class=p0>"</span><span class=p1>page</span><span class=p0>"</span><span class=ws> </span><span class=p0>lang=</span><span class=p0>"</span><span class=p1>en</span><span class=p0>"</span><span class=p0>></span>
<span class=p0>&lt;</span><span class=p1>head</span><span class=p0>></span>
<span class=wt>	</span><span class=p0>&lt;</span><span class=p1>meta</span><span class=ws> </span><span class=p0>charset=</span><span class=p0>"</span><span class=p1>utf-8</span><span class=p0>"</span><span class=p0>></span>
<span class=wt>	</span><span class=p0>&lt;</span><span class=p1>meta</span><span class=ws> </span><span class=p0>name=</span><span class=p0>"</span><span class=p1>viewport</span><span class=p0>"</span><span class=ws> </span><span class=p0>content=</span><span class=p0>"</span><span class=p1>width=device-width,</span><span class=ws> </span><span class=p1>initial-scale=1</span><span class=p0>"</span><span class=p0>></span>
<span class=wt>	</span><span class=p0>&lt;</span><span class=p1>title</span><span class=p0>></span><span class=s1>Flexbox</span><span class=ws> </span><span class=s1>—</span><span class=ws> </span><span class=s1>Two</span><span class=ws> </span><span class=s1>columns</span><span class=p0>&lt;/title></span>
<span class=wt>	</span><span class=p0>&lt;</span><span class=p1>link</span><span class=ws> </span><span class=p0>rel=</span><span class=p0>"</span><span class=p1>stylesheet</span><span class=p0>"</span><span class=ws> </span><span class=p0>href=</span><span class=p0>"</span><span class=p1>page.css</span><span class=p0>"</span><span class=p0>></span>
<span class=wt>	</span><span class=p0>&lt;</span><span class=p1>link</span><span class=ws> </span><span class=p0>rel=</span><span class=p0>"</span><span class=p1>stylesheet</span><span class=p0>"</span><span class=ws> </span><span class=p0>href=</span><span class=p0>"</span><span class=p1>news.css</span><span class=p0>"</span><span class=p0>></span>
<span class=wt>	</span><span class=p0>&lt;</span><span class=p1>style</span><span class=p0>></span>
<span class=wt>	</span><span class=wt>	</span><span class=c0>/*</span><span class=ws> </span><span class=c0>Columns</span><span class=ws> </span><span class=c0>*/</span>

<span class=wt>	</span><span class=wt>	</span><span class=p0>.</span><span class=p1>columns</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=s1>flex</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>justify-content</span><span class=p0>:</span><span class=ws> </span><span class=s1>space-between</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>

<span class=wt>	</span><span class=wt>	</span><span class=p0>.</span><span class=p1>columns__item</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s1>calc(50%</span><span class=ws> </span><span class=s1>-</span><span class=ws> </span><span class=s1>10px)</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>&lt;/style></span>
<span class=p0>&lt;/head></span>
<span class=p0>&lt;</span><span class=p1>body</span><span class=ws> </span><span class=p0>class=</span><span class=p0>"</span><span class=p1>page__body</span><span class=ws> </span><span class=p1>page__body--reasonable</span><span class=p0>"</span><span class=p0>></span>
<span class=wt>	</span><span class=p0>&lt;</span><span class=p1>div</span><span class=ws> </span><span class=p0>class=</span><span class=p0>"</span><span class=p1>columns</span><span class=p0>"</span><span class=p0>></span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>&lt;</span><span class=p1>div</span><span class=ws> </span><span class=p0>class=</span><span class=p0>"</span><span class=p1>columns__item</span><span class=p0>"</span><span class=p0>></span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>&lt;</span><span class=p1>article</span><span class=ws> </span><span class=p0>class=</span><span class=p0>"</span><span class=p1>news</span><span class=ws> </span><span class=p1>news--first</span><span class=p0>"</span><span class=p0>></span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>&lt;</span><span class=p1>h2</span><span class=ws> </span><span class=p0>class=</span><span class=p0>"</span><span class=p1>news__title</span><span class=p0>"</span><span class=p0>></span><span class=s1>Crop</span><span class=ws> </span><span class=s1>circles</span><span class=ws> </span><span class=s1>have</span><span class=ws> </span><span class=s1>been</span><span class=ws> </span><span class=s1>discovered</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=s1>England.</span><span class=ws> </span><span class=s1>But</span><span class=ws> </span><span class=s1>they</span><span class=ws> </span><span class=s1>are</span><span class=ws> </span><span class=s1>circles</span><span class=ws> </span><span class=s1>of</span><span class=ws> </span><span class=s1>cuddling</span><span class=ws> </span><span class=s1>Labrador</span><span class=ws> </span><span class=s1>puppies!</span><span class=p0>&lt;/h2></span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>&lt;</span><span class=p1>p</span><span class=ws> </span><span class=p0>class=</span><span class=p0>"</span><span class=p1>news__lead</span><span class=p0>"</span><span class=p0>></span><span class=s1>In</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>English</span><span class=ws> </span><span class=s1>town</span><span class=ws> </span><span class=s1>of</span><span class=ws> </span><span class=s1>Bradstone</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>county</span><span class=ws> </span><span class=s1>of</span><span class=ws> </span><span class=s1>Devon,</span><span class=ws> </span><span class=s1>eight</span><span class=ws> </span><span class=s1>Labrador</span><span class=ws> </span><span class=s1>puppies</span><span class=ws> </span><span class=s1>lay</span><span class=ws> </span><span class=s1>down</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=s1>a</span><span class=ws> </span><span class=s1>circle,</span><span class=ws> </span><span class=s1>huddled</span><span class=ws> </span><span class=s1>together.</span><span class=ws> </span><span class=s1>Alas,</span><span class=ws> </span><span class=s1>one</span><span class=ws> </span><span class=s1>of</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>pups</span><span class=ws> </span><span class=s1>was</span><span class=ws> </span><span class=s1>too</span><span class=ws> </span><span class=s1>late.</span><span class=ws> </span><span class=s1>He</span><span class=ws> </span><span class=s1>had</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>climb</span><span class=ws> </span><span class=s1>right</span><span class=ws> </span><span class=s1>on</span><span class=ws> </span><span class=s1>top</span><span class=ws> </span><span class=s1>of</span><span class=ws> </span><span class=s1>his</span><span class=ws> </span><span class=s1>siblings</span><span class=ws> </span><span class=s1>and</span><span class=ws> </span><span class=s1>sleep</span><span class=ws> </span><span class=s1>on</span><span class=ws> </span><span class=s1>their</span><span class=ws> </span><span class=s1>backs.</span><span class=ws> </span><span class=s1>However,</span><span class=ws> </span><span class=s1>it</span><span class=ws> </span><span class=s1>was</span><span class=ws> </span><span class=s1>even</span><span class=ws> </span><span class=s1>softer</span><span class=ws> </span><span class=s1>and</span><span class=ws> </span><span class=s1>warmer!</span><span class=p0>&lt;/p></span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>&lt;/article></span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>&lt;/div></span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>&lt;</span><span class=p1>div</span><span class=ws> </span><span class=p0>class=</span><span class=p0>"</span><span class=p1>columns__item</span><span class=p0>"</span><span class=p0>></span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>&lt;</span><span class=p1>article</span><span class=ws> </span><span class=p0>class=</span><span class=p0>"</span><span class=p1>news</span><span class=ws> </span><span class=p1>news--second</span><span class=p0>"</span><span class=p0>></span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>&lt;</span><span class=p1>h2</span><span class=ws> </span><span class=p0>class=</span><span class=p0>"</span><span class=p1>news__title</span><span class=p0>"</span><span class=p0>></span><span class=s1>In</span><span class=ws> </span><span class=s1>Kamchatka,</span><span class=ws> </span><span class=s1>a</span><span class=ws> </span><span class=s1>fox</span><span class=ws> </span><span class=s1>stole</span><span class=ws> </span><span class=s1>a</span><span class=ws> </span><span class=s1>tourist’s</span><span class=ws> </span><span class=s1>camera.</span><span class=ws> </span><span class=s1>So</span><span class=ws> </span><span class=s1>now</span><span class=ws> </span><span class=s1>you</span><span class=ws> </span><span class=s1>will</span><span class=ws> </span><span class=s1>see</span><span class=ws> </span><span class=s1>a</span><span class=ws> </span><span class=s1>live</span><span class=ws> </span><span class=s1>feed</span><span class=ws> </span><span class=s1>from</span><span class=ws> </span><span class=s1>its</span><span class=ws> </span><span class=s1>mouth</span><span class=p0>&lt;/h2></span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>&lt;</span><span class=p1>p</span><span class=ws> </span><span class=p0>class=</span><span class=p0>"</span><span class=p1>news__lead</span><span class=p0>"</span><span class=p0>></span><span class=s1>Finally,</span><span class=ws> </span><span class=s1>we</span><span class=ws> </span><span class=s1>found</span><span class=ws> </span><span class=s1>a</span><span class=ws> </span><span class=s1>video</span><span class=ws> </span><span class=s1>that</span><span class=ws> </span><span class=s1>would</span><span class=ws> </span><span class=s1>make</span><span class=ws> </span><span class=s1>Emmanuel</span><span class=ws> </span><span class=s1>Lubetsky,</span><span class=ws> </span><span class=s1>who</span><span class=ws> </span><span class=s1>worked</span><span class=ws> </span><span class=s1>on</span><span class=ws> </span><span class=s1>Survivor,</span><span class=ws> </span><span class=s1>Birdman,</span><span class=ws> </span><span class=s1>and</span><span class=ws> </span><span class=s1>Gravity,</span><span class=ws> </span><span class=s1>jealous</span><span class=ws> </span><span class=s1>of</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>camerawork!</span><span class=ws> </span><span class=s1>Let’s</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>keep</span><span class=ws> </span><span class=s1>you</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=s1>suspense:</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=s1>Kamchatka,</span><span class=ws> </span><span class=s1>a</span><span class=ws> </span><span class=s1>fox</span><span class=ws> </span><span class=s1>stole</span><span class=ws> </span><span class=s1>a</span><span class=ws> </span><span class=s1>camera</span><span class=ws> </span><span class=s1>from</span><span class=ws> </span><span class=s1>an</span><span class=ws> </span><span class=s1>inattentive</span><span class=ws> </span><span class=s1>tourist</span><span class=ws> </span><span class=s1>and</span><span class=ws> </span><span class=s1>made</span><span class=ws> </span><span class=s1>off</span><span class=ws> </span><span class=s1>with</span><span class=ws> </span><span class=s1>it.</span><span class=ws> </span><span class=s1>Accordingly,</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>view</span><span class=ws> </span><span class=s1>turned</span><span class=ws> </span><span class=s1>out</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>literally</span><span class=ws> </span><span class=s1>from</span><span class=ws> </span><span class=s1>inside</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>fox,</span><span class=ws> </span><span class=s1>with</span><span class=ws> </span><span class=s1>ASMR</span><span class=ws> </span><span class=s1>soundtrack</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>form</span><span class=ws> </span><span class=s1>of</span><span class=ws> </span><span class=s1>its</span><span class=ws> </span><span class=s1>loud</span><span class=ws> </span><span class=s1>puffing.</span><span class=p0>&lt;/p></span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p0>&lt;/article></span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>&lt;/div></span>
<span class=wt>	</span><span class=p0>&lt;/div></span>
<span class=p0>&lt;/body></span>
<span class=p0>&lt;/html></span>
</code></pre><pre aria-labelledby=ini class=sh hidden><code><span class=p0>[</span><span class=p1>SectionOne</span><span class=p0>]</span>

<span class=p1>key</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>value</span>
<span class=p1>integer</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>1234</span>
<span class=p1>real</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>3.14</span>
<span class=p1>string1</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>'</span><span class=s1>Case</span><span class=ws> </span><span class=s1>1</span><span class=s0>'</span>
<span class=p1>string2</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>Case</span><span class=ws> </span><span class=s1>2</span><span class=s0>"</span>

<span class=p0>[</span><span class=p1>SectionTwo</span><span class=p0>]</span>

<span class=c0>;</span><span class=ws> </span><span class=c0>comment</span><span class=ws> </span><span class=c0>line</span>
<span class=p1>key</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>new</span><span class=ws> </span><span class=s1>value</span>
<span class=p1>integer</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>5678</span>
<span class=p1>real</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>3.14</span>
<span class=p1>string1</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>'</span><span class=s1>Case</span><span class=ws> </span><span class=s1>1</span><span class=s0>'</span>
<span class=p1>string2</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>Case</span><span class=ws> </span><span class=s1>2</span><span class=s0>"</span>
<span class=p1>string3</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>'</span><span class=s1>Case</span><span class=ws> </span><span class=s1>3</span><span class=s0>'</span>


</code></pre><pre aria-labelledby=js class=sh><code><span class=p0>import</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>dequal </span><span class=p0>}</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>dequal</span><span class=p0>'</span><span class=p0>;</span>
<span class=p0>import</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>compare</span><span class=p0>,</span><span class=ws> </span><span class=p1>lines</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>uvu/diff</span><span class=p0>'</span><span class=p0>;</span>

<span class=p0>function</span><span class=ws> </span><span class=p1>dedent</span><span class=p0>(</span><span class=p1>str</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>str</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>str</span><span class=p0>.</span><span class=p1>replace</span><span class=p0>(</span><span class=s0>/</span><span class=s1>\r?\n</span><span class=s0>/</span><span class=p0>g</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>\n</span><span class=s0>'</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>arr</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>str</span><span class=p0>.</span><span class=p1>match</span><span class=p0>(</span><span class=s0>/</span><span class=s1>^[</span><span class=ws> </span><span class=s1>\t]*(?=\S)</span><span class=s0>/</span><span class=p0>gm</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>i</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0</span><span class=p0>,</span><span class=ws> </span><span class=p1>min</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>1</span><span class=p0>/</span><span class=p1>0</span><span class=p0>,</span><span class=ws> </span><span class=p1>len</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>arr</span><span class=p0>||[]).</span><span class=p1>length</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p0>(;</span><span class=ws> </span><span class=p1>i</span><span class=ws> </span><span class=p0>&lt;</span><span class=ws> </span><span class=p1>len</span><span class=p0>;</span><span class=ws> </span><span class=p1>i</span><span class=p0>++)</span><span class=ws> </span><span class=p1>min</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>Math</span><span class=p0>.</span><span class=p1>min</span><span class=p0>(</span><span class=p1>min</span><span class=p0>,</span><span class=ws> </span><span class=p1>arr</span><span class=p0>[</span><span class=p1>i</span><span class=p0>].</span><span class=p1>length</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>len</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p1>min</span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=p1>str</span><span class=p0>.</span><span class=p1>replace</span><span class=p0>(new</span><span class=ws> </span><span class=p1>RegExp</span><span class=p0>(</span><span class=s0>`</span><span class=s1>^[</span><span class=ws> </span><span class=s1>\\t]{</span><span class=p0>${</span><span class=p1>min</span><span class=p0>}</span><span class=s1>}</span><span class=s0>`</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>gm</span><span class=s0>'</span><span class=p0>),</span><span class=ws> </span><span class=s0>''</span><span class=p0>)</span><span class=ws> </span><span class=p0>:</span><span class=ws> </span><span class=p1>str</span><span class=p0>;</span>
<span class=p0>}</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>class</span><span class=ws> </span><span class=p1>Assertion</span><span class=ws> </span><span class=p0>extends</span><span class=ws> </span><span class=p1>Error</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p0>constructor(</span><span class=p1>opts</span><span class=p0>={})</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>super</span><span class=p0>(</span><span class=p1>opts</span><span class=p0>.</span><span class=p1>message</span><span class=p0>);</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>this</span><span class=p0>.</span><span class=p1>name</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>'</span><span class=s1>Assertion</span><span class=s0>'</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>this</span><span class=p0>.</span><span class=p1>code</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>'</span><span class=s1>ERR_ASSERTION</span><span class=s0>'</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p0>(</span><span class=p1>Error</span><span class=p0>.</span><span class=p1>captureStackTrace</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>Error</span><span class=p0>.</span><span class=p1>captureStackTrace</span><span class=p0>(</span><span class=p1>this</span><span class=p0>,</span><span class=ws> </span><span class=p1>this</span><span class=p0>.</span><span class=p1>constructor</span><span class=p0>);</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>this</span><span class=p0>.</span><span class=p1>details</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>opts</span><span class=p0>.</span><span class=p1>details</span><span class=ws> </span><span class=p0>||</span><span class=ws> </span><span class=p1>false</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>this</span><span class=p0>.</span><span class=p1>generated</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>!!</span><span class=p1>opts</span><span class=p0>.</span><span class=p1>generated</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>this</span><span class=p0>.</span><span class=p1>operator</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>opts</span><span class=p0>.</span><span class=p1>operator</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>this</span><span class=p0>.</span><span class=p1>expects</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>opts</span><span class=p0>.</span><span class=p1>expects</span><span class=p0>;</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>this</span><span class=p0>.</span><span class=p1>actual</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>opts</span><span class=p0>.</span><span class=p1>actual</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=p0>}</span>

<span class=p0>function</span><span class=ws> </span><span class=p1>assert</span><span class=p0>(</span><span class=p1>bool</span><span class=p0>,</span><span class=ws> </span><span class=p1>actual</span><span class=p0>,</span><span class=ws> </span><span class=p1>expects</span><span class=p0>,</span><span class=ws> </span><span class=p1>operator</span><span class=p0>,</span><span class=ws> </span><span class=p1>detailer</span><span class=p0>,</span><span class=ws> </span><span class=p1>backup</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p0>(</span><span class=p1>bool</span><span class=p0>)</span><span class=ws> </span><span class=p0>return;</span>
<span class=wt>	</span><span class=p0>let</span><span class=ws> </span><span class=p1>message</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>msg</span><span class=ws> </span><span class=p0>||</span><span class=ws> </span><span class=p1>backup</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p0>(</span><span class=p1>msg</span><span class=ws> </span><span class=p0>instanceof</span><span class=ws> </span><span class=p1>Error</span><span class=p0>)</span><span class=ws> </span><span class=p0>throw</span><span class=ws> </span><span class=p1>msg</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>let</span><span class=ws> </span><span class=p1>details</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>detailer</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p1>detailer</span><span class=p0>(</span><span class=p1>actual</span><span class=p0>,</span><span class=ws> </span><span class=p1>expects</span><span class=p0>);</span>
<span class=wt>	</span><span class=p0>throw</span><span class=ws> </span><span class=p0>new</span><span class=ws> </span><span class=p1>Assertion</span><span class=p0>({</span><span class=ws> </span><span class=p1>actual</span><span class=p0>,</span><span class=ws> </span><span class=p1>expects</span><span class=p0>,</span><span class=ws> </span><span class=p1>operator</span><span class=p0>,</span><span class=ws> </span><span class=p1>message</span><span class=p0>,</span><span class=ws> </span><span class=p1>details</span><span class=p0>,</span><span class=ws> </span><span class=p1>generated</span><span class=p0>:</span><span class=ws> </span><span class=p0>!</span><span class=p1>msg</span><span class=ws> </span><span class=p0>});</span>
<span class=p0>}</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>function</span><span class=ws> </span><span class=p1>ok</span><span class=p0>(</span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>assert</span><span class=p0>(!!</span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=p1>true</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>ok</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>value</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>truthy</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=p0>}</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>function</span><span class=ws> </span><span class=p1>is</span><span class=p0>(</span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>assert</span><span class=p0>(</span><span class=p1>val</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>is</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>compare</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>values</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>strictly</span><span class=ws> </span><span class=s1>equal:</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=p0>}</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>function</span><span class=ws> </span><span class=p1>equal</span><span class=p0>(</span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>assert</span><span class=p0>(</span><span class=p1>dequal</span><span class=p0>(</span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>),</span><span class=ws> </span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>equal</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>compare</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>values</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>deeply</span><span class=ws> </span><span class=s1>equal:</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=p0>}</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>function</span><span class=ws> </span><span class=p1>unreachable</span><span class=p0>(</span><span class=p1>msg</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>assert</span><span class=p0>(</span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=p1>true</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>unreachable</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>reached!</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=p0>}</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>function</span><span class=ws> </span><span class=p1>type</span><span class=p0>(</span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p0>let</span><span class=ws> </span><span class=p1>tmp</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>typeof</span><span class=ws> </span><span class=p1>val</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>assert</span><span class=p0>(</span><span class=p1>tmp</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>tmp</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>type</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>`</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>"</span><span class=p0>${</span><span class=p1>tmp</span><span class=p0>}</span><span class=s1>"</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>"</span><span class=p0>${</span><span class=p1>exp</span><span class=p0>}</span><span class=s1>"</span><span class=s0>`</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=p0>}</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>function</span><span class=ws> </span><span class=p1>instance</span><span class=p0>(</span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p0>let</span><span class=ws> </span><span class=p1>name</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>'</span><span class=s1>`</span><span class=s0>'</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p0>(</span><span class=p1>exp</span><span class=p0>.</span><span class=p1>name</span><span class=ws> </span><span class=p0>||</span><span class=ws> </span><span class=p1>exp</span><span class=p0>.</span><span class=p1>constructor</span><span class=p0>.</span><span class=p1>name</span><span class=p0>)</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=s0>'</span><span class=s1>`</span><span class=s0>'</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>assert</span><span class=p0>(</span><span class=p1>val</span><span class=ws> </span><span class=p0>instanceof</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>instance</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>`</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>value</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>an</span><span class=ws> </span><span class=s1>instance</span><span class=ws> </span><span class=s1>of</span><span class=ws> </span><span class=p0>${</span><span class=p1>name</span><span class=p0>}</span><span class=s0>`</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=p0>}</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>function</span><span class=ws> </span><span class=p1>match</span><span class=p0>(</span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p0>(typeof</span><span class=ws> </span><span class=p1>exp</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=s0>'</span><span class=s1>string</span><span class=s0>'</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>assert</span><span class=p0>(</span><span class=p1>val</span><span class=p0>.</span><span class=p1>includes</span><span class=p0>(</span><span class=p1>exp</span><span class=p0>),</span><span class=ws> </span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>match</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>`</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>value</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>include</span><span class=ws> </span><span class=s1>"</span><span class=p0>${</span><span class=p1>exp</span><span class=p0>}</span><span class=s1>"</span><span class=ws> </span><span class=s1>substring</span><span class=s0>`</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=wt>	</span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>assert</span><span class=p0>(</span><span class=p1>exp</span><span class=p0>.</span><span class=p1>test</span><span class=p0>(</span><span class=p1>val</span><span class=p0>),</span><span class=ws> </span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>match</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>`</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>value</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>match</span><span class=ws> </span><span class=s1>\`</span><span class=p0>${</span><span class=p1>String</span><span class=p0>(</span><span class=p1>exp</span><span class=p0>)</span><span class=p0>}</span><span class=s1>\`</span><span class=ws> </span><span class=s1>pattern</span><span class=s0>`</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=p0>}</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>function</span><span class=ws> </span><span class=p1>snapshot</span><span class=p0>(</span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>val</span><span class=p0>=</span><span class=p1>dedent</span><span class=p0>(</span><span class=p1>val</span><span class=p0>);</span><span class=ws> </span><span class=p1>exp</span><span class=p0>=</span><span class=p1>dedent</span><span class=p0>(</span><span class=p1>exp</span><span class=p0>);</span>
<span class=wt>	</span><span class=p1>assert</span><span class=p0>(</span><span class=p1>val</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>snapshot</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>lines</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>value</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>match</span><span class=ws> </span><span class=s1>snapshot:</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=p0>}</span>

<span class=p0>const</span><span class=ws> </span><span class=p1>lineNums</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>x</span><span class=p0>,</span><span class=ws> </span><span class=p1>y</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>lines</span><span class=p0>(</span><span class=p1>x</span><span class=p0>,</span><span class=ws> </span><span class=p1>y</span><span class=p0>,</span><span class=ws> </span><span class=p1>1</span><span class=p0>);</span>
<span class=p0>export</span><span class=ws> </span><span class=p0>function</span><span class=ws> </span><span class=p1>fixture</span><span class=p0>(</span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>val</span><span class=p0>=</span><span class=p1>dedent</span><span class=p0>(</span><span class=p1>val</span><span class=p0>);</span><span class=ws> </span><span class=p1>exp</span><span class=p0>=</span><span class=p1>dedent</span><span class=p0>(</span><span class=p1>exp</span><span class=p0>);</span>
<span class=wt>	</span><span class=p1>assert</span><span class=p0>(</span><span class=p1>val</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>fixture</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>lineNums</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>value</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>match</span><span class=ws> </span><span class=s1>fixture:</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=p0>}</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>function</span><span class=ws> </span><span class=p1>throws</span><span class=p0>(</span><span class=p1>blk</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p0>(!</span><span class=p1>msg</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p0>typeof</span><span class=ws> </span><span class=p1>exp</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=s0>'</span><span class=s1>string</span><span class=s0>'</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>msg</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>exp</span><span class=p0>;</span><span class=ws> </span><span class=p1>exp</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>null</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>}</span>

<span class=wt>	</span><span class=p0>try</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>blk</span><span class=p0>();</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>assert</span><span class=p0>(</span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=p1>true</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>throws</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>function</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>throw</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=wt>	</span><span class=p0>}</span><span class=ws> </span><span class=p0>catch</span><span class=ws> </span><span class=p0>(</span><span class=p1>err</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p0>(</span><span class=p1>err</span><span class=ws> </span><span class=p0>instanceof</span><span class=ws> </span><span class=p1>Assertion</span><span class=p0>)</span><span class=ws> </span><span class=p0>throw</span><span class=ws> </span><span class=p1>err</span><span class=p0>;</span>

<span class=wt>	</span><span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p0>(typeof</span><span class=ws> </span><span class=p1>exp</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=s0>'</span><span class=s1>function</span><span class=s0>'</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>assert</span><span class=p0>(</span><span class=p1>exp</span><span class=p0>(</span><span class=p1>err</span><span class=p0>),</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=p1>true</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>throws</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>function</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>throw</span><span class=ws> </span><span class=s1>matching</span><span class=ws> </span><span class=s1>exception</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>(</span><span class=p1>exp</span><span class=ws> </span><span class=p0>instanceof</span><span class=ws> </span><span class=p1>RegExp</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>assert</span><span class=p0>(</span><span class=p1>exp</span><span class=p0>.</span><span class=p1>test</span><span class=p0>(</span><span class=p1>err</span><span class=p0>.</span><span class=p1>message</span><span class=p0>),</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=p1>true</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>throws</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>`</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>function</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>throw</span><span class=ws> </span><span class=s1>exception</span><span class=ws> </span><span class=s1>matching</span><span class=ws> </span><span class=s1>\`</span><span class=p0>${</span><span class=p1>String</span><span class=p0>(</span><span class=p1>exp</span><span class=p0>)</span><span class=p0>}</span><span class=s1>\`</span><span class=ws> </span><span class=s1>pattern</span><span class=s0>`</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>---</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>function</span><span class=ws> </span><span class=p1>not</span><span class=p0>(</span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>assert</span><span class=p0>(!</span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>true</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>not</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>value</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>falsey</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=p0>}</span>

<span class=p1>not</span><span class=p0>.</span><span class=p1>ok</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>not</span><span class=p0>;</span>

<span class=p1>is</span><span class=p0>.</span><span class=p1>not</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>function</span><span class=ws> </span><span class=p0>(</span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>assert</span><span class=p0>(</span><span class=p1>val</span><span class=ws> </span><span class=p0>!==</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>is.not</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>values</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>strictly</span><span class=ws> </span><span class=s1>equal</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=p0>}</span>

<span class=p1>not</span><span class=p0>.</span><span class=p1>equal</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>function</span><span class=ws> </span><span class=p0>(</span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>assert</span><span class=p0>(!</span><span class=p1>dequal</span><span class=p0>(</span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>),</span><span class=ws> </span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>not.equal</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>values</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>deeply</span><span class=ws> </span><span class=s1>equal</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=p0>}</span>

<span class=p1>not</span><span class=p0>.</span><span class=p1>type</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>function</span><span class=ws> </span><span class=p0>(</span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p0>let</span><span class=ws> </span><span class=p1>tmp</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>typeof</span><span class=ws> </span><span class=p1>val</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>assert</span><span class=p0>(</span><span class=p1>tmp</span><span class=ws> </span><span class=p0>!==</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>tmp</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>not.type</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>`</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>"</span><span class=p0>${</span><span class=p1>tmp</span><span class=p0>}</span><span class=s1>"</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>"</span><span class=p0>${</span><span class=p1>exp</span><span class=p0>}</span><span class=s1>"</span><span class=s0>`</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=p0>}</span>

<span class=p1>not</span><span class=p0>.</span><span class=p1>instance</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>function</span><span class=ws> </span><span class=p0>(</span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p0>let</span><span class=ws> </span><span class=p1>name</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>'</span><span class=s1>`</span><span class=s0>'</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p0>(</span><span class=p1>exp</span><span class=p0>.</span><span class=p1>name</span><span class=ws> </span><span class=p0>||</span><span class=ws> </span><span class=p1>exp</span><span class=p0>.</span><span class=p1>constructor</span><span class=p0>.</span><span class=p1>name</span><span class=p0>)</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=s0>'</span><span class=s1>`</span><span class=s0>'</span><span class=p0>;</span>
<span class=wt>	</span><span class=p1>assert</span><span class=p0>(!(</span><span class=p1>val</span><span class=ws> </span><span class=p0>instanceof</span><span class=ws> </span><span class=p1>exp</span><span class=p0>),</span><span class=ws> </span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>not.instance</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>`</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>value</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>an</span><span class=ws> </span><span class=s1>instance</span><span class=ws> </span><span class=s1>of</span><span class=ws> </span><span class=p0>${</span><span class=p1>name</span><span class=p0>}</span><span class=s0>`</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=p0>}</span>

<span class=p1>not</span><span class=p0>.</span><span class=p1>snapshot</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>function</span><span class=ws> </span><span class=p0>(</span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>val</span><span class=p0>=</span><span class=p1>dedent</span><span class=p0>(</span><span class=p1>val</span><span class=p0>);</span><span class=ws> </span><span class=p1>exp</span><span class=p0>=</span><span class=p1>dedent</span><span class=p0>(</span><span class=p1>exp</span><span class=p0>);</span>
<span class=wt>	</span><span class=p1>assert</span><span class=p0>(</span><span class=p1>val</span><span class=ws> </span><span class=p0>!==</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>not.snapshot</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>value</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>match</span><span class=ws> </span><span class=s1>snapshot</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=p0>}</span>

<span class=p1>not</span><span class=p0>.</span><span class=p1>fixture</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>function</span><span class=ws> </span><span class=p0>(</span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p1>val</span><span class=p0>=</span><span class=p1>dedent</span><span class=p0>(</span><span class=p1>val</span><span class=p0>);</span><span class=ws> </span><span class=p1>exp</span><span class=p0>=</span><span class=p1>dedent</span><span class=p0>(</span><span class=p1>exp</span><span class=p0>);</span>
<span class=wt>	</span><span class=p1>assert</span><span class=p0>(</span><span class=p1>val</span><span class=ws> </span><span class=p0>!==</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>not.fixture</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>value</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>match</span><span class=ws> </span><span class=s1>fixture</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=p0>}</span>

<span class=p1>not</span><span class=p0>.</span><span class=p1>match</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>function</span><span class=ws> </span><span class=p0>(</span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p0>(typeof</span><span class=ws> </span><span class=p1>exp</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=s0>'</span><span class=s1>string</span><span class=s0>'</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>assert</span><span class=p0>(!</span><span class=p1>val</span><span class=p0>.</span><span class=p1>includes</span><span class=p0>(</span><span class=p1>exp</span><span class=p0>),</span><span class=ws> </span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>not.match</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>`</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>value</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>include</span><span class=ws> </span><span class=s1>"</span><span class=p0>${</span><span class=p1>exp</span><span class=p0>}</span><span class=s1>"</span><span class=ws> </span><span class=s1>substring</span><span class=s0>`</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=wt>	</span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>assert</span><span class=p0>(!</span><span class=p1>exp</span><span class=p0>.</span><span class=p1>test</span><span class=p0>(</span><span class=p1>val</span><span class=p0>),</span><span class=ws> </span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>not.match</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>`</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>value</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>match</span><span class=ws> </span><span class=s1>\`</span><span class=p0>${</span><span class=p1>String</span><span class=p0>(</span><span class=p1>exp</span><span class=p0>)</span><span class=p0>}</span><span class=s1>\`</span><span class=ws> </span><span class=s1>pattern</span><span class=s0>`</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=p0>}</span>

<span class=p1>not</span><span class=p0>.</span><span class=p1>throws</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>function</span><span class=ws> </span><span class=p0>(</span><span class=p1>blk</span><span class=p0>,</span><span class=ws> </span><span class=p1>exp</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p0>(!</span><span class=p1>msg</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p0>typeof</span><span class=ws> </span><span class=p1>exp</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=s0>'</span><span class=s1>string</span><span class=s0>'</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>msg</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>exp</span><span class=p0>;</span><span class=ws> </span><span class=p1>exp</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>null</span><span class=p0>;</span>
<span class=wt>	</span><span class=p0>}</span>

<span class=wt>	</span><span class=p0>try</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p1>blk</span><span class=p0>();</span>
<span class=wt>	</span><span class=p0>}</span><span class=ws> </span><span class=p0>catch</span><span class=ws> </span><span class=p0>(</span><span class=p1>err</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>if</span><span class=ws> </span><span class=p0>(typeof</span><span class=ws> </span><span class=p1>exp</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=s0>'</span><span class=s1>function</span><span class=s0>'</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>assert</span><span class=p0>(!</span><span class=p1>exp</span><span class=p0>(</span><span class=p1>err</span><span class=p0>),</span><span class=ws> </span><span class=p1>true</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>not.throws</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>function</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>throw</span><span class=ws> </span><span class=s1>matching</span><span class=ws> </span><span class=s1>exception</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>(</span><span class=p1>exp</span><span class=ws> </span><span class=p0>instanceof</span><span class=ws> </span><span class=p1>RegExp</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>assert</span><span class=p0>(!</span><span class=p1>exp</span><span class=p0>.</span><span class=p1>test</span><span class=p0>(</span><span class=p1>err</span><span class=p0>.</span><span class=p1>message</span><span class=p0>),</span><span class=ws> </span><span class=p1>true</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>not.throws</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>`</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>function</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>throw</span><span class=ws> </span><span class=s1>exception</span><span class=ws> </span><span class=s1>matching</span><span class=ws> </span><span class=s1>\`</span><span class=p0>${</span><span class=p1>String</span><span class=p0>(</span><span class=p1>exp</span><span class=p0>)</span><span class=p0>}</span><span class=s1>\`</span><span class=ws> </span><span class=s1>pattern</span><span class=s0>`</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>(!</span><span class=p1>exp</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=wt>	</span><span class=wt>	</span><span class=wt>	</span><span class=p1>assert</span><span class=p0>(</span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=p1>true</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>not.throws</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>Expected</span><span class=ws> </span><span class=s1>function</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>throw</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>msg</span><span class=p0>);</span>
<span class=wt>	</span><span class=wt>	</span><span class=p0>}</span>
<span class=wt>	</span><span class=p0>}</span>
<span class=p0>}</span>
</code></pre><pre aria-labelledby=json class=sh hidden><code><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>name</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>json-server</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>version</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>0.17.4</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>description</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Get</span><span class=ws> </span><span class=s1>a</span><span class=ws> </span><span class=s1>full</span><span class=ws> </span><span class=s1>fake</span><span class=ws> </span><span class=s1>REST</span><span class=ws> </span><span class=s1>API</span><span class=ws> </span><span class=s1>with</span><span class=ws> </span><span class=s1>zero</span><span class=ws> </span><span class=s1>coding</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=s1>less</span><span class=ws> </span><span class=s1>than</span><span class=ws> </span><span class=s1>30</span><span class=ws> </span><span class=s1>seconds</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>main</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>./lib/server/index.js</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>bin</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>./lib/cli/bin.js</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>files</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>lib</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>public</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>],</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>scripts</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>prepare</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>husky</span><span class=ws> </span><span class=s1>install</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>test</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>npm</span><span class=ws> </span><span class=s1>run</span><span class=ws> </span><span class=s1>build</span><span class=ws> </span><span class=s1>&&</span><span class=ws> </span><span class=s1>cross-env</span><span class=ws> </span><span class=s1>NODE_ENV=test</span><span class=ws> </span><span class=s1>jest</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>start</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>babel-node</span><span class=ws> </span><span class=s1>--</span><span class=ws> </span><span class=s1>src/cli/bin</span><span class=ws> </span><span class=s1>db.json</span><span class=ws> </span><span class=s1>-r</span><span class=ws> </span><span class=s1>routes.json</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>lint</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>eslint</span><span class=ws> </span><span class=s1>.</span><span class=ws> </span><span class=s1>--ignore-path</span><span class=ws> </span><span class=s1>.gitignore</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>fix</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>npm</span><span class=ws> </span><span class=s1>run</span><span class=ws> </span><span class=s1>lint</span><span class=ws> </span><span class=s1>--</span><span class=ws> </span><span class=s1>--fix</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>build</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>babel</span><span class=ws> </span><span class=s1>src</span><span class=ws> </span><span class=s1>-d</span><span class=ws> </span><span class=s1>lib</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>toc</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>markdown-toc</span><span class=ws> </span><span class=s1>-i</span><span class=ws> </span><span class=s1>README.md</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>postversion</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>git</span><span class=ws> </span><span class=s1>push</span><span class=ws> </span><span class=s1>&&</span><span class=ws> </span><span class=s1>git</span><span class=ws> </span><span class=s1>push</span><span class=ws> </span><span class=s1>--tags</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>prepublish</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>npm</span><span class=ws> </span><span class=s1>test</span><span class=ws> </span><span class=s1>&&</span><span class=ws> </span><span class=s1>npm</span><span class=ws> </span><span class=s1>run</span><span class=ws> </span><span class=s1>build</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>dependencies</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>body-parser</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.19.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>chalk</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.1.2</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>compression</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.7.4</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>connect-pause</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^0.1.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>cors</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^2.8.5</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>errorhandler</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.5.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>express</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.17.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>express-urlrewrite</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.4.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>json-parse-helpfulerror</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.0.3</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>lodash</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.17.21</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>lodash-id</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^0.14.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>lowdb</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.0.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>method-override</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^3.0.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>morgan</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.10.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>nanoid</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^3.1.23</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>please-upgrade-node</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^3.2.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>pluralize</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^8.0.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>server-destroy</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.0.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>yargs</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^17.0.1</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>devDependencies</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>@babel/cli</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^7.12.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>@babel/core</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^7.12.3</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>@babel/node</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^7.12.6</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>@babel/preset-env</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^7.12.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>cross-env</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^7.0.2</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^7.13.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-config-prettier</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^8.3.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-config-standard</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^16.0.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-plugin-import</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^2.22.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-plugin-node</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^11.1.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-plugin-prettier</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^3.1.4</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-plugin-promise</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.2.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-plugin-standard</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.1.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>husky</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^6.0.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>jest</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^26.6.3</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>markdown-toc</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.2.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>mkdirp</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.0.4</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>npm-run-all</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.1.5</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>os-tmpdir</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^2.0.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>prettier</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^2.3.2</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>rimraf</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^3.0.2</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>server-ready</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^0.3.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>standard</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^17.1.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>supertest</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^6.0.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>temp-write</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.0.0</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>repository</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>type</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>git</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>url</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>git://github.com/typicode/json-server.git</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>keywords</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>JSON</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>server</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>fake</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>REST</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>API</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>prototyping</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>mock</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>mocking</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>test</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>testing</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>rest</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>data</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>dummy</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>sandbox</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>],</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>author</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Typicode</span><span class=ws> </span><span class=s1>&lt;typicode@gmail.com></span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>license</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>MIT</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>bugs</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>url</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>https://github.com/typicode/json-server/issues</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>homepage</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>https://github.com/typicode/json-server</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>engines</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>node</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>>=12</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>jest</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>testURL</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>http://localhost/</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>
</code></pre><pre aria-labelledby=jsonc class=sh hidden><code><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>name</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>json-server</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>version</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>0.17.4</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>description</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Get</span><span class=ws> </span><span class=s1>a</span><span class=ws> </span><span class=s1>full</span><span class=ws> </span><span class=s1>fake</span><span class=ws> </span><span class=s1>REST</span><span class=ws> </span><span class=s1>API</span><span class=ws> </span><span class=s1>with</span><span class=ws> </span><span class=s1>zero</span><span class=ws> </span><span class=s1>coding</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=s1>less</span><span class=ws> </span><span class=s1>than</span><span class=ws> </span><span class=s1>30</span><span class=ws> </span><span class=s1>seconds</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>main</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>./lib/server/index.js</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>bin</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>./lib/cli/bin.js</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>files</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>lib</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>public</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>],</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>scripts</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>prepare</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>husky</span><span class=ws> </span><span class=s1>install</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>test</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>npm</span><span class=ws> </span><span class=s1>run</span><span class=ws> </span><span class=s1>build</span><span class=ws> </span><span class=s1>&&</span><span class=ws> </span><span class=s1>cross-env</span><span class=ws> </span><span class=s1>NODE_ENV=test</span><span class=ws> </span><span class=s1>jest</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>start</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>babel-node</span><span class=ws> </span><span class=s1>--</span><span class=ws> </span><span class=s1>src/cli/bin</span><span class=ws> </span><span class=s1>db.json</span><span class=ws> </span><span class=s1>-r</span><span class=ws> </span><span class=s1>routes.json</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>lint</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>eslint</span><span class=ws> </span><span class=s1>.</span><span class=ws> </span><span class=s1>--ignore-path</span><span class=ws> </span><span class=s1>.gitignore</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>fix</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>npm</span><span class=ws> </span><span class=s1>run</span><span class=ws> </span><span class=s1>lint</span><span class=ws> </span><span class=s1>--</span><span class=ws> </span><span class=s1>--fix</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>build</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>babel</span><span class=ws> </span><span class=s1>src</span><span class=ws> </span><span class=s1>-d</span><span class=ws> </span><span class=s1>lib</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>toc</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>markdown-toc</span><span class=ws> </span><span class=s1>-i</span><span class=ws> </span><span class=s1>README.md</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>postversion</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>git</span><span class=ws> </span><span class=s1>push</span><span class=ws> </span><span class=s1>&&</span><span class=ws> </span><span class=s1>git</span><span class=ws> </span><span class=s1>push</span><span class=ws> </span><span class=s1>--tags</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>prepublish</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>npm</span><span class=ws> </span><span class=s1>test</span><span class=ws> </span><span class=s1>&&</span><span class=ws> </span><span class=s1>npm</span><span class=ws> </span><span class=s1>run</span><span class=ws> </span><span class=s1>build</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>dependencies</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>body-parser</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.19.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>chalk</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.1.2</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>compression</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.7.4</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>connect-pause</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^0.1.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>cors</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^2.8.5</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>errorhandler</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.5.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>express</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.17.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>express-urlrewrite</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.4.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>json-parse-helpfulerror</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.0.3</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>lodash</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.17.21</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>lodash-id</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^0.14.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>lowdb</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.0.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>method-override</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^3.0.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>morgan</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.10.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>nanoid</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^3.1.23</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>please-upgrade-node</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^3.2.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>pluralize</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^8.0.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>server-destroy</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.0.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>yargs</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^17.0.1</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>devDependencies</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>@babel/cli</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^7.12.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>@babel/core</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^7.12.3</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>@babel/node</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^7.12.6</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>@babel/preset-env</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^7.12.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>cross-env</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^7.0.2</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^7.13.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-config-prettier</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^8.3.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-config-standard</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^16.0.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-plugin-import</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^2.22.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-plugin-node</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^11.1.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-plugin-prettier</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^3.1.4</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-plugin-promise</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.2.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-plugin-standard</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.1.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>husky</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^6.0.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>jest</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^26.6.3</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>markdown-toc</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.2.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>mkdirp</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.0.4</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>npm-run-all</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.1.5</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>os-tmpdir</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^2.0.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>prettier</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^2.3.2</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>rimraf</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^3.0.2</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>server-ready</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^0.3.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>standard</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^17.1.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>supertest</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^6.0.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>temp-write</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.0.0</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>repository</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>type</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>git</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>url</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>git://github.com/typicode/json-server.git</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>keywords</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>JSON</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>server</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>fake</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>REST</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>API</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>prototyping</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>mock</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>mocking</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>test</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>testing</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>rest</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>data</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>dummy</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>sandbox</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>],</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>author</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Typicode</span><span class=ws> </span><span class=s1>&lt;typicode@gmail.com></span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>license</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>MIT</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>bugs</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>url</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>https://github.com/typicode/json-server/issues</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>homepage</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>https://github.com/typicode/json-server</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>engines</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>node</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>>=12</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>jest</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>testURL</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>http://localhost/</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>
</code></pre><pre aria-labelledby=jsonl class=sh hidden><code><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>name</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>json-server</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>version</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>0.17.4</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>description</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Get</span><span class=ws> </span><span class=s1>a</span><span class=ws> </span><span class=s1>full</span><span class=ws> </span><span class=s1>fake</span><span class=ws> </span><span class=s1>REST</span><span class=ws> </span><span class=s1>API</span><span class=ws> </span><span class=s1>with</span><span class=ws> </span><span class=s1>zero</span><span class=ws> </span><span class=s1>coding</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=s1>less</span><span class=ws> </span><span class=s1>than</span><span class=ws> </span><span class=s1>30</span><span class=ws> </span><span class=s1>seconds</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>main</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>./lib/server/index.js</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>bin</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>./lib/cli/bin.js</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>files</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>lib</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>public</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>],</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>scripts</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>prepare</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>husky</span><span class=ws> </span><span class=s1>install</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>test</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>npm</span><span class=ws> </span><span class=s1>run</span><span class=ws> </span><span class=s1>build</span><span class=ws> </span><span class=s1>&&</span><span class=ws> </span><span class=s1>cross-env</span><span class=ws> </span><span class=s1>NODE_ENV=test</span><span class=ws> </span><span class=s1>jest</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>start</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>babel-node</span><span class=ws> </span><span class=s1>--</span><span class=ws> </span><span class=s1>src/cli/bin</span><span class=ws> </span><span class=s1>db.json</span><span class=ws> </span><span class=s1>-r</span><span class=ws> </span><span class=s1>routes.json</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>lint</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>eslint</span><span class=ws> </span><span class=s1>.</span><span class=ws> </span><span class=s1>--ignore-path</span><span class=ws> </span><span class=s1>.gitignore</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>fix</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>npm</span><span class=ws> </span><span class=s1>run</span><span class=ws> </span><span class=s1>lint</span><span class=ws> </span><span class=s1>--</span><span class=ws> </span><span class=s1>--fix</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>build</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>babel</span><span class=ws> </span><span class=s1>src</span><span class=ws> </span><span class=s1>-d</span><span class=ws> </span><span class=s1>lib</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>toc</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>markdown-toc</span><span class=ws> </span><span class=s1>-i</span><span class=ws> </span><span class=s1>README.md</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>postversion</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>git</span><span class=ws> </span><span class=s1>push</span><span class=ws> </span><span class=s1>&&</span><span class=ws> </span><span class=s1>git</span><span class=ws> </span><span class=s1>push</span><span class=ws> </span><span class=s1>--tags</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>prepublish</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>npm</span><span class=ws> </span><span class=s1>test</span><span class=ws> </span><span class=s1>&&</span><span class=ws> </span><span class=s1>npm</span><span class=ws> </span><span class=s1>run</span><span class=ws> </span><span class=s1>build</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>dependencies</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>body-parser</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.19.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>chalk</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.1.2</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>compression</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.7.4</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>connect-pause</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^0.1.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>cors</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^2.8.5</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>errorhandler</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.5.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>express</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.17.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>express-urlrewrite</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.4.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>json-parse-helpfulerror</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.0.3</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>lodash</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.17.21</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>lodash-id</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^0.14.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>lowdb</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.0.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>method-override</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^3.0.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>morgan</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.10.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>nanoid</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^3.1.23</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>please-upgrade-node</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^3.2.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>pluralize</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^8.0.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>server-destroy</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.0.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>yargs</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^17.0.1</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>devDependencies</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>@babel/cli</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^7.12.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>@babel/core</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^7.12.3</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>@babel/node</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^7.12.6</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>@babel/preset-env</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^7.12.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>cross-env</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^7.0.2</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^7.13.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-config-prettier</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^8.3.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-config-standard</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^16.0.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-plugin-import</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^2.22.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-plugin-node</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^11.1.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-plugin-prettier</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^3.1.4</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-plugin-promise</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.2.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>eslint-plugin-standard</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.1.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>husky</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^6.0.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>jest</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^26.6.3</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>markdown-toc</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.2.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>mkdirp</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^1.0.4</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>npm-run-all</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.1.5</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>os-tmpdir</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^2.0.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>prettier</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^2.3.2</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>rimraf</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^3.0.2</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>server-ready</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^0.3.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>standard</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^17.1.0</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>supertest</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^6.0.1</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>temp-write</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>^4.0.0</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>repository</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>type</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>git</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>url</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>git://github.com/typicode/json-server.git</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>keywords</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>JSON</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>server</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>fake</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>REST</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>API</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>prototyping</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>mock</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>mocking</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>test</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>testing</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>rest</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>data</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>dummy</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>sandbox</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>],</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>author</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Typicode</span><span class=ws> </span><span class=s1>&lt;typicode@gmail.com></span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>license</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>MIT</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>bugs</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>url</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>https://github.com/typicode/json-server/issues</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>homepage</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>https://github.com/typicode/json-server</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>engines</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>node</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>>=12</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>jest</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>"</span><span class=p1>testURL</span><span class=p0>"</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>http://localhost/</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>
</code></pre><pre aria-labelledby=jsx class=sh hidden><code><span class=p0>import</span><span class=ws> </span><span class=p1>_</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>lodash</span><span class=p0>'</span>
<span class=p0>import</span><span class=ws> </span><span class=p1>PropTypes</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>prop-types</span><span class=p0>'</span>
<span class=p0>import</span><span class=ws> </span><span class=p1>React</span><span class=p0>,</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>Component</span><span class=p0>,</span><span class=ws> </span><span class=p1>createRef</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>react</span><span class=p0>'</span>
<span class=p0>import</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>withRouter</span><span class=p0>,</span><span class=ws> </span><span class=p1>withRouteData</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>react-static</span><span class=p0>'</span>
<span class=p0>import</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>Grid</span><span class=p0>,</span><span class=ws> </span><span class=p1>Header</span><span class=p0>,</span><span class=ws> </span><span class=p1>Icon</span><span class=p0>,</span><span class=ws> </span><span class=p1>Label</span><span class=p0>,</span><span class=ws> </span><span class=p1>Popup</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>semantic-ui-react</span><span class=p0>'</span>

<span class=p0>import</span><span class=ws> </span><span class=p1>DocsLayout</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>docs/src/components/DocsLayout</span><span class=p0>'</span>
<span class=p0>import</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>docTypes</span><span class=p0>,</span><span class=ws> </span><span class=p1>examplePathToHash</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>docs/src/utils</span><span class=p0>'</span>
<span class=p0>import</span><span class=ws> </span><span class=p1>ComponentDocLinks</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>./ComponentDocLinks</span><span class=p0>'</span>
<span class=p0>import</span><span class=ws> </span><span class=p1>ComponentDocSee</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>./ComponentDocSee</span><span class=p0>'</span>
<span class=p0>import</span><span class=ws> </span><span class=p1>ComponentExamples</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>./ComponentExamples</span><span class=p0>'</span>
<span class=p0>import</span><span class=ws> </span><span class=p1>ComponentProps</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>./ComponentProps</span><span class=p0>'</span>
<span class=p0>import</span><span class=ws> </span><span class=p1>ComponentSidebar</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>./ComponentSidebar</span><span class=p0>'</span>
<span class=p0>import</span><span class=ws> </span><span class=p1>ComponentDocContext</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>./ComponentDocContext</span><span class=p0>'</span>

<span class=p0>const</span><span class=ws> </span><span class=p1>exampleEndStyle</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>textAlign</span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>center</span><span class=s0>'</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>opacity</span><span class=p0>:</span><span class=ws> </span><span class=p1>0</span><span class=p0>.</span><span class=p1>5</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>paddingTop</span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>50vh</span><span class=s0>'</span><span class=p0>,</span>
<span class=p0>}</span>

<span class=p0>class</span><span class=ws> </span><span class=p1>ComponentDoc</span><span class=ws> </span><span class=p0>extends</span><span class=ws> </span><span class=p1>Component</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>state</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{}</span>
<span class=ws> </span><span class=ws> </span><span class=p1>examplesRef</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>createRef</span><span class=p0>()</span>

<span class=ws> </span><span class=ws> </span><span class=p0>static</span><span class=ws> </span><span class=p1>getDerivedStateFromProps</span><span class=p0>(</span><span class=p1>props</span><span class=p0>,</span><span class=ws> </span><span class=p1>state</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>resetOccurred</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>props</span><span class=p0>.</span><span class=p1>displayName</span><span class=ws> </span><span class=p0>!==</span><span class=ws> </span><span class=p1>state</span><span class=p0>.</span><span class=p1>displayName</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>displayName</span><span class=p0>:</span><span class=ws> </span><span class=p1>props</span><span class=p0>.</span><span class=p1>displayName</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>exampleStates</span><span class=p0>:</span><span class=ws> </span><span class=p1>resetOccurred</span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=p0>{}</span><span class=ws> </span><span class=p0>:</span><span class=ws> </span><span class=p1>state</span><span class=p0>.</span><span class=p1>exampleStates</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=p1>handleExampleVisibility</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>examplePath</span><span class=p0>,</span><span class=ws> </span><span class=p1>visible</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>this</span><span class=p0>.</span><span class=p1>setState</span><span class=p0>((</span><span class=p1>prevState</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>({</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>exampleStates</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>...</span><span class=p1>prevState</span><span class=p0>.</span><span class=p1>exampleStates</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>[</span><span class=p1>examplePath</span><span class=p0>]:</span><span class=ws> </span><span class=p1>visible</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}))</span>

<span class=ws> </span><span class=ws> </span><span class=p1>handleSidebarItemClick</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>e</span><span class=p0>,</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>examplePath</span><span class=ws> </span><span class=p0>})</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>history</span><span class=p0>,</span><span class=ws> </span><span class=p1>location</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>this</span><span class=p0>.</span><span class=p1>props</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>history</span><span class=p0>.</span><span class=p1>replace</span><span class=p0>(</span><span class=s0>`</span><span class=p0>${</span><span class=p1>location</span><span class=p0>.</span><span class=p1>pathname</span><span class=p0>}</span><span class=s1>#</span><span class=p0>${</span><span class=p1>examplePathToHash</span><span class=p0>(</span><span class=p1>examplePath</span><span class=p0>)</span><span class=p0>}</span><span class=s0>`</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=p1>render</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>componentsInfo</span><span class=p0>,</span><span class=ws> </span><span class=p1>displayName</span><span class=p0>,</span><span class=ws> </span><span class=p1>deprecated</span><span class=p0>,</span><span class=ws> </span><span class=p1>seeTags</span><span class=p0>,</span><span class=ws> </span><span class=p1>sidebarSections</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>this</span><span class=p0>.</span><span class=p1>props</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>activePath</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>_</span><span class=p0>.</span><span class=p1>findKey</span><span class=p0>(</span><span class=p1>this</span><span class=p0>.</span><span class=p1>state</span><span class=p0>.</span><span class=p1>exampleStates</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>componentInfo</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>componentsInfo</span><span class=p0>[</span><span class=p1>displayName</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>contextValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>...</span><span class=p1>this</span><span class=p0>.</span><span class=p1>props</span><span class=p0>,</span><span class=ws> </span><span class=p1>onVisibilityChange</span><span class=p0>:</span><span class=ws> </span><span class=p1>this</span><span class=p0>.</span><span class=p1>handleExampleVisibility</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>/*</span><span class=ws> </span><span class=c0>TODO:</span><span class=ws> </span><span class=c0>use</span><span class=ws> </span><span class=c0>`title`</span><span class=ws> </span><span class=c0>from</span><span class=ws> </span><span class=c0>context</span><span class=ws> </span><span class=c0>*/</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>DocsLayout</span><span class=ws> </span><span class=p1>additionalTitle</span><span class=p0>={</span><span class=p1>displayName</span><span class=p0>}</span><span class=ws> </span><span class=p1>sidebar</span><span class=ws> </span><span class=p1>title</span><span class=p0>=</span><span class=s0>'</span><span class=s1>Semantic</span><span class=ws> </span><span class=s1>UI</span><span class=ws> </span><span class=s1>React</span><span class=s0>'</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Grid</span><span class=ws> </span><span class=p1>padded</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Grid.Row</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Grid.Column</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Header</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>as</span><span class=p0>=</span><span class=s0>'</span><span class=s1>h1</span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>content</span><span class=p0>={</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>span</span><span class=p0>>{</span><span class=p1>displayName</span><span class=p0>}&lt;/</span><span class=p1>span</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>{</span><span class=p1>deprecated</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popup</span><span class=ws> </span><span class=p1>trigger</span><span class=p0>={&lt;</span><span class=p1>Label</span><span class=ws> </span><span class=p1>color</span><span class=p0>=</span><span class=s0>'</span><span class=s1>black</span><span class=s0>'</span><span class=p0>></span><span class=p1>Deprecated</span><span class=p0>&lt;/</span><span class=p1>Label</span><span class=p0>>}></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>This</span><span class=ws> </span><span class=p1>component</span><span class=ws> </span><span class=p1>is</span><span class=ws> </span><span class=p1>deprecated</span><span class=ws> </span><span class=p1>and</span><span class=ws> </span><span class=p1>will</span><span class=ws> </span><span class=p1>be</span><span class=ws> </span><span class=p1>removed</span><span class=ws> </span><span class=p1>in</span><span class=ws> </span><span class=p1>the</span><span class=ws> </span><span class=p1>next</span><span class=ws> </span><span class=p1>major</span><span class=ws> </span><span class=p1>release.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Popup</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>subheader</span><span class=p0>={</span><span class=p1>_</span><span class=p0>.</span><span class=p1>join</span><span class=p0>(</span><span class=p1>componentInfo</span><span class=p0>.</span><span class=p1>docblock</span><span class=p0>.</span><span class=p1>description</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=s0>'</span><span class=p0>)}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>/></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>ComponentDocSee</span><span class=ws> </span><span class=p1>seeTags</span><span class=p0>={</span><span class=p1>seeTags</span><span class=p0>}</span><span class=ws> </span><span class=p0>/></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>{</span><span class=p1>componentInfo</span><span class=p0>.</span><span class=p1>repoPath</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>ComponentDocLinks</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>displayName</span><span class=p0>={</span><span class=p1>displayName</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>parentDisplayName</span><span class=p0>={</span><span class=p1>componentInfo</span><span class=p0>.</span><span class=p1>parentDisplayName</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>repoPath</span><span class=p0>={</span><span class=p1>componentInfo</span><span class=p0>.</span><span class=p1>repoPath</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>type</span><span class=p0>={</span><span class=p1>componentInfo</span><span class=p0>.</span><span class=p1>type</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>/></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>ComponentProps</span><span class=ws> </span><span class=p1>componentsInfo</span><span class=p0>={</span><span class=p1>componentsInfo</span><span class=p0>}</span><span class=ws> </span><span class=p1>displayName</span><span class=p0>={</span><span class=p1>displayName</span><span class=p0>}</span><span class=ws> </span><span class=p0>/></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Grid.Column</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Grid.Row</span><span class=p0>></span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Grid.Row</span><span class=ws> </span><span class=p1>columns</span><span class=p0>=</span><span class=s0>'</span><span class=s1>equal</span><span class=s0>'</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Grid.Column</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>div</span><span class=ws> </span><span class=p1>ref</span><span class=p0>={</span><span class=p1>this</span><span class=p0>.</span><span class=p1>examplesRef</span><span class=p0>}></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>ComponentDocContext.Provider</span><span class=ws> </span><span class=p1>value</span><span class=p0>={</span><span class=p1>contextValue</span><span class=p0>}></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>ComponentExamples</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>displayName</span><span class=p0>={</span><span class=p1>displayName</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>examplesExist</span><span class=p0>={</span><span class=p1>componentInfo</span><span class=p0>.</span><span class=p1>examplesExist</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>type</span><span class=p0>={</span><span class=p1>componentInfo</span><span class=p0>.</span><span class=p1>type</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>/></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>ComponentDocContext.Provider</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>div</span><span class=ws> </span><span class=p1>style</span><span class=p0>={</span><span class=p1>exampleEndStyle</span><span class=p0>}></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>This</span><span class=ws> </span><span class=p1>is</span><span class=ws> </span><span class=p1>the</span><span class=ws> </span><span class=p1>bottom</span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Icon</span><span class=ws> </span><span class=p1>name</span><span class=p0>=</span><span class=s0>'</span><span class=s1>pointing</span><span class=ws> </span><span class=s1>down</span><span class=s0>'</span><span class=ws> </span><span class=p0>/></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Grid.Column</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Grid.Column</span><span class=ws> </span><span class=p1>computer</span><span class=p0>={</span><span class=p1>5</span><span class=p0>}</span><span class=ws> </span><span class=p1>largeScreen</span><span class=p0>={</span><span class=p1>4</span><span class=p0>}</span><span class=ws> </span><span class=p1>widescreen</span><span class=p0>={</span><span class=p1>4</span><span class=p0>}></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>ComponentSidebar</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>activePath</span><span class=p0>={</span><span class=p1>activePath</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>examplesRef</span><span class=p0>={</span><span class=p1>this</span><span class=p0>.</span><span class=p1>examplesRef</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>onItemClick</span><span class=p0>={</span><span class=p1>this</span><span class=p0>.</span><span class=p1>handleSidebarItemClick</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>sections</span><span class=p0>={</span><span class=p1>sidebarSections</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>/></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Grid.Column</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Grid.Row</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Grid</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>DocsLayout</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>

<span class=p1>ComponentDoc</span><span class=p0>.</span><span class=p1>propTypes</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>componentsInfo</span><span class=p0>:</span><span class=ws> </span><span class=p1>PropTypes</span><span class=p0>.</span><span class=p1>objectOf</span><span class=p0>(</span><span class=p1>docTypes</span><span class=p0>.</span><span class=p1>componentInfoShape</span><span class=p0>).</span><span class=p1>isRequired</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>displayName</span><span class=p0>:</span><span class=ws> </span><span class=p1>PropTypes</span><span class=p0>.</span><span class=p1>string</span><span class=p0>.</span><span class=p1>isRequired</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>deprecated</span><span class=p0>:</span><span class=ws> </span><span class=p1>PropTypes</span><span class=p0>.</span><span class=p1>bool</span><span class=p0>.</span><span class=p1>isRequired</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>history</span><span class=p0>:</span><span class=ws> </span><span class=p1>PropTypes</span><span class=p0>.</span><span class=p1>object</span><span class=p0>.</span><span class=p1>isRequired</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>location</span><span class=p0>:</span><span class=ws> </span><span class=p1>PropTypes</span><span class=p0>.</span><span class=p1>object</span><span class=p0>.</span><span class=p1>isRequired</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>seeTags</span><span class=p0>:</span><span class=ws> </span><span class=p1>docTypes</span><span class=p0>.</span><span class=p1>seeTags</span><span class=p0>.</span><span class=p1>isRequired</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>sidebarSections</span><span class=p0>:</span><span class=ws> </span><span class=p1>docTypes</span><span class=p0>.</span><span class=p1>sidebarSections</span><span class=p0>.</span><span class=p1>isRequired</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>title</span><span class=p0>:</span><span class=ws> </span><span class=p1>PropTypes</span><span class=p0>.</span><span class=p1>string</span><span class=p0>.</span><span class=p1>isRequired</span><span class=p0>,</span>
<span class=p0>}</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>default</span><span class=ws> </span><span class=p1>withRouteData</span><span class=p0>(</span><span class=p1>withRouter</span><span class=p0>(</span><span class=p1>ComponentDoc</span><span class=p0>))</span>
</code></pre><pre aria-labelledby=makefile class=sh hidden><code><span class=c0>#</span><span class=ws> </span><span class=c0>################################################################</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>zstd</span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>Makefile</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>Copyright</span><span class=ws> </span><span class=c0>(C)</span><span class=ws> </span><span class=c0>Yann</span><span class=ws> </span><span class=c0>Collet</span><span class=ws> </span><span class=c0>2014-2015</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>All</span><span class=ws> </span><span class=c0>rights</span><span class=ws> </span><span class=c0>reserved.</span>
<span class=c0>#</span><span class=ws> </span>
<span class=c0>#</span><span class=ws> </span><span class=c0>BSD</span><span class=ws> </span><span class=c0>license</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>Redistribution</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>use</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>source</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>binary</span><span class=ws> </span><span class=c0>forms,</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>without</span><span class=ws> </span><span class=c0>modification,</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>are</span><span class=ws> </span><span class=c0>permitted</span><span class=ws> </span><span class=c0>provided</span><span class=ws> </span><span class=c0>that</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>following</span><span class=ws> </span><span class=c0>conditions</span><span class=ws> </span><span class=c0>are</span><span class=ws> </span><span class=c0>met:</span>
<span class=c0>#</span><span class=ws> </span>
<span class=c0>#</span><span class=ws> </span><span class=c0>*</span><span class=ws> </span><span class=c0>Redistributions</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>source</span><span class=ws> </span><span class=c0>code</span><span class=ws> </span><span class=c0>must</span><span class=ws> </span><span class=c0>retain</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>above</span><span class=ws> </span><span class=c0>copyright</span><span class=ws> </span><span class=c0>notice,</span><span class=ws> </span><span class=c0>this</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>list</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>conditions</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>following</span><span class=ws> </span><span class=c0>disclaimer.</span>
<span class=c0>#</span><span class=ws> </span>
<span class=c0>#</span><span class=ws> </span><span class=c0>*</span><span class=ws> </span><span class=c0>Redistributions</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>binary</span><span class=ws> </span><span class=c0>form</span><span class=ws> </span><span class=c0>must</span><span class=ws> </span><span class=c0>reproduce</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>above</span><span class=ws> </span><span class=c0>copyright</span><span class=ws> </span><span class=c0>notice,</span><span class=ws> </span><span class=c0>this</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>list</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>conditions</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>following</span><span class=ws> </span><span class=c0>disclaimer</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>documentation</span><span class=ws> </span><span class=c0>and/or</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>other</span><span class=ws> </span><span class=c0>materials</span><span class=ws> </span><span class=c0>provided</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>distribution.</span>
<span class=c0>#</span><span class=ws> </span>
<span class=c0>#</span><span class=ws> </span><span class=c0>THIS</span><span class=ws> </span><span class=c0>SOFTWARE</span><span class=ws> </span><span class=c0>IS</span><span class=ws> </span><span class=c0>PROVIDED</span><span class=ws> </span><span class=c0>BY</span><span class=ws> </span><span class=c0>THE</span><span class=ws> </span><span class=c0>COPYRIGHT</span><span class=ws> </span><span class=c0>HOLDERS</span><span class=ws> </span><span class=c0>AND</span><span class=ws> </span><span class=c0>CONTRIBUTORS</span><span class=ws> </span><span class=c0>"AS</span><span class=ws> </span><span class=c0>IS"</span><span class=ws> </span><span class=c0>AND</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>ANY</span><span class=ws> </span><span class=c0>EXPRESS</span><span class=ws> </span><span class=c0>OR</span><span class=ws> </span><span class=c0>IMPLIED</span><span class=ws> </span><span class=c0>WARRANTIES,</span><span class=ws> </span><span class=c0>INCLUDING,</span><span class=ws> </span><span class=c0>BUT</span><span class=ws> </span><span class=c0>NOT</span><span class=ws> </span><span class=c0>LIMITED</span><span class=ws> </span><span class=c0>TO,</span><span class=ws> </span><span class=c0>THE</span><span class=ws> </span><span class=c0>IMPLIED</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>WARRANTIES</span><span class=ws> </span><span class=c0>OF</span><span class=ws> </span><span class=c0>MERCHANTABILITY</span><span class=ws> </span><span class=c0>AND</span><span class=ws> </span><span class=c0>FITNESS</span><span class=ws> </span><span class=c0>FOR</span><span class=ws> </span><span class=c0>A</span><span class=ws> </span><span class=c0>PARTICULAR</span><span class=ws> </span><span class=c0>PURPOSE</span><span class=ws> </span><span class=c0>ARE</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>DISCLAIMED.</span><span class=ws> </span><span class=c0>IN</span><span class=ws> </span><span class=c0>NO</span><span class=ws> </span><span class=c0>EVENT</span><span class=ws> </span><span class=c0>SHALL</span><span class=ws> </span><span class=c0>THE</span><span class=ws> </span><span class=c0>COPYRIGHT</span><span class=ws> </span><span class=c0>HOLDER</span><span class=ws> </span><span class=c0>OR</span><span class=ws> </span><span class=c0>CONTRIBUTORS</span><span class=ws> </span><span class=c0>BE</span><span class=ws> </span><span class=c0>LIABLE</span><span class=ws> </span><span class=c0>FOR</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>ANY</span><span class=ws> </span><span class=c0>DIRECT,</span><span class=ws> </span><span class=c0>INDIRECT,</span><span class=ws> </span><span class=c0>INCIDENTAL,</span><span class=ws> </span><span class=c0>SPECIAL,</span><span class=ws> </span><span class=c0>EXEMPLARY,</span><span class=ws> </span><span class=c0>OR</span><span class=ws> </span><span class=c0>CONSEQUENTIAL</span><span class=ws> </span><span class=c0>DAMAGES</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>(INCLUDING,</span><span class=ws> </span><span class=c0>BUT</span><span class=ws> </span><span class=c0>NOT</span><span class=ws> </span><span class=c0>LIMITED</span><span class=ws> </span><span class=c0>TO,</span><span class=ws> </span><span class=c0>PROCUREMENT</span><span class=ws> </span><span class=c0>OF</span><span class=ws> </span><span class=c0>SUBSTITUTE</span><span class=ws> </span><span class=c0>GOODS</span><span class=ws> </span><span class=c0>OR</span><span class=ws> </span><span class=c0>SERVICES;</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>LOSS</span><span class=ws> </span><span class=c0>OF</span><span class=ws> </span><span class=c0>USE,</span><span class=ws> </span><span class=c0>DATA,</span><span class=ws> </span><span class=c0>OR</span><span class=ws> </span><span class=c0>PROFITS;</span><span class=ws> </span><span class=c0>OR</span><span class=ws> </span><span class=c0>BUSINESS</span><span class=ws> </span><span class=c0>INTERRUPTION)</span><span class=ws> </span><span class=c0>HOWEVER</span><span class=ws> </span><span class=c0>CAUSED</span><span class=ws> </span><span class=c0>AND</span><span class=ws> </span><span class=c0>ON</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>ANY</span><span class=ws> </span><span class=c0>THEORY</span><span class=ws> </span><span class=c0>OF</span><span class=ws> </span><span class=c0>LIABILITY,</span><span class=ws> </span><span class=c0>WHETHER</span><span class=ws> </span><span class=c0>IN</span><span class=ws> </span><span class=c0>CONTRACT,</span><span class=ws> </span><span class=c0>STRICT</span><span class=ws> </span><span class=c0>LIABILITY,</span><span class=ws> </span><span class=c0>OR</span><span class=ws> </span><span class=c0>TORT</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>(INCLUDING</span><span class=ws> </span><span class=c0>NEGLIGENCE</span><span class=ws> </span><span class=c0>OR</span><span class=ws> </span><span class=c0>OTHERWISE)</span><span class=ws> </span><span class=c0>ARISING</span><span class=ws> </span><span class=c0>IN</span><span class=ws> </span><span class=c0>ANY</span><span class=ws> </span><span class=c0>WAY</span><span class=ws> </span><span class=c0>OUT</span><span class=ws> </span><span class=c0>OF</span><span class=ws> </span><span class=c0>THE</span><span class=ws> </span><span class=c0>USE</span><span class=ws> </span><span class=c0>OF</span><span class=ws> </span><span class=c0>THIS</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>SOFTWARE,</span><span class=ws> </span><span class=c0>EVEN</span><span class=ws> </span><span class=c0>IF</span><span class=ws> </span><span class=c0>ADVISED</span><span class=ws> </span><span class=c0>OF</span><span class=ws> </span><span class=c0>THE</span><span class=ws> </span><span class=c0>POSSIBILITY</span><span class=ws> </span><span class=c0>OF</span><span class=ws> </span><span class=c0>SUCH</span><span class=ws> </span><span class=c0>DAMAGE.</span>
<span class=c0>#</span><span class=ws> </span>
<span class=c0>#</span><span class=ws> </span><span class=c0>You</span><span class=ws> </span><span class=c0>can</span><span class=ws> </span><span class=c0>contact</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>author</span><span class=ws> </span><span class=c0>at</span><span class=ws> </span><span class=c0>:</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>zstd</span><span class=ws> </span><span class=c0>source</span><span class=ws> </span><span class=c0>repository</span><span class=ws> </span><span class=c0>:</span><span class=ws> </span><span class=c0>https://github.com/Cyan4973/zstd</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>Public</span><span class=ws> </span><span class=c0>forum</span><span class=ws> </span><span class=c0>:</span><span class=ws> </span><span class=c0>https://groups.google.com/forum/#!forum/lz4c</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>################################################################</span>

<span class=c0>#</span><span class=ws> </span><span class=c0>Version</span><span class=ws> </span><span class=c0>number</span>
<span class=p0>export</span><span class=ws> </span><span class=p1>VERSION</span><span class=ws> </span><span class=p0>:=</span><span class=ws> </span><span class=p1>0.4.2</span>

<span class=p1>PRGDIR</span><span class=ws> </span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>programs</span>
<span class=p1>ZSTDDIR</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>lib</span>

<span class=c0>#</span><span class=ws> </span><span class=c0>Define</span><span class=ws> </span><span class=c0>nul</span><span class=ws> </span><span class=c0>output</span>
<span class=p0>ifneq</span><span class=ws> </span><span class=p1>(</span><span class=p0>,</span><span class=p0>$(</span><span class=p1>filter</span><span class=ws> </span><span class=p1>Windows</span><span class=p0>%,$(</span><span class=p1>OS</span><span class=p0>))</span><span class=p1>)</span>
<span class=p1>VOID</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nul</span>
<span class=p0>else</span>
<span class=p1>VOID</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>/dev/null</span>
<span class=p0>endif</span>

<span class=p0>.PHONY:</span><span class=ws> </span><span class=p1>default</span><span class=ws> </span><span class=p1>all</span><span class=ws> </span><span class=p1>zstdprogram</span><span class=ws> </span><span class=p1>clean</span><span class=ws> </span><span class=p1>install</span><span class=ws> </span><span class=p1>uninstall</span><span class=ws> </span><span class=p1>travis-install</span><span class=ws> </span><span class=p1>test</span><span class=ws> </span><span class=p1>clangtest</span><span class=ws> </span><span class=p1>gpptest</span><span class=ws> </span><span class=p1>armtest</span><span class=ws> </span><span class=p1>usan</span><span class=ws> </span><span class=p1>asan</span><span class=ws> </span><span class=p1>uasan</span>

<span class=p1>default</span><span class=p0>:</span><span class=ws> </span><span class=p1>zstdprogram</span>

<span class=p1>all</span><span class=p0>:</span><span class=p1> </span>
<span class=wt>	</span><span class=p0>$(</span><span class=p1>MAKE</span><span class=p0>)</span><span class=ws> </span><span class=p1>-C</span><span class=ws> </span><span class=p0>$(</span><span class=p1>ZSTDDIR</span><span class=p0>)</span><span class=ws> </span><span class=p1>$@</span>
<span class=wt>	</span><span class=p0>$(</span><span class=p1>MAKE</span><span class=p0>)</span><span class=ws> </span><span class=p1>-C</span><span class=ws> </span><span class=p0>$(</span><span class=p1>PRGDIR</span><span class=p0>)</span><span class=ws> </span><span class=p1>$@</span>

<span class=p1>zstdprogram</span><span class=p0>:</span>
<span class=wt>	</span><span class=p0>$(</span><span class=p1>MAKE</span><span class=p0>)</span><span class=ws> </span><span class=p1>-C</span><span class=ws> </span><span class=p0>$(</span><span class=p1>PRGDIR</span><span class=p0>)</span>

<span class=p1>clean</span><span class=p0>:</span>
<span class=wt>	</span><span class=p0>@</span><span class=p0>$(</span><span class=p1>MAKE</span><span class=p0>)</span><span class=ws> </span><span class=p1>-C</span><span class=ws> </span><span class=p0>$(</span><span class=p1>ZSTDDIR</span><span class=p0>)</span><span class=ws> </span><span class=p1>$@</span><span class=ws> </span><span class=p1>></span><span class=ws> </span><span class=p0>$(</span><span class=p1>VOID</span><span class=p0>)</span>
<span class=wt>	</span><span class=p0>@</span><span class=p0>$(</span><span class=p1>MAKE</span><span class=p0>)</span><span class=ws> </span><span class=p1>-C</span><span class=ws> </span><span class=p0>$(</span><span class=p1>PRGDIR</span><span class=p0>)</span><span class=ws> </span><span class=p1>$@</span><span class=ws> </span><span class=p1>></span><span class=ws> </span><span class=p0>$(</span><span class=p1>VOID</span><span class=p0>)</span>
<span class=wt>	</span><span class=p0>@</span><span class=p1>echo</span><span class=ws> </span><span class=p1>Cleaning</span><span class=ws> </span><span class=p1>completed</span>


<span class=c0>#------------------------------------------------------------------------</span>
<span class=c0>#make</span><span class=ws> </span><span class=c0>install</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>validated</span><span class=ws> </span><span class=c0>only</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>Linux,</span><span class=ws> </span><span class=c0>OSX,</span><span class=ws> </span><span class=c0>kFreeBSD</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>Hurd</span><span class=ws> </span><span class=c0>targets</span>
<span class=p0>ifneq</span><span class=ws> </span><span class=p1>(</span><span class=p0>,</span><span class=p0>$(</span><span class=p1>filter</span><span class=ws> </span><span class=p0>$(</span><span class=p1>shell</span><span class=ws> </span><span class=p1>uname</span><span class=p0>),</span><span class=p1>Linux</span><span class=ws> </span><span class=p1>Darwin</span><span class=ws> </span><span class=p1>GNU/kFreeBSD</span><span class=ws> </span><span class=p1>GNU</span><span class=p0>)</span><span class=p1>)</span>

<span class=p1>install</span><span class=p0>:</span>
<span class=wt>	</span><span class=p0>$(</span><span class=p1>MAKE</span><span class=p0>)</span><span class=ws> </span><span class=p1>-C</span><span class=ws> </span><span class=p0>$(</span><span class=p1>ZSTDDIR</span><span class=p0>)</span><span class=ws> </span><span class=p1>$@</span>
<span class=wt>	</span><span class=p0>$(</span><span class=p1>MAKE</span><span class=p0>)</span><span class=ws> </span><span class=p1>-C</span><span class=ws> </span><span class=p0>$(</span><span class=p1>PRGDIR</span><span class=p0>)</span><span class=ws> </span><span class=p1>$@</span>

<span class=p1>uninstall</span><span class=p0>:</span>
<span class=wt>	</span><span class=p0>$(</span><span class=p1>MAKE</span><span class=p0>)</span><span class=ws> </span><span class=p1>-C</span><span class=ws> </span><span class=p0>$(</span><span class=p1>ZSTDDIR</span><span class=p0>)</span><span class=ws> </span><span class=p1>$@</span>
<span class=wt>	</span><span class=p0>$(</span><span class=p1>MAKE</span><span class=p0>)</span><span class=ws> </span><span class=p1>-C</span><span class=ws> </span><span class=p0>$(</span><span class=p1>PRGDIR</span><span class=p0>)</span><span class=ws> </span><span class=p1>$@</span>

<span class=p1>travis-install</span><span class=p0>:</span>
<span class=wt>	</span><span class=p0>$(</span><span class=p1>MAKE</span><span class=p0>)</span><span class=ws> </span><span class=p1>install</span><span class=ws> </span><span class=p1>PREFIX=~/install_test_dir</span>

<span class=p1>test</span><span class=p0>:</span>
<span class=wt>	</span><span class=p0>$(</span><span class=p1>MAKE</span><span class=p0>)</span><span class=ws> </span><span class=p1>-C</span><span class=ws> </span><span class=p0>$(</span><span class=p1>PRGDIR</span><span class=p0>)</span><span class=ws> </span><span class=p1>$@</span>

<span class=p1>clangtest</span><span class=p0>:</span><span class=ws> </span><span class=p1>clean</span>
<span class=wt>	</span><span class=p1>clang</span><span class=ws> </span><span class=p1>-v</span>
<span class=wt>	</span><span class=p0>$(</span><span class=p1>MAKE</span><span class=p0>)</span><span class=ws> </span><span class=p1>all</span><span class=ws> </span><span class=p1>CC=clang</span><span class=ws> </span><span class=p1>MOREFLAGS="-Werror</span><span class=ws> </span><span class=p1>-Wconversion</span><span class=ws> </span><span class=p1>-Wno-sign-conversion"</span>

<span class=p1>gpptest</span><span class=p0>:</span><span class=ws> </span><span class=p1>clean</span>
<span class=wt>	</span><span class=p0>$(</span><span class=p1>MAKE</span><span class=p0>)</span><span class=ws> </span><span class=p1>all</span><span class=ws> </span><span class=p1>CC=g++</span><span class=ws> </span><span class=p1>CFLAGS="-O3</span><span class=ws> </span><span class=p1>-Wall</span><span class=ws> </span><span class=p1>-Wextra</span><span class=ws> </span><span class=p1>-Wundef</span><span class=ws> </span><span class=p1>-Wshadow</span><span class=ws> </span><span class=p1>-Wcast-align</span><span class=ws> </span><span class=p1>-Werror"</span>

<span class=p1>armtest</span><span class=p0>:</span><span class=ws> </span><span class=p1>clean</span>
<span class=wt>	</span><span class=p0>$(</span><span class=p1>MAKE</span><span class=p0>)</span><span class=ws> </span><span class=p1>-C</span><span class=ws> </span><span class=p0>$(</span><span class=p1>ZSTDDIR</span><span class=p0>)</span><span class=ws> </span><span class=p1>-e</span><span class=ws> </span><span class=p1>all</span><span class=ws> </span><span class=p1>CC=arm-linux-gnueabi-gcc</span><span class=ws> </span><span class=p1>MOREFLAGS="-Werror"</span>
<span class=wt>	</span><span class=p0>$(</span><span class=p1>MAKE</span><span class=p0>)</span><span class=ws> </span><span class=p1>-C</span><span class=ws> </span><span class=p0>$(</span><span class=p1>PRGDIR</span><span class=p0>)</span><span class=ws> </span><span class=p1>-e</span><span class=ws> </span><span class=p1>CC=arm-linux-gnueabi-gcc</span><span class=ws> </span><span class=p1>MOREFLAGS="-Werror"</span>

<span class=p1>usan</span><span class=p0>:</span><span class=ws> </span><span class=p1>clean</span>
<span class=wt>	</span><span class=p0>$(</span><span class=p1>MAKE</span><span class=p0>)</span><span class=ws> </span><span class=p1>test</span><span class=ws> </span><span class=p1>CC=clang</span><span class=ws> </span><span class=p1>MOREFLAGS="-g</span><span class=ws> </span><span class=p1>-fsanitize=undefined"</span>

<span class=p1>asan</span><span class=p0>:</span><span class=ws> </span><span class=p1>clean</span>
<span class=wt>	</span><span class=p0>$(</span><span class=p1>MAKE</span><span class=p0>)</span><span class=ws> </span><span class=p1>test</span><span class=ws> </span><span class=p1>CC=clang</span><span class=ws> </span><span class=p1>MOREFLAGS="-g</span><span class=ws> </span><span class=p1>-fsanitize=address"</span>

<span class=p1>uasan</span><span class=p0>:</span><span class=ws> </span><span class=p1>clean</span>
<span class=wt>	</span><span class=p0>$(</span><span class=p1>MAKE</span><span class=p0>)</span><span class=ws> </span><span class=p1>test</span><span class=ws> </span><span class=p1>CC=clang</span><span class=ws> </span><span class=p1>MOREFLAGS="-g</span><span class=ws> </span><span class=p1>-fsanitize=address</span><span class=ws> </span><span class=p1>-fsanitize=undefined"</span>

<span class=p0>endif</span>
</code></pre><pre aria-labelledby=py class=sh hidden><code><span class=c0>#!/usr/bin/env</span><span class=ws> </span><span class=c0>python</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>-*-</span><span class=ws> </span><span class=c0>coding:</span><span class=ws> </span><span class=c0>utf-8</span><span class=ws> </span><span class=c0>-*-</span>

<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>IceCream</span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>Never</span><span class=ws> </span><span class=c0>use</span><span class=ws> </span><span class=c0>print()</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>debug</span><span class=ws> </span><span class=c0>again</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>Ansgar</span><span class=ws> </span><span class=c0>Grunseid</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>grunseid.com</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>grunseid@gmail.com</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>License:</span><span class=ws> </span><span class=c0>MIT</span>
<span class=c0>#</span>

<span class=p0>from</span><span class=ws> </span><span class=p1>__future__</span><span class=ws> </span><span class=p0>import</span><span class=ws> </span><span class=p1>print_function</span>

<span class=p0>import</span><span class=ws> </span><span class=p1>ast</span>
<span class=p0>import</span><span class=ws> </span><span class=p1>inspect</span>
<span class=p0>import</span><span class=ws> </span><span class=p1>pprint</span>
<span class=p0>import</span><span class=ws> </span><span class=p1>sys</span>
<span class=p0>from</span><span class=ws> </span><span class=p1>datetime</span><span class=ws> </span><span class=p0>import</span><span class=ws> </span><span class=p1>datetime</span>
<span class=p0>import</span><span class=ws> </span><span class=p1>functools</span>
<span class=p0>from</span><span class=ws> </span><span class=p1>contextlib</span><span class=ws> </span><span class=p0>import</span><span class=ws> </span><span class=p1>contextmanager</span>
<span class=p0>from</span><span class=ws> </span><span class=p1>os</span><span class=p0>.</span><span class=p1>path</span><span class=ws> </span><span class=p0>import</span><span class=ws> </span><span class=p1>basename</span><span class=p0>,</span><span class=ws> </span><span class=p1>realpath</span>
<span class=p0>from</span><span class=ws> </span><span class=p1>textwrap</span><span class=ws> </span><span class=p0>import</span><span class=ws> </span><span class=p1>dedent</span>

<span class=p0>import</span><span class=ws> </span><span class=p1>colorama</span>
<span class=p0>import</span><span class=ws> </span><span class=p1>executing</span>
<span class=p0>from</span><span class=ws> </span><span class=p1>pygments</span><span class=ws> </span><span class=p0>import</span><span class=ws> </span><span class=p1>highlight</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>See</span><span class=ws> </span><span class=c0>https://gist.github.com/XVilka/8346728</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>color</span><span class=ws> </span><span class=c0>support</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>various</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>terminals</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>thus</span><span class=ws> </span><span class=c0>whether</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>use</span><span class=ws> </span><span class=c0>Terminal256Formatter</span><span class=ws> </span><span class=c0>or</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>TerminalTrueColorFormatter.</span>
<span class=p0>from</span><span class=ws> </span><span class=p1>pygments</span><span class=p0>.</span><span class=p1>formatters</span><span class=ws> </span><span class=p0>import</span><span class=ws> </span><span class=p1>Terminal256Formatter</span>
<span class=p0>from</span><span class=ws> </span><span class=p1>pygments</span><span class=p0>.</span><span class=p1>lexers</span><span class=ws> </span><span class=p0>import</span><span class=ws> </span><span class=p1>PythonLexer</span><span class=ws> </span><span class=p0>as</span><span class=ws> </span><span class=p1>PyLexer</span><span class=p0>,</span><span class=ws> </span><span class=p1>Python3Lexer</span><span class=ws> </span><span class=p0>as</span><span class=ws> </span><span class=p1>Py3Lexer</span>

<span class=p0>from</span><span class=ws> </span><span class=p0>.</span><span class=p1>coloring</span><span class=ws> </span><span class=p0>import</span><span class=ws> </span><span class=p1>SolarizedDark</span>


<span class=p1>PYTHON2</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>sys</span><span class=p0>.</span><span class=p1>version_info</span><span class=p0>[</span><span class=p1>0</span><span class=p0>]</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=p1>2</span><span class=p0>)</span>


<span class=p1>_absent</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>object</span><span class=p0>()</span>


<span class=p0>def</span><span class=ws> </span><span class=p1>bindStaticVariable</span><span class=p0>(</span><span class=p1>name</span><span class=p0>,</span><span class=ws> </span><span class=p1>value</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>decorator</span><span class=p0>(</span><span class=p1>fn</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setattr</span><span class=p0>(</span><span class=p1>fn</span><span class=p0>,</span><span class=ws> </span><span class=p1>name</span><span class=p0>,</span><span class=ws> </span><span class=p1>value</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>fn</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>decorator</span>


<span class=p0>@</span><span class=p1>bindStaticVariable</span><span class=p0>(</span><span class=s0>'</span><span class=s1>formatter</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>Terminal256Formatter</span><span class=p0>(</span><span class=p1>style</span><span class=p0>=</span><span class=p1>SolarizedDark</span><span class=p0>))</span>
<span class=p0>@</span><span class=p1>bindStaticVariable</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>'</span><span class=s1>lexer</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>PyLexer</span><span class=p0>(</span><span class=p1>ensurenl</span><span class=p0>=</span><span class=p1>False</span><span class=p0>)</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>PYTHON2</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p1>Py3Lexer</span><span class=p0>(</span><span class=p1>ensurenl</span><span class=p0>=</span><span class=p1>False</span><span class=p0>))</span>
<span class=p0>def</span><span class=ws> </span><span class=p1>colorize</span><span class=p0>(</span><span class=p1>s</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>colorize</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>highlight</span><span class=p0>(</span><span class=p1>s</span><span class=p0>,</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>lexer</span><span class=p0>,</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>formatter</span><span class=p0>)</span>


<span class=p0>@</span><span class=p1>contextmanager</span>
<span class=p0>def</span><span class=ws> </span><span class=p1>supportTerminalColorsInWindows</span><span class=p0>():</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>Filter</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>replace</span><span class=ws> </span><span class=c0>ANSI</span><span class=ws> </span><span class=c0>escape</span><span class=ws> </span><span class=c0>sequences</span><span class=ws> </span><span class=c0>on</span><span class=ws> </span><span class=c0>Windows</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>equivalent</span><span class=ws> </span><span class=c0>Win32</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>API</span><span class=ws> </span><span class=c0>calls.</span><span class=ws> </span><span class=c0>This</span><span class=ws> </span><span class=c0>code</span><span class=ws> </span><span class=c0>does</span><span class=ws> </span><span class=c0>nothing</span><span class=ws> </span><span class=c0>on</span><span class=ws> </span><span class=c0>non-Windows</span><span class=ws> </span><span class=c0>systems.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>colorama</span><span class=p0>.</span><span class=p1>init</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>yield</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>colorama</span><span class=p0>.</span><span class=p1>deinit</span><span class=p0>()</span>


<span class=p0>def</span><span class=ws> </span><span class=p1>stderrPrint</span><span class=p0>(*</span><span class=p1>args</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>print</span><span class=p0>(*</span><span class=p1>args</span><span class=p0>,</span><span class=ws> </span><span class=p1>file</span><span class=p0>=</span><span class=p1>sys</span><span class=p0>.</span><span class=p1>stderr</span><span class=p0>)</span>


<span class=p0>def</span><span class=ws> </span><span class=p1>isLiteral</span><span class=p0>(</span><span class=p1>s</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>try:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ast</span><span class=p0>.</span><span class=p1>literal_eval</span><span class=p0>(</span><span class=p1>s</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>except</span><span class=ws> </span><span class=p1>Exception</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>False</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>True</span>


<span class=p0>def</span><span class=ws> </span><span class=p1>colorizedStderrPrint</span><span class=p0>(</span><span class=p1>s</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>colored</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>colorize</span><span class=p0>(</span><span class=p1>s</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>with</span><span class=ws> </span><span class=p1>supportTerminalColorsInWindows</span><span class=p0>():</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>stderrPrint</span><span class=p0>(</span><span class=p1>colored</span><span class=p0>)</span>


<span class=p1>DEFAULT_PREFIX</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>'</span><span class=s1>ic|</span><span class=ws> </span><span class=s0>'</span>
<span class=p1>DEFAULT_LINE_WRAP_WIDTH</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>70</span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>Characters.</span>
<span class=p1>DEFAULT_CONTEXT_DELIMITER</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>'</span><span class=s1>-</span><span class=ws> </span><span class=s0>'</span>
<span class=p1>DEFAULT_OUTPUT_FUNCTION</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>colorizedStderrPrint</span>
<span class=p1>DEFAULT_ARG_TO_STRING_FUNCTION</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>pprint</span><span class=p0>.</span><span class=p1>pformat</span>


<span class=p0>class</span><span class=ws> </span><span class=p1>NoSourceAvailableError</span><span class=p0>(</span><span class=p1>OSError</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>"""</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>Raised</span><span class=ws> </span><span class=c0>when</span><span class=ws> </span><span class=c0>icecream</span><span class=ws> </span><span class=c0>fails</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>find</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>access</span><span class=ws> </span><span class=c0>source</span><span class=ws> </span><span class=c0>code</span><span class=ws> </span><span class=c0>that's</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>required</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>parse</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>analyze.</span><span class=ws> </span><span class=c0>This</span><span class=ws> </span><span class=c0>can</span><span class=ws> </span><span class=c0>happen,</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>example,</span><span class=ws> </span><span class=c0>when</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>ic()</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>invoked</span><span class=ws> </span><span class=c0>inside</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>REPL</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>interactive</span><span class=ws> </span><span class=c0>shell,</span><span class=ws> </span><span class=c0>e.g.</span><span class=ws> </span><span class=c0>from</span><span class=ws> </span><span class=c0>the</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>command</span><span class=ws> </span><span class=c0>line</span><span class=ws> </span><span class=c0>(CLI)</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>python</span><span class=ws> </span><span class=c0>-i.</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>source</span><span class=ws> </span><span class=c0>code</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>mangled</span><span class=ws> </span><span class=c0>and/or</span><span class=ws> </span><span class=c0>packaged,</span><span class=ws> </span><span class=c0>e.g.</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>project</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>freezer</span><span class=ws> </span><span class=c0>like</span><span class=ws> </span><span class=c0>PyInstaller.</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>underlying</span><span class=ws> </span><span class=c0>source</span><span class=ws> </span><span class=c0>code</span><span class=ws> </span><span class=c0>changed</span><span class=ws> </span><span class=c0>during</span><span class=ws> </span><span class=c0>execution.</span><span class=ws> </span><span class=c0>See</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>https://stackoverflow.com/a/33175832.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>"""</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>infoMessage</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>'</span><span class=s1>Failed</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>access</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>underlying</span><span class=ws> </span><span class=s1>source</span><span class=ws> </span><span class=s1>code</span><span class=ws> </span><span class=s1>for</span><span class=ws> </span><span class=s1>analysis.</span><span class=ws> </span><span class=s1>Was</span><span class=ws> </span><span class=s1>ic()</span><span class=ws> </span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>'</span><span class=s1>invoked</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=s1>a</span><span class=ws> </span><span class=s1>REPL</span><span class=ws> </span><span class=s1>(e.g.</span><span class=ws> </span><span class=s1>from</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>command</span><span class=ws> </span><span class=s1>line),</span><span class=ws> </span><span class=s1>a</span><span class=ws> </span><span class=s1>frozen</span><span class=ws> </span><span class=s1>application</span><span class=ws> </span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>'</span><span class=s1>(e.g.</span><span class=ws> </span><span class=s1>packaged</span><span class=ws> </span><span class=s1>with</span><span class=ws> </span><span class=s1>PyInstaller),</span><span class=ws> </span><span class=s1>or</span><span class=ws> </span><span class=s1>did</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>underlying</span><span class=ws> </span><span class=s1>source</span><span class=ws> </span><span class=s1>code</span><span class=ws> </span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>'</span><span class=s1>change</span><span class=ws> </span><span class=s1>during</span><span class=ws> </span><span class=s1>execution?</span><span class=s0>'</span><span class=p0>)</span>


<span class=p0>def</span><span class=ws> </span><span class=p1>callOrValue</span><span class=p0>(</span><span class=p1>obj</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>obj</span><span class=p0>()</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>callable</span><span class=p0>(</span><span class=p1>obj</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p1>obj</span>


<span class=p0>class</span><span class=ws> </span><span class=p1>Source</span><span class=p0>(</span><span class=p1>executing</span><span class=p0>.</span><span class=p1>Source</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>get_text_with_indentation</span><span class=p0>(</span><span class=p1>self</span><span class=p0>,</span><span class=ws> </span><span class=p1>node</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>result</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>asttokens</span><span class=p0>().</span><span class=p1>get_text</span><span class=p0>(</span><span class=p1>node</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=s0>'</span><span class=s1>\n</span><span class=s0>'</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>result</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>result</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=p0>*</span><span class=ws> </span><span class=p1>node</span><span class=p0>.</span><span class=p1>first_token</span><span class=p0>.</span><span class=p1>start</span><span class=p0>[</span><span class=p1>1</span><span class=p0>]</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>result</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>result</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>dedent</span><span class=p0>(</span><span class=p1>result</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>result</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>result</span><span class=p0>.</span><span class=p1>strip</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>result</span>


<span class=p0>def</span><span class=ws> </span><span class=p1>prefixLinesAfterFirst</span><span class=p0>(</span><span class=p1>prefix</span><span class=p0>,</span><span class=ws> </span><span class=p1>s</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>lines</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>s</span><span class=p0>.</span><span class=p1>splitlines</span><span class=p0>(</span><span class=p1>True</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>i</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>range</span><span class=p0>(</span><span class=p1>1</span><span class=p0>,</span><span class=ws> </span><span class=p1>len</span><span class=p0>(</span><span class=p1>lines</span><span class=p0>)):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>lines</span><span class=p0>[</span><span class=p1>i</span><span class=p0>]</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>prefix</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>lines</span><span class=p0>[</span><span class=p1>i</span><span class=p0>]</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=s0>''</span><span class=p0>.</span><span class=p1>join</span><span class=p0>(</span><span class=p1>lines</span><span class=p0>)</span>


<span class=p0>def</span><span class=ws> </span><span class=p1>indented_lines</span><span class=p0>(</span><span class=p1>prefix</span><span class=p0>,</span><span class=ws> </span><span class=p1>string</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>lines</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>string</span><span class=p0>.</span><span class=p1>splitlines</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>[</span><span class=p1>prefix</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>lines</span><span class=p0>[</span><span class=p1>0</span><span class=p0>]]</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=p0>*</span><span class=ws> </span><span class=p1>len</span><span class=p0>(</span><span class=p1>prefix</span><span class=p0>)</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>line</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>line</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>lines</span><span class=p0>[</span><span class=p1>1</span><span class=p0>:]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>]</span>


<span class=p0>def</span><span class=ws> </span><span class=p1>format_pair</span><span class=p0>(</span><span class=p1>prefix</span><span class=p0>,</span><span class=ws> </span><span class=p1>arg</span><span class=p0>,</span><span class=ws> </span><span class=p1>value</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>arg_lines</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>indented_lines</span><span class=p0>(</span><span class=p1>prefix</span><span class=p0>,</span><span class=ws> </span><span class=p1>arg</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>value_prefix</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>arg_lines</span><span class=p0>[-</span><span class=p1>1</span><span class=p0>]</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=s0>'</span><span class=s1>:</span><span class=ws> </span><span class=s0>'</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>looksLikeAString</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>value</span><span class=p0>[</span><span class=p1>0</span><span class=p0>]</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>value</span><span class=p0>[-</span><span class=p1>1</span><span class=p0>]</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p0>[</span><span class=s0>"</span><span class=s1>''</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>""</span><span class=s0>'</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>looksLikeAString</span><span class=p0>:</span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>Align</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>start</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>multiline</span><span class=ws> </span><span class=c0>strings.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>value</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>prefixLinesAfterFirst</span><span class=p0>(</span><span class=s0>'</span><span class=ws> </span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>value</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>value_lines</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>indented_lines</span><span class=p0>(</span><span class=p1>value_prefix</span><span class=p0>,</span><span class=ws> </span><span class=p1>value</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>lines</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>arg_lines</span><span class=p0>[:-</span><span class=p1>1</span><span class=p0>]</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>value_lines</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=s0>'</span><span class=s1>\n</span><span class=s0>'</span><span class=p0>.</span><span class=p1>join</span><span class=p0>(</span><span class=p1>lines</span><span class=p0>)</span>


<span class=p0>def</span><span class=ws> </span><span class=p1>singledispatch</span><span class=p0>(</span><span class=p1>func</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=s0>"</span><span class=s1>singledispatch</span><span class=s0>"</span><span class=ws> </span><span class=p0>not</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>dir</span><span class=p0>(</span><span class=p1>functools</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>unsupport_py2</span><span class=p0>(*</span><span class=p1>args</span><span class=p0>,</span><span class=ws> </span><span class=p0>**</span><span class=p1>kwargs</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=p1>NotImplementedError</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>functools.singledispatch</span><span class=ws> </span><span class=s1>is</span><span class=ws> </span><span class=s1>missing</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>sys</span><span class=p0>.</span><span class=p1>version</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>func</span><span class=p0>.</span><span class=p1>register</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>func</span><span class=p0>.</span><span class=p1>unregister</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>unsupport_py2</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>func</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>func</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>functools</span><span class=p0>.</span><span class=p1>singledispatch</span><span class=p0>(</span><span class=p1>func</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>add</span><span class=ws> </span><span class=c0>unregister</span><span class=ws> </span><span class=c0>based</span><span class=ws> </span><span class=c0>on</span><span class=ws> </span><span class=c0>https://stackoverflow.com/a/25951784</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>closure</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>dict</span><span class=p0>(</span><span class=p1>zip</span><span class=p0>(</span><span class=p1>func</span><span class=p0>.</span><span class=p1>register</span><span class=p0>.</span><span class=p1>__code__</span><span class=p0>.</span><span class=p1>co_freevars</span><span class=p0>,</span><span class=p1> </span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>func</span><span class=p0>.</span><span class=p1>register</span><span class=p0>.</span><span class=p1>__closure__</span><span class=p0>))</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>registry</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>closure</span><span class=p0>[</span><span class=s0>'</span><span class=s1>registry</span><span class=s0>'</span><span class=p0>].</span><span class=p1>cell_contents</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>dispatch_cache</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>closure</span><span class=p0>[</span><span class=s0>'</span><span class=s1>dispatch_cache</span><span class=s0>'</span><span class=p0>].</span><span class=p1>cell_contents</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>unregister</span><span class=p0>(</span><span class=p1>cls</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>del</span><span class=ws> </span><span class=p1>registry</span><span class=p0>[</span><span class=p1>cls</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>dispatch_cache</span><span class=p0>.</span><span class=p1>clear</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>func</span><span class=p0>.</span><span class=p1>unregister</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>unregister</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>func</span>


<span class=p0>@</span><span class=p1>singledispatch</span>
<span class=p0>def</span><span class=ws> </span><span class=p1>argumentToString</span><span class=p0>(</span><span class=p1>obj</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>s</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>DEFAULT_ARG_TO_STRING_FUNCTION</span><span class=p0>(</span><span class=p1>obj</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>s</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>s</span><span class=p0>.</span><span class=p1>replace</span><span class=p0>(</span><span class=s0>'</span><span class=s1>\\n</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>\n</span><span class=s0>'</span><span class=p0>)</span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>Preserve</span><span class=ws> </span><span class=c0>string</span><span class=ws> </span><span class=c0>newlines</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>output.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>s</span>


<span class=p0>class</span><span class=ws> </span><span class=p1>IceCreamDebugger</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>_pairDelimiter</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>'</span><span class=s1>,</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>Used</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>tests</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>tests/.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>lineWrapWidth</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>DEFAULT_LINE_WRAP_WIDTH</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contextDelimiter</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>DEFAULT_CONTEXT_DELIMITER</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>__init__</span><span class=p0>(</span><span class=p1>self</span><span class=p0>,</span><span class=ws> </span><span class=p1>prefix</span><span class=p0>=</span><span class=p1>DEFAULT_PREFIX</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>outputFunction</span><span class=p0>=</span><span class=p1>DEFAULT_OUTPUT_FUNCTION</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>argToStringFunction</span><span class=p0>=</span><span class=p1>argumentToString</span><span class=p0>,</span><span class=ws> </span><span class=p1>includeContext</span><span class=p0>=</span><span class=p1>False</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contextAbsPath</span><span class=p0>=</span><span class=p1>False</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>enabled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>True</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>prefix</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>prefix</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>includeContext</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>includeContext</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>outputFunction</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>outputFunction</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>argToStringFunction</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>argToStringFunction</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>contextAbsPath</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>contextAbsPath</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>__call__</span><span class=p0>(</span><span class=p1>self</span><span class=p0>,</span><span class=ws> </span><span class=p0>*</span><span class=p1>args</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>enabled</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>callFrame</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>inspect</span><span class=p0>.</span><span class=p1>currentframe</span><span class=p0>().</span><span class=p1>f_back</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>try:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>out</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>_format</span><span class=p0>(</span><span class=p1>callFrame</span><span class=p0>,</span><span class=ws> </span><span class=p0>*</span><span class=p1>args</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>except</span><span class=ws> </span><span class=p1>NoSourceAvailableError</span><span class=ws> </span><span class=p0>as</span><span class=ws> </span><span class=p1>err</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>prefix</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>callOrValue</span><span class=p0>(</span><span class=p1>self</span><span class=p0>.</span><span class=p1>prefix</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>out</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>prefix</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=s0>'</span><span class=s1>Error:</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>err</span><span class=p0>.</span><span class=p1>infoMessage</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>outputFunction</span><span class=p0>(</span><span class=p1>out</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>not</span><span class=ws> </span><span class=p1>args</span><span class=p0>:</span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>E.g.</span><span class=ws> </span><span class=c0>ic().</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>passthrough</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>None</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>elif</span><span class=ws> </span><span class=p1>len</span><span class=p0>(</span><span class=p1>args</span><span class=p0>)</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=p1>1</span><span class=p0>:</span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>E.g.</span><span class=ws> </span><span class=c0>ic(1).</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>passthrough</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>args</span><span class=p0>[</span><span class=p1>0</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else:</span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>E.g.</span><span class=ws> </span><span class=c0>ic(1,</span><span class=ws> </span><span class=c0>2,</span><span class=ws> </span><span class=c0>3).</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>passthrough</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>args</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>passthrough</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>format</span><span class=p0>(</span><span class=p1>self</span><span class=p0>,</span><span class=ws> </span><span class=p0>*</span><span class=p1>args</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>callFrame</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>inspect</span><span class=p0>.</span><span class=p1>currentframe</span><span class=p0>().</span><span class=p1>f_back</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>out</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>_format</span><span class=p0>(</span><span class=p1>callFrame</span><span class=p0>,</span><span class=ws> </span><span class=p0>*</span><span class=p1>args</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>out</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>_format</span><span class=p0>(</span><span class=p1>self</span><span class=p0>,</span><span class=ws> </span><span class=p1>callFrame</span><span class=p0>,</span><span class=ws> </span><span class=p0>*</span><span class=p1>args</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>prefix</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>callOrValue</span><span class=p0>(</span><span class=p1>self</span><span class=p0>.</span><span class=p1>prefix</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>callNode</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>Source</span><span class=p0>.</span><span class=p1>executing</span><span class=p0>(</span><span class=p1>callFrame</span><span class=p0>).</span><span class=p1>node</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>callNode</span><span class=ws> </span><span class=p0>is</span><span class=ws> </span><span class=p1>None</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=p1>NoSourceAvailableError</span><span class=p0>()</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>context</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>_formatContext</span><span class=p0>(</span><span class=p1>callFrame</span><span class=p0>,</span><span class=ws> </span><span class=p1>callNode</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>not</span><span class=ws> </span><span class=p1>args</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>time</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>_formatTime</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>out</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>prefix</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>context</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>time</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>not</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>includeContext</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>context</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>''</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>out</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>_formatArgs</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>callFrame</span><span class=p0>,</span><span class=ws> </span><span class=p1>callNode</span><span class=p0>,</span><span class=ws> </span><span class=p1>prefix</span><span class=p0>,</span><span class=ws> </span><span class=p1>context</span><span class=p0>,</span><span class=ws> </span><span class=p1>args</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>out</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>_formatArgs</span><span class=p0>(</span><span class=p1>self</span><span class=p0>,</span><span class=ws> </span><span class=p1>callFrame</span><span class=p0>,</span><span class=ws> </span><span class=p1>callNode</span><span class=p0>,</span><span class=ws> </span><span class=p1>prefix</span><span class=p0>,</span><span class=ws> </span><span class=p1>context</span><span class=p0>,</span><span class=ws> </span><span class=p1>args</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>source</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>Source</span><span class=p0>.</span><span class=p1>for_frame</span><span class=p0>(</span><span class=p1>callFrame</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>sanitizedArgStrs</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>source</span><span class=p0>.</span><span class=p1>get_text_with_indentation</span><span class=p0>(</span><span class=p1>arg</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>arg</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>callNode</span><span class=p0>.</span><span class=p1>args</span><span class=p0>]</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>pairs</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>list</span><span class=p0>(</span><span class=p1>zip</span><span class=p0>(</span><span class=p1>sanitizedArgStrs</span><span class=p0>,</span><span class=ws> </span><span class=p1>args</span><span class=p0>))</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>out</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>_constructArgumentOutput</span><span class=p0>(</span><span class=p1>prefix</span><span class=p0>,</span><span class=ws> </span><span class=p1>context</span><span class=p0>,</span><span class=ws> </span><span class=p1>pairs</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>out</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>_constructArgumentOutput</span><span class=p0>(</span><span class=p1>self</span><span class=p0>,</span><span class=ws> </span><span class=p1>prefix</span><span class=p0>,</span><span class=ws> </span><span class=p1>context</span><span class=p0>,</span><span class=ws> </span><span class=p1>pairs</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>argPrefix</span><span class=p0>(</span><span class=p1>arg</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=s0>'</span><span class=p0>%s</span><span class=s1>:</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=p0>%</span><span class=ws> </span><span class=p1>arg</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>pairs</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[(</span><span class=p1>arg</span><span class=p0>,</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>argToStringFunction</span><span class=p0>(</span><span class=p1>val</span><span class=p0>))</span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>arg</span><span class=p0>,</span><span class=ws> </span><span class=p1>val</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>pairs</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>For</span><span class=ws> </span><span class=c0>cleaner</span><span class=ws> </span><span class=c0>output,</span><span class=ws> </span><span class=c0>if</span><span class=ws> </span><span class=c0>&lt;arg></span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>literal,</span><span class=ws> </span><span class=c0>eg</span><span class=ws> </span><span class=c0>3,</span><span class=ws> </span><span class=c0>"string",</span><span class=ws> </span><span class=c0>b'bytes',</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>etc,</span><span class=ws> </span><span class=c0>only</span><span class=ws> </span><span class=c0>output</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>value,</span><span class=ws> </span><span class=c0>not</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>argument</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>value,</span><span class=ws> </span><span class=c0>as</span><span class=ws> </span><span class=c0>the</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>argument</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>value</span><span class=ws> </span><span class=c0>will</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>identical</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>nigh</span><span class=ws> </span><span class=c0>identical.</span><span class=ws> </span><span class=c0>Ex:</span><span class=ws> </span><span class=c0>with</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>ic("hello"),</span><span class=ws> </span><span class=c0>just</span><span class=ws> </span><span class=c0>output</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>ic|</span><span class=ws> </span><span class=c0>'hello',</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>instead</span><span class=ws> </span><span class=c0>of</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>ic|</span><span class=ws> </span><span class=c0>"hello":</span><span class=ws> </span><span class=c0>'hello'.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>pairStrs</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>val</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>isLiteral</span><span class=p0>(</span><span class=p1>arg</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>(</span><span class=p1>argPrefix</span><span class=p0>(</span><span class=p1>arg</span><span class=p0>)</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>val</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>arg</span><span class=p0>,</span><span class=ws> </span><span class=p1>val</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>pairs</span><span class=p0>]</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>allArgsOnOneLine</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>_pairDelimiter</span><span class=p0>.</span><span class=p1>join</span><span class=p0>(</span><span class=p1>pairStrs</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>multilineArgs</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>len</span><span class=p0>(</span><span class=p1>allArgsOnOneLine</span><span class=p0>.</span><span class=p1>splitlines</span><span class=p0>())</span><span class=ws> </span><span class=p0>></span><span class=ws> </span><span class=p1>1</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contextDelimiter</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>contextDelimiter</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>context</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=s0>''</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>allPairs</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>prefix</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>context</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>contextDelimiter</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>allArgsOnOneLine</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>firstLineTooLong</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>len</span><span class=p0>(</span><span class=p1>allPairs</span><span class=p0>.</span><span class=p1>splitlines</span><span class=p0>()[</span><span class=p1>0</span><span class=p0>])</span><span class=ws> </span><span class=p0>></span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>lineWrapWidth</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>multilineArgs</span><span class=ws> </span><span class=p0>or</span><span class=ws> </span><span class=p1>firstLineTooLong</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>ic|</span><span class=ws> </span><span class=c0>foo.py:11</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>foo()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>multilineStr:</span><span class=ws> </span><span class=c0>'line1</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>line2'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>ic|</span><span class=ws> </span><span class=c0>foo.py:11</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>foo()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>a:</span><span class=ws> </span><span class=c0>11111111111111111111</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>b:</span><span class=ws> </span><span class=c0>22222222222222222222</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>context</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>lines</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=p1>prefix</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>context</span><span class=p0>]</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>format_pair</span><span class=p0>(</span><span class=p1>len</span><span class=p0>(</span><span class=p1>prefix</span><span class=p0>)</span><span class=ws> </span><span class=p0>*</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>arg</span><span class=p0>,</span><span class=ws> </span><span class=p1>value</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>arg</span><span class=p0>,</span><span class=ws> </span><span class=p1>value</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>pairs</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>ic|</span><span class=ws> </span><span class=c0>multilineStr:</span><span class=ws> </span><span class=c0>'line1</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>line2'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>ic|</span><span class=ws> </span><span class=c0>a:</span><span class=ws> </span><span class=c0>11111111111111111111</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>b:</span><span class=ws> </span><span class=c0>22222222222222222222</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>arg_lines</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>format_pair</span><span class=p0>(</span><span class=s0>''</span><span class=p0>,</span><span class=ws> </span><span class=p1>arg</span><span class=p0>,</span><span class=ws> </span><span class=p1>value</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>arg</span><span class=p0>,</span><span class=ws> </span><span class=p1>value</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>pairs</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>lines</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>indented_lines</span><span class=p0>(</span><span class=p1>prefix</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>\n</span><span class=s0>'</span><span class=p0>.</span><span class=p1>join</span><span class=p0>(</span><span class=p1>arg_lines</span><span class=p0>))</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>ic|</span><span class=ws> </span><span class=c0>foo.py:11</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>foo()-</span><span class=ws> </span><span class=c0>a:</span><span class=ws> </span><span class=c0>1,</span><span class=ws> </span><span class=c0>b:</span><span class=ws> </span><span class=c0>2</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>ic|</span><span class=ws> </span><span class=c0>a:</span><span class=ws> </span><span class=c0>1,</span><span class=ws> </span><span class=c0>b:</span><span class=ws> </span><span class=c0>2,</span><span class=ws> </span><span class=c0>c:</span><span class=ws> </span><span class=c0>3</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>lines</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=p1>prefix</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>context</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>contextDelimiter</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>allArgsOnOneLine</span><span class=p0>]</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=s0>'</span><span class=s1>\n</span><span class=s0>'</span><span class=p0>.</span><span class=p1>join</span><span class=p0>(</span><span class=p1>lines</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>_formatContext</span><span class=p0>(</span><span class=p1>self</span><span class=p0>,</span><span class=ws> </span><span class=p1>callFrame</span><span class=p0>,</span><span class=ws> </span><span class=p1>callNode</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>filename</span><span class=p0>,</span><span class=ws> </span><span class=p1>lineNumber</span><span class=p0>,</span><span class=ws> </span><span class=p1>parentFunction</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>_getContext</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>callFrame</span><span class=p0>,</span><span class=ws> </span><span class=p1>callNode</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>parentFunction</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=s0>'</span><span class=s1>&lt;module></span><span class=s0>'</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>parentFunction</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>'</span><span class=p0>%s</span><span class=s1>()</span><span class=s0>'</span><span class=ws> </span><span class=p0>%</span><span class=ws> </span><span class=p1>parentFunction</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>context</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>'</span><span class=p0>%s</span><span class=s1>:</span><span class=p0>%s</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=p0>%s</span><span class=s0>'</span><span class=ws> </span><span class=p0>%</span><span class=ws> </span><span class=p0>(</span><span class=p1>filename</span><span class=p0>,</span><span class=ws> </span><span class=p1>lineNumber</span><span class=p0>,</span><span class=ws> </span><span class=p1>parentFunction</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>context</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>_formatTime</span><span class=p0>(</span><span class=p1>self</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>now</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>datetime</span><span class=p0>.</span><span class=p1>now</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>formatted</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>now</span><span class=p0>.</span><span class=p1>strftime</span><span class=p0>(</span><span class=s0>'</span><span class=s1>%H:%M:%S.</span><span class=p0>%f</span><span class=s0>'</span><span class=p0>)[:-</span><span class=p1>3</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=s1>at</span><span class=ws> </span><span class=p0>%s</span><span class=s0>'</span><span class=ws> </span><span class=p0>%</span><span class=ws> </span><span class=p1>formatted</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>_getContext</span><span class=p0>(</span><span class=p1>self</span><span class=p0>,</span><span class=ws> </span><span class=p1>callFrame</span><span class=p0>,</span><span class=ws> </span><span class=p1>callNode</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>lineNumber</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>callNode</span><span class=p0>.</span><span class=p1>lineno</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>frameInfo</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>inspect</span><span class=p0>.</span><span class=p1>getframeinfo</span><span class=p0>(</span><span class=p1>callFrame</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>parentFunction</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>frameInfo</span><span class=p0>.</span><span class=p1>function</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>filepath</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>realpath</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>contextAbsPath</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p1>basename</span><span class=p0>)(</span><span class=p1>frameInfo</span><span class=p0>.</span><span class=p1>filename</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>filepath</span><span class=p0>,</span><span class=ws> </span><span class=p1>lineNumber</span><span class=p0>,</span><span class=ws> </span><span class=p1>parentFunction</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>enable</span><span class=p0>(</span><span class=p1>self</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>enabled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>True</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>disable</span><span class=p0>(</span><span class=p1>self</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>enabled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>False</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>configureOutput</span><span class=p0>(</span><span class=p1>self</span><span class=p0>,</span><span class=ws> </span><span class=p1>prefix</span><span class=p0>=</span><span class=p1>_absent</span><span class=p0>,</span><span class=ws> </span><span class=p1>outputFunction</span><span class=p0>=</span><span class=p1>_absent</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>argToStringFunction</span><span class=p0>=</span><span class=p1>_absent</span><span class=p0>,</span><span class=ws> </span><span class=p1>includeContext</span><span class=p0>=</span><span class=p1>_absent</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contextAbsPath</span><span class=p0>=</span><span class=p1>_absent</span><span class=p0>):</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>noParameterProvided</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>all</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>v</span><span class=ws> </span><span class=p0>is</span><span class=ws> </span><span class=p1>_absent</span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>k</span><span class=p0>,</span><span class=p1>v</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>locals</span><span class=p0>().</span><span class=p1>items</span><span class=p0>()</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>k</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=s0>'</span><span class=s1>self</span><span class=s0>'</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>noParameterProvided</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=p1>TypeError</span><span class=p0>(</span><span class=s0>'</span><span class=s1>configureOutput()</span><span class=ws> </span><span class=s1>missing</span><span class=ws> </span><span class=s1>at</span><span class=ws> </span><span class=s1>least</span><span class=ws> </span><span class=s1>one</span><span class=ws> </span><span class=s1>argument</span><span class=s0>'</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>prefix</span><span class=ws> </span><span class=p0>is</span><span class=ws> </span><span class=p0>not</span><span class=ws> </span><span class=p1>_absent</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>prefix</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>prefix</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>outputFunction</span><span class=ws> </span><span class=p0>is</span><span class=ws> </span><span class=p0>not</span><span class=ws> </span><span class=p1>_absent</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>outputFunction</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>outputFunction</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>argToStringFunction</span><span class=ws> </span><span class=p0>is</span><span class=ws> </span><span class=p0>not</span><span class=ws> </span><span class=p1>_absent</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>argToStringFunction</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>argToStringFunction</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>includeContext</span><span class=ws> </span><span class=p0>is</span><span class=ws> </span><span class=p0>not</span><span class=ws> </span><span class=p1>_absent</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>includeContext</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>includeContext</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>contextAbsPath</span><span class=ws> </span><span class=p0>is</span><span class=ws> </span><span class=p0>not</span><span class=ws> </span><span class=p1>_absent</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>contextAbsPath</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>contextAbsPath</span>


<span class=p1>ic</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>IceCreamDebugger</span><span class=p0>()</span>
</code></pre><pre aria-labelledby=rb class=sh hidden><code><span class=c0>#</span><span class=ws> </span><span class=c0>frozen_string_literal:</span><span class=ws> </span><span class=c0>true</span>
<span class=p0>require</span><span class=ws> </span><span class=p0>'</span><span class=s1>uri</span><span class=p0>'</span>
<span class=p0>require</span><span class=ws> </span><span class=p0>'</span><span class=s1>stringio</span><span class=p0>'</span>
<span class=p0>require</span><span class=ws> </span><span class=p0>'</span><span class=s1>time</span><span class=p0>'</span>

<span class=p0>module</span><span class=ws> </span><span class=p1>URI</span>
<span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>Allows</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>opening</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>various</span><span class=ws> </span><span class=c0>resources</span><span class=ws> </span><span class=c0>including</span><span class=ws> </span><span class=c0>URIs.</span>
<span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>first</span><span class=ws> </span><span class=c0>argument</span><span class=ws> </span><span class=c0>responds</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>'open'</span><span class=ws> </span><span class=c0>method,</span><span class=ws> </span><span class=c0>'open'</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>called</span><span class=ws> </span><span class=c0>on</span>
<span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>it</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>rest</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>arguments.</span>
<span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>first</span><span class=ws> </span><span class=c0>argument</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>string</span><span class=ws> </span><span class=c0>that</span><span class=ws> </span><span class=c0>begins</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>&lt;code>(protocol)://&lt;/code>,</span><span class=ws> </span><span class=c0>it</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>parsed</span><span class=ws> </span><span class=c0>by</span>
<span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>URI.parse.</span><span class=ws> </span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>parsed</span><span class=ws> </span><span class=c0>object</span><span class=ws> </span><span class=c0>responds</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>'open'</span><span class=ws> </span><span class=c0>method,</span>
<span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>'open'</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>called</span><span class=ws> </span><span class=c0>on</span><span class=ws> </span><span class=c0>it</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>rest</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>arguments.</span>
<span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>Otherwise,</span><span class=ws> </span><span class=c0>Kernel#open</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>called.</span>
<span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>OpenURI::OpenRead#open</span><span class=ws> </span><span class=c0>provides</span><span class=ws> </span><span class=c0>URI::HTTP#open,</span><span class=ws> </span><span class=c0>URI::HTTPS#open</span><span class=ws> </span><span class=c0>and</span>
<span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>URI::FTP#open,</span><span class=ws> </span><span class=c0>Kernel#open.</span>
<span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>We</span><span class=ws> </span><span class=c0>can</span><span class=ws> </span><span class=c0>accept</span><span class=ws> </span><span class=c0>URIs</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>strings</span><span class=ws> </span><span class=c0>that</span><span class=ws> </span><span class=c0>begin</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>http://,</span><span class=ws> </span><span class=c0>https://</span><span class=ws> </span><span class=c0>and</span>
<span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>ftp://.</span><span class=ws> </span><span class=c0>In</span><span class=ws> </span><span class=c0>these</span><span class=ws> </span><span class=c0>cases,</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>opened</span><span class=ws> </span><span class=c0>file</span><span class=ws> </span><span class=c0>object</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>extended</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>OpenURI::Meta.</span>
<span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>self.open</span><span class=p0>(</span><span class=p1>name,</span><span class=ws> </span><span class=p1>*rest,</span><span class=ws> </span><span class=p1>&block</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>name</span><span class=p0>.</span><span class=p1>respond_to?</span><span class=p0>(:</span><span class=p1>open</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>name</span><span class=p0>.</span><span class=p1>open</span><span class=p0>(*</span><span class=p1>rest</span><span class=p0>,</span><span class=ws> </span><span class=p0>&</span><span class=p1>block</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>elsif</span><span class=ws> </span><span class=p1>name</span><span class=p0>.</span><span class=p1>respond_to?</span><span class=p0>(:</span><span class=p1>to_str</span><span class=p0>)</span><span class=ws> </span><span class=p0>&&</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>%r{</span><span class=s1>\A[A-Za-z][A-Za-z0-9+\-\.]*://</span><span class=s0>}</span><span class=ws> </span><span class=p0>=~</span><span class=ws> </span><span class=p1>name</span><span class=ws> </span><span class=p0>&&</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>(</span><span class=p1>uri</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>URI</span><span class=p0>.</span><span class=p1>parse</span><span class=p0>(</span><span class=p1>name</span><span class=p0>)).</span><span class=p1>respond_to?</span><span class=p0>(:</span><span class=p1>open</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>uri</span><span class=p0>.</span><span class=p1>open</span><span class=p0>(*</span><span class=p1>rest</span><span class=p0>,</span><span class=ws> </span><span class=p0>&</span><span class=p1>block</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>super</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=p1>singleton_class</span><span class=p0>.</span><span class=p1>send</span><span class=p0>(:</span><span class=p1>ruby2_keywords</span><span class=p0>,</span><span class=ws> </span><span class=p0>:</span><span class=p1>open</span><span class=p0>)</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>respond_to?</span><span class=p0>(:</span><span class=p1>ruby2_keywords</span><span class=p0>,</span><span class=ws> </span><span class=p1>true</span><span class=p0>)</span>
<span class=p0>end</span>

<span class=c0>#</span><span class=ws> </span><span class=c0>OpenURI</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>an</span><span class=ws> </span><span class=c0>easy-to-use</span><span class=ws> </span><span class=c0>wrapper</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>Net::HTTP,</span><span class=ws> </span><span class=c0>Net::HTTPS</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>Net::FTP.</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>==</span><span class=ws> </span><span class=c0>Example</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>It</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>possible</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>open</span><span class=ws> </span><span class=c0>an</span><span class=ws> </span><span class=c0>http,</span><span class=ws> </span><span class=c0>https</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>ftp</span><span class=ws> </span><span class=c0>URL</span><span class=ws> </span><span class=c0>as</span><span class=ws> </span><span class=c0>though</span><span class=ws> </span><span class=c0>it</span><span class=ws> </span><span class=c0>were</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>file:</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>URI.open("http://www.ruby-lang.org/")</span><span class=ws> </span><span class=c0>{|f|</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>f.each_line</span><span class=ws> </span><span class=c0>{|line|</span><span class=ws> </span><span class=c0>p</span><span class=ws> </span><span class=c0>line}</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>}</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>opened</span><span class=ws> </span><span class=c0>file</span><span class=ws> </span><span class=c0>has</span><span class=ws> </span><span class=c0>several</span><span class=ws> </span><span class=c0>getter</span><span class=ws> </span><span class=c0>methods</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>its</span><span class=ws> </span><span class=c0>meta-information,</span><span class=ws> </span><span class=c0>as</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>follows,</span><span class=ws> </span><span class=c0>since</span><span class=ws> </span><span class=c0>it</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>extended</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>OpenURI::Meta.</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>URI.open("http://www.ruby-lang.org/en")</span><span class=ws> </span><span class=c0>{|f|</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>f.each_line</span><span class=ws> </span><span class=c0>{|line|</span><span class=ws> </span><span class=c0>p</span><span class=ws> </span><span class=c0>line}</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>p</span><span class=ws> </span><span class=c0>f.base_uri</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>&lt;URI::HTTP:0x40e6ef2</span><span class=ws> </span><span class=c0>URL:http://www.ruby-lang.org/en/></span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>p</span><span class=ws> </span><span class=c0>f.content_type</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>"text/html"</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>p</span><span class=ws> </span><span class=c0>f.charset</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>"iso-8859-1"</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>p</span><span class=ws> </span><span class=c0>f.content_encoding</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>[]</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>p</span><span class=ws> </span><span class=c0>f.last_modified</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>Thu</span><span class=ws> </span><span class=c0>Dec</span><span class=ws> </span><span class=c0>05</span><span class=ws> </span><span class=c0>02:45:02</span><span class=ws> </span><span class=c0>UTC</span><span class=ws> </span><span class=c0>2002</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>}</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>Additional</span><span class=ws> </span><span class=c0>header</span><span class=ws> </span><span class=c0>fields</span><span class=ws> </span><span class=c0>can</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>specified</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>an</span><span class=ws> </span><span class=c0>optional</span><span class=ws> </span><span class=c0>hash</span><span class=ws> </span><span class=c0>argument.</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>URI.open("http://www.ruby-lang.org/en/",</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>"User-Agent"</span><span class=ws> </span><span class=c0>=></span><span class=ws> </span><span class=c0>"Ruby/#{RUBY_VERSION}",</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>"From"</span><span class=ws> </span><span class=c0>=></span><span class=ws> </span><span class=c0>"foo@bar.invalid",</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>"Referer"</span><span class=ws> </span><span class=c0>=></span><span class=ws> </span><span class=c0>"http://www.ruby-lang.org/")</span><span class=ws> </span><span class=c0>{|f|</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>...</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>}</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>environment</span><span class=ws> </span><span class=c0>variables</span><span class=ws> </span><span class=c0>such</span><span class=ws> </span><span class=c0>as</span><span class=ws> </span><span class=c0>http_proxy,</span><span class=ws> </span><span class=c0>https_proxy</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>ftp_proxy</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>are</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>effect</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>default.</span><span class=ws> </span><span class=c0>Here</span><span class=ws> </span><span class=c0>we</span><span class=ws> </span><span class=c0>disable</span><span class=ws> </span><span class=c0>proxy:</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>URI.open("http://www.ruby-lang.org/en/",</span><span class=ws> </span><span class=c0>:proxy</span><span class=ws> </span><span class=c0>=></span><span class=ws> </span><span class=c0>nil)</span><span class=ws> </span><span class=c0>{|f|</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>...</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>}</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>See</span><span class=ws> </span><span class=c0>OpenURI::OpenRead.open</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>URI.open</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>more</span><span class=ws> </span><span class=c0>on</span><span class=ws> </span><span class=c0>available</span><span class=ws> </span><span class=c0>options.</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>URI</span><span class=ws> </span><span class=c0>objects</span><span class=ws> </span><span class=c0>can</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>opened</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>similar</span><span class=ws> </span><span class=c0>way.</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>uri</span><span class=ws> </span><span class=c0>=</span><span class=ws> </span><span class=c0>URI.parse("http://www.ruby-lang.org/en/")</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>uri.open</span><span class=ws> </span><span class=c0>{|f|</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>...</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>}</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>URI</span><span class=ws> </span><span class=c0>objects</span><span class=ws> </span><span class=c0>can</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>read</span><span class=ws> </span><span class=c0>directly.</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>returned</span><span class=ws> </span><span class=c0>string</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>also</span><span class=ws> </span><span class=c0>extended</span><span class=ws> </span><span class=c0>by</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>OpenURI::Meta.</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>str</span><span class=ws> </span><span class=c0>=</span><span class=ws> </span><span class=c0>uri.read</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>p</span><span class=ws> </span><span class=c0>str.base_uri</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>Author::</span><span class=ws> </span><span class=c0>Tanaka</span><span class=ws> </span><span class=c0>Akira</span><span class=ws> </span><span class=c0>&lt;akr@m17n.org></span>

<span class=p0>module</span><span class=ws> </span><span class=p1>OpenURI</span>

<span class=ws> </span><span class=ws> </span><span class=p1>VERSION</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>0.4.1</span><span class=s0>"</span>

<span class=ws> </span><span class=ws> </span><span class=p1>Options</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>:</span><span class=p1>proxy</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>true</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>:</span><span class=p1>proxy_http_basic_authentication</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>true</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>:</span><span class=p1>progress_proc</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>true</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>:</span><span class=p1>content_length_proc</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>true</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>:</span><span class=p1>http_basic_authentication</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>true</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>:</span><span class=p1>read_timeout</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>true</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>:</span><span class=p1>open_timeout</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>true</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>:</span><span class=p1>ssl_ca_cert</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>:</span><span class=p1>ssl_verify_mode</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>:</span><span class=p1>ssl_min_version</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>:</span><span class=p1>ssl_max_version</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>:</span><span class=p1>ftp_active_mode</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>:</span><span class=p1>redirect</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>true</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>:</span><span class=p1>encoding</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>:</span><span class=p1>max_redirects</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>64</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>OpenURI.check_options</span><span class=p0>(</span><span class=p1>options</span><span class=p0>)</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>:nodoc:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>options</span><span class=p0>.</span><span class=p1>each</span><span class=ws> </span><span class=p0>{|</span><span class=p1>k</span><span class=p0>,</span><span class=ws> </span><span class=p1>v</span><span class=p0>|</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>next</span><span class=ws> </span><span class=p0>unless</span><span class=ws> </span><span class=p1>Symbol</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=p1>k</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>unless</span><span class=ws> </span><span class=p1>Options</span><span class=p0>.</span><span class=p1>include?</span><span class=ws> </span><span class=p1>k</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=p1>ArgumentError</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>unrecognized</span><span class=ws> </span><span class=s1>option:</span><span class=ws> </span><span class=p0>#{</span><span class=p1>k</span><span class=p0>}</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>OpenURI.scan_open_optional_arguments</span><span class=p0>(</span><span class=p1>*rest</span><span class=p0>)</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>:nodoc:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>!</span><span class=p1>rest</span><span class=p0>.</span><span class=p1>empty?</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p0>(</span><span class=p1>String</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=p1>rest</span><span class=p0>.</span><span class=p1>first</span><span class=ws> </span><span class=p0>||</span><span class=ws> </span><span class=p1>Integer</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=p1>rest</span><span class=p0>.</span><span class=p1>first</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mode</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>rest</span><span class=p0>.</span><span class=p1>shift</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>!</span><span class=p1>rest</span><span class=p0>.</span><span class=p1>empty?</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p1>Integer</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=p1>rest</span><span class=p0>.</span><span class=p1>first</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>perm</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>rest</span><span class=p0>.</span><span class=p1>shift</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>mode</span><span class=p0>,</span><span class=ws> </span><span class=p1>perm</span><span class=p0>,</span><span class=ws> </span><span class=p1>rest</span>
<span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>OpenURI.open_uri</span><span class=p0>(</span><span class=p1>name,</span><span class=ws> </span><span class=p1>*rest</span><span class=p0>)</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>:nodoc:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>uri</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>URI</span><span class=p0>::</span><span class=p1>Generic</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=p1>name</span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=p1>name</span><span class=ws> </span><span class=p1>:</span><span class=ws> </span><span class=p1>URI</span><span class=p0>.</span><span class=p1>parse</span><span class=p0>(</span><span class=p1>name</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mode</span><span class=p0>,</span><span class=ws> </span><span class=p1>_</span><span class=p0>,</span><span class=ws> </span><span class=p1>rest</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>OpenURI</span><span class=p0>.</span><span class=p1>scan_open_optional_arguments</span><span class=p0>(*</span><span class=p1>rest</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>options</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>rest</span><span class=p0>.</span><span class=p1>shift</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>!</span><span class=p1>rest</span><span class=p0>.</span><span class=p1>empty?</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p1>Hash</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=p1>rest</span><span class=p0>.</span><span class=p1>first</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=p1>ArgumentError</span><span class=p0>.new(</span><span class=s0>"</span><span class=s1>extra</span><span class=ws> </span><span class=s1>arguments</span><span class=s0>"</span><span class=p0>)</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>!</span><span class=p1>rest</span><span class=p0>.</span><span class=p1>empty?</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>options</span><span class=ws> </span><span class=p0>||=</span><span class=ws> </span><span class=p0>{}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>OpenURI</span><span class=p0>.</span><span class=p1>check_options</span><span class=p0>(</span><span class=p1>options</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=s0>/</span><span class=s1>\Arb?(?:\Z|:([^:]+))</span><span class=s0>/</span><span class=ws> </span><span class=p0>=~</span><span class=ws> </span><span class=p1>mode</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>encoding</span><span class=p0>,</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>$</span><span class=p1>1</span><span class=p0>,</span><span class=p1>Encoding</span><span class=p0>.</span><span class=p1>find</span><span class=p0>($</span><span class=p1>1</span><span class=p0>)</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>$</span><span class=p1>1</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mode</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>options</span><span class=p0>.</span><span class=p1>has_key?</span><span class=ws> </span><span class=p0>:</span><span class=p1>encoding</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>!</span><span class=p1>encoding</span><span class=p0>.</span><span class=p1>nil?</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=p1>ArgumentError</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>encoding</span><span class=ws> </span><span class=s1>specified</span><span class=ws> </span><span class=s1>twice</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>encoding</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>Encoding</span><span class=p0>.</span><span class=p1>find</span><span class=p0>(</span><span class=p1>options</span><span class=p0>[:</span><span class=p1>encoding</span><span class=p0>])</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>unless</span><span class=ws> </span><span class=p1>mode</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=p1>nil</span><span class=ws> </span><span class=p0>||</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mode</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=s0>'</span><span class=s1>r</span><span class=s0>'</span><span class=ws> </span><span class=p0>||</span><span class=ws> </span><span class=p1>mode</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=s0>'</span><span class=s1>rb</span><span class=s0>'</span><span class=ws> </span><span class=p0>||</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mode</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=p1>File</span><span class=p0>::</span><span class=p1>RDONLY</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=p1>ArgumentError</span><span class=p0>.new(</span><span class=s0>"</span><span class=s1>invalid</span><span class=ws> </span><span class=s1>access</span><span class=ws> </span><span class=s1>mode</span><span class=ws> </span><span class=p0>#{</span><span class=p1>mode</span><span class=p0>}</span><span class=ws> </span><span class=s1>(</span><span class=p0>#{</span><span class=p1>uri</span><span class=p0>.</span><span class=p1>class</span><span class=p0>}</span><span class=ws> </span><span class=s1>resource</span><span class=ws> </span><span class=s1>is</span><span class=ws> </span><span class=s1>read</span><span class=ws> </span><span class=s1>only.)</span><span class=s0>"</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>io</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>open_loop</span><span class=p0>(</span><span class=p1>uri</span><span class=p0>,</span><span class=ws> </span><span class=p1>options</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>io</span><span class=p0>.</span><span class=p1>set_encoding</span><span class=p0>(</span><span class=p1>encoding</span><span class=p0>)</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>encoding</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>block_given?</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>begin</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>yield</span><span class=ws> </span><span class=p1>io</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>ensure</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>io</span><span class=p0>.</span><span class=p1>respond_to?</span><span class=ws> </span><span class=p0>:</span><span class=p1>close!</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>io</span><span class=p0>.</span><span class=p1>close!</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>Tempfile</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>io</span><span class=p0>.</span><span class=p1>close</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>!</span><span class=p1>io</span><span class=p0>.</span><span class=p1>closed?</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>io</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>OpenURI.open_loop</span><span class=p0>(</span><span class=p1>uri,</span><span class=ws> </span><span class=p1>options</span><span class=p0>)</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>:nodoc:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>proxy_opts</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>proxy_opts</span><span class=ws> </span><span class=p0>&lt;&lt;</span><span class=ws> </span><span class=p0>:</span><span class=p1>proxy_http_basic_authentication</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>options</span><span class=p0>.</span><span class=p1>include?</span><span class=ws> </span><span class=p0>:</span><span class=p1>proxy_http_basic_authentication</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>proxy_opts</span><span class=ws> </span><span class=p0>&lt;&lt;</span><span class=ws> </span><span class=p0>:</span><span class=p1>proxy</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>options</span><span class=p0>.</span><span class=p1>include?</span><span class=ws> </span><span class=p0>:</span><span class=p1>proxy</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>proxy_opts</span><span class=p0>.</span><span class=p1>compact!</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>1</span><span class=ws> </span><span class=p0>&lt;</span><span class=ws> </span><span class=p1>proxy_opts</span><span class=p0>.</span><span class=p1>length</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=p1>ArgumentError</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>multiple</span><span class=ws> </span><span class=s1>proxy</span><span class=ws> </span><span class=s1>options</span><span class=ws> </span><span class=s1>specified</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>case</span><span class=ws> </span><span class=p1>proxy_opts</span><span class=p0>.</span><span class=p1>first</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>when</span><span class=ws> </span><span class=p0>:</span><span class=p1>proxy_http_basic_authentication</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>opt_proxy</span><span class=p0>,</span><span class=ws> </span><span class=p1>proxy_user</span><span class=p0>,</span><span class=ws> </span><span class=p1>proxy_pass</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>options</span><span class=p0>.</span><span class=p1>fetch</span><span class=p0>(:</span><span class=p1>proxy_http_basic_authentication</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>proxy_user</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>proxy_user</span><span class=p0>.</span><span class=p1>to_str</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>proxy_pass</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>proxy_pass</span><span class=p0>.</span><span class=p1>to_str</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>opt_proxy</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=p1>ArgumentError</span><span class=p0>.new(</span><span class=s0>"</span><span class=s1>Invalid</span><span class=ws> </span><span class=s1>authenticated</span><span class=ws> </span><span class=s1>proxy</span><span class=ws> </span><span class=s1>option:</span><span class=ws> </span><span class=p0>#{</span><span class=p1>options</span><span class=p0>[:</span><span class=p1>proxy_http_basic_authentication</span><span class=p0>].</span><span class=p1>inspect</span><span class=p0>}</span><span class=s0>"</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>when</span><span class=ws> </span><span class=p0>:</span><span class=p1>proxy</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>opt_proxy</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>options</span><span class=p0>.</span><span class=p1>fetch</span><span class=p0>(:</span><span class=p1>proxy</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>proxy_user</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>proxy_pass</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>when</span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>opt_proxy</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>proxy_user</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>proxy_pass</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>case</span><span class=ws> </span><span class=p1>opt_proxy</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>when</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>find_proxy</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>lambda</span><span class=ws> </span><span class=p0>{|</span><span class=p1>u</span><span class=p0>|</span><span class=ws> </span><span class=p1>pxy</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>u</span><span class=p0>.</span><span class=p1>find_proxy</span><span class=p0>;</span><span class=ws> </span><span class=p1>pxy</span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=p0>[</span><span class=p1>pxy</span><span class=p0>,</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p1>nil</span><span class=p0>]</span><span class=ws> </span><span class=p1>:</span><span class=ws> </span><span class=p1>nil</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>when</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>find_proxy</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>lambda</span><span class=ws> </span><span class=p0>{|</span><span class=p1>u</span><span class=p0>|</span><span class=ws> </span><span class=p1>nil</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>when</span><span class=ws> </span><span class=p1>String</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>opt_proxy</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>URI</span><span class=p0>.</span><span class=p1>parse</span><span class=p0>(</span><span class=p1>opt_proxy</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>find_proxy</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>lambda</span><span class=ws> </span><span class=p0>{|</span><span class=p1>u</span><span class=p0>|</span><span class=ws> </span><span class=p0>[</span><span class=p1>opt_proxy</span><span class=p0>,</span><span class=ws> </span><span class=p1>proxy_user</span><span class=p0>,</span><span class=ws> </span><span class=p1>proxy_pass</span><span class=p0>]}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>when</span><span class=ws> </span><span class=p1>URI</span><span class=p0>::</span><span class=p1>Generic</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>find_proxy</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>lambda</span><span class=ws> </span><span class=p0>{|</span><span class=p1>u</span><span class=p0>|</span><span class=ws> </span><span class=p0>[</span><span class=p1>opt_proxy</span><span class=p0>,</span><span class=ws> </span><span class=p1>proxy_user</span><span class=p0>,</span><span class=ws> </span><span class=p1>proxy_pass</span><span class=p0>]}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=p1>ArgumentError</span><span class=p0>.new(</span><span class=s0>"</span><span class=s1>Invalid</span><span class=ws> </span><span class=s1>proxy</span><span class=ws> </span><span class=s1>option:</span><span class=ws> </span><span class=p0>#{</span><span class=p1>opt_proxy</span><span class=p0>}</span><span class=s0>"</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>uri_set</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>max_redirects</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>options</span><span class=p0>[:</span><span class=p1>max_redirects</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>buf</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>while</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>redirect</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>catch(:</span><span class=p1>open_uri_redirect</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>buf</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>Buffer</span><span class=p0>.new</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>uri</span><span class=p0>.</span><span class=p1>buffer_open</span><span class=p0>(</span><span class=p1>buf</span><span class=p0>,</span><span class=ws> </span><span class=p1>find_proxy</span><span class=p0>.</span><span class=p1>call</span><span class=p0>(</span><span class=p1>uri</span><span class=p0>),</span><span class=ws> </span><span class=p1>options</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>redirect</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>redirect</span><span class=p0>.</span><span class=p1>relative?</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>Although</span><span class=ws> </span><span class=c0>it</span><span class=ws> </span><span class=c0>violates</span><span class=ws> </span><span class=c0>RFC2616,</span><span class=ws> </span><span class=c0>Location:</span><span class=ws> </span><span class=c0>field</span><span class=ws> </span><span class=c0>may</span><span class=ws> </span><span class=c0>have</span><span class=ws> </span><span class=c0>relative</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>URI.</span><span class=ws> </span><span class=ws> </span><span class=c0>It</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>converted</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>absolute</span><span class=ws> </span><span class=c0>URI</span><span class=ws> </span><span class=c0>using</span><span class=ws> </span><span class=c0>uri</span><span class=ws> </span><span class=c0>as</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>base</span><span class=ws> </span><span class=c0>URI.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>redirect</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>uri</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>redirect</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>!</span><span class=p1>options</span><span class=p0>.</span><span class=p1>fetch</span><span class=p0>(:</span><span class=p1>redirect</span><span class=p0>,</span><span class=ws> </span><span class=p1>true</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=p1>HTTPRedirect</span><span class=p0>.new(</span><span class=p1>buf</span><span class=p0>.</span><span class=p1>io</span><span class=p0>.</span><span class=p1>status</span><span class=p0>.</span><span class=p1>join</span><span class=p0>(</span><span class=s0>'</span><span class=ws> </span><span class=s0>'</span><span class=p0>),</span><span class=ws> </span><span class=p1>buf</span><span class=p0>.</span><span class=p1>io</span><span class=p0>,</span><span class=ws> </span><span class=p1>redirect</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>unless</span><span class=ws> </span><span class=p1>OpenURI</span><span class=p0>.</span><span class=p1>redirectable?</span><span class=p0>(</span><span class=p1>uri</span><span class=p0>,</span><span class=ws> </span><span class=p1>redirect</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=s0>"</span><span class=s1>redirection</span><span class=ws> </span><span class=s1>forbidden:</span><span class=ws> </span><span class=p0>#{</span><span class=p1>uri</span><span class=p0>}</span><span class=ws> </span><span class=s1>-></span><span class=ws> </span><span class=p0>#{</span><span class=p1>redirect</span><span class=p0>}</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>options</span><span class=p0>.</span><span class=p1>include?</span><span class=ws> </span><span class=p0>:</span><span class=p1>http_basic_authentication</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>send</span><span class=ws> </span><span class=c0>authentication</span><span class=ws> </span><span class=c0>only</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>URI</span><span class=ws> </span><span class=c0>directly</span><span class=ws> </span><span class=c0>specified.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>options</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>options</span><span class=p0>.</span><span class=p1>dup</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>options</span><span class=p0>.</span><span class=p1>delete</span><span class=ws> </span><span class=p0>:</span><span class=p1>http_basic_authentication</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>uri</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>redirect</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=s0>"</span><span class=s1>HTTP</span><span class=ws> </span><span class=s1>redirection</span><span class=ws> </span><span class=s1>loop:</span><span class=ws> </span><span class=p0>#{</span><span class=p1>uri</span><span class=p0>}</span><span class=s0>"</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>uri_set</span><span class=p0>.</span><span class=p1>include?</span><span class=ws> </span><span class=p1>uri</span><span class=p0>.</span><span class=p1>to_s</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>uri_set</span><span class=p0>[</span><span class=p1>uri</span><span class=p0>.</span><span class=p1>to_s</span><span class=p0>]</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=p1>TooManyRedirects</span><span class=p0>.new(</span><span class=s0>"</span><span class=s1>Too</span><span class=ws> </span><span class=s1>many</span><span class=ws> </span><span class=s1>redirects</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p1>buf</span><span class=p0>.</span><span class=p1>io</span><span class=p0>)</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>max_redirects</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p1>uri_set</span><span class=p0>.</span><span class=p1>size</span><span class=ws> </span><span class=p0>></span><span class=ws> </span><span class=p1>max_redirects</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>break</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>io</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>buf</span><span class=p0>.</span><span class=p1>io</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>io</span><span class=p0>.</span><span class=p1>base_uri</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>uri</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>io</span>
<span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>OpenURI.redirectable?</span><span class=p0>(</span><span class=p1>uri1,</span><span class=ws> </span><span class=p1>uri2</span><span class=p0>)</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>:nodoc:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>This</span><span class=ws> </span><span class=c0>test</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>intended</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>forbid</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>redirection</span><span class=ws> </span><span class=c0>from</span><span class=ws> </span><span class=c0>http://...</span><span class=ws> </span><span class=c0>to</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>file:///etc/passwd,</span><span class=ws> </span><span class=c0>file:///dev/zero,</span><span class=ws> </span><span class=c0>etc.</span><span class=ws> </span><span class=ws> </span><span class=c0>CVE-2011-1521</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>https</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>http</span><span class=ws> </span><span class=c0>redirect</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>also</span><span class=ws> </span><span class=c0>forbidden</span><span class=ws> </span><span class=c0>intentionally.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>It</span><span class=ws> </span><span class=c0>avoids</span><span class=ws> </span><span class=c0>sending</span><span class=ws> </span><span class=c0>secure</span><span class=ws> </span><span class=c0>cookie</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>referer</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>non-secure</span><span class=ws> </span><span class=c0>HTTP</span><span class=ws> </span><span class=c0>protocol.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>(RFC</span><span class=ws> </span><span class=c0>2109</span><span class=ws> </span><span class=c0>4.3.1,</span><span class=ws> </span><span class=c0>RFC</span><span class=ws> </span><span class=c0>2965</span><span class=ws> </span><span class=c0>3.3,</span><span class=ws> </span><span class=c0>RFC</span><span class=ws> </span><span class=c0>2616</span><span class=ws> </span><span class=c0>15.1.3)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>However</span><span class=ws> </span><span class=c0>this</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>ad</span><span class=ws> </span><span class=c0>hoc.</span><span class=ws> </span><span class=ws> </span><span class=c0>It</span><span class=ws> </span><span class=c0>should</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>extensible/configurable.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>uri1</span><span class=p0>.</span><span class=p1>scheme</span><span class=p0>.</span><span class=p1>downcase</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=p1>uri2</span><span class=p0>.</span><span class=p1>scheme</span><span class=p0>.</span><span class=p1>downcase</span><span class=ws> </span><span class=p0>||</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>(</span><span class=s0>/</span><span class=s1>\A(?:http|ftp)\z</span><span class=s0>/i</span><span class=ws> </span><span class=p0>=~</span><span class=ws> </span><span class=p1>uri1</span><span class=p0>.</span><span class=p1>scheme</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=s0>/</span><span class=s1>\A(?:https?|ftp)\z</span><span class=s0>/i</span><span class=ws> </span><span class=p0>=~</span><span class=ws> </span><span class=p1>uri2</span><span class=p0>.</span><span class=p1>scheme</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>OpenURI.open_http</span><span class=p0>(</span><span class=p1>buf,</span><span class=ws> </span><span class=p1>target,</span><span class=ws> </span><span class=p1>proxy,</span><span class=ws> </span><span class=p1>options</span><span class=p0>)</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>:nodoc:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>proxy</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>proxy_uri</span><span class=p0>,</span><span class=ws> </span><span class=p1>proxy_user</span><span class=p0>,</span><span class=ws> </span><span class=p1>proxy_pass</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>proxy</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=s0>"</span><span class=s1>Non-HTTP</span><span class=ws> </span><span class=s1>proxy</span><span class=ws> </span><span class=s1>URI:</span><span class=ws> </span><span class=p0>#{</span><span class=p1>proxy_uri</span><span class=p0>}</span><span class=s0>"</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>proxy_uri</span><span class=p0>.</span><span class=p1>class</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>URI</span><span class=p0>::</span><span class=p1>HTTP</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>target</span><span class=p0>.</span><span class=p1>userinfo</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=p1>ArgumentError</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>userinfo</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>supported.</span><span class=ws> </span><span class=ws> </span><span class=s1>[RFC3986]</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>header</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>options</span><span class=p0>.</span><span class=p1>each</span><span class=ws> </span><span class=p0>{|</span><span class=p1>k</span><span class=p0>,</span><span class=ws> </span><span class=p1>v</span><span class=p0>|</span><span class=ws> </span><span class=p1>header</span><span class=p0>[</span><span class=p1>k</span><span class=p0>]</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>v</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>String</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=p1>k</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>require</span><span class=ws> </span><span class=p0>'</span><span class=s1>net/http</span><span class=p0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>klass</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>Net</span><span class=p0>::</span><span class=p1>HTTP</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>URI</span><span class=p0>::</span><span class=p1>HTTP</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=p1>target</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>HTTP</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>HTTPS</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>proxy</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>unless</span><span class=ws> </span><span class=p1>proxy_user</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p1>proxy_pass</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>proxy_user</span><span class=p0>,</span><span class=ws> </span><span class=p1>proxy_pass</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>proxy_uri</span><span class=p0>.</span><span class=p1>userinfo</span><span class=p0>.</span><span class=p1>split</span><span class=p0>(</span><span class=s0>'</span><span class=s1>:</span><span class=s0>'</span><span class=p0>)</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>proxy_uri</span><span class=p0>.</span><span class=p1>userinfo</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>proxy_user</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p1>proxy_pass</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>klass</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>Net</span><span class=p0>::</span><span class=p1>HTTP</span><span class=p0>::</span><span class=p1>Proxy</span><span class=p0>(</span><span class=p1>proxy_uri</span><span class=p0>.</span><span class=p1>hostname</span><span class=p0>,</span><span class=ws> </span><span class=p1>proxy_uri</span><span class=p0>.</span><span class=p1>port</span><span class=p0>,</span><span class=ws> </span><span class=p1>proxy_user</span><span class=p0>,</span><span class=ws> </span><span class=p1>proxy_pass</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>klass</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>Net</span><span class=p0>::</span><span class=p1>HTTP</span><span class=p0>::</span><span class=p1>Proxy</span><span class=p0>(</span><span class=p1>proxy_uri</span><span class=p0>.</span><span class=p1>hostname</span><span class=p0>,</span><span class=ws> </span><span class=p1>proxy_uri</span><span class=p0>.</span><span class=p1>port</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>target_host</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>target</span><span class=p0>.</span><span class=p1>hostname</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>target_port</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>target</span><span class=p0>.</span><span class=p1>port</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>request_uri</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>target</span><span class=p0>.</span><span class=p1>request_uri</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>FTP</span><span class=ws> </span><span class=c0>over</span><span class=ws> </span><span class=c0>HTTP</span><span class=ws> </span><span class=c0>proxy</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>target_host</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>proxy_uri</span><span class=p0>.</span><span class=p1>hostname</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>target_port</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>proxy_uri</span><span class=p0>.</span><span class=p1>port</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>request_uri</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>target</span><span class=p0>.</span><span class=p1>to_s</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>proxy_user</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p1>proxy_pass</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>header</span><span class=p0>[</span><span class=s0>"</span><span class=s1>Proxy-Authorization</span><span class=s0>"</span><span class=p0>]</span><span class=ws> </span><span class=p0>=</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>'</span><span class=s1>Basic</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p0>[</span><span class=s0>"</span><span class=p0>#{</span><span class=p1>proxy_user</span><span class=p0>}</span><span class=s1>:</span><span class=p0>#{</span><span class=p1>proxy_pass</span><span class=p0>}</span><span class=s0>"</span><span class=p0>].</span><span class=p1>pack</span><span class=p0>(</span><span class=s0>'</span><span class=s1>m0</span><span class=s0>'</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>http</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>proxy</span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=p1>klass</span><span class=p0>.new(</span><span class=p1>target_host</span><span class=p0>,</span><span class=ws> </span><span class=p1>target_port</span><span class=p0>)</span><span class=ws> </span><span class=p1>:</span><span class=ws> </span><span class=p1>klass</span><span class=p0>.new(</span><span class=p1>target_host</span><span class=p0>,</span><span class=ws> </span><span class=p1>target_port</span><span class=p0>,</span><span class=ws> </span><span class=p1>nil</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>target</span><span class=p0>.</span><span class=p1>class</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=p1>URI</span><span class=p0>::</span><span class=p1>HTTPS</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>require</span><span class=ws> </span><span class=p0>'</span><span class=s1>net/https</span><span class=p0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>http</span><span class=p0>.</span><span class=p1>use_ssl</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>http</span><span class=p0>.</span><span class=p1>verify_mode</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>options</span><span class=p0>[:</span><span class=p1>ssl_verify_mode</span><span class=p0>]</span><span class=ws> </span><span class=p0>||</span><span class=ws> </span><span class=p1>OpenSSL</span><span class=p0>::</span><span class=p1>SSL</span><span class=p0>::</span><span class=p1>VERIFY_PEER</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>http</span><span class=p0>.</span><span class=p1>min_version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>options</span><span class=p0>[:</span><span class=p1>ssl_min_version</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>http</span><span class=p0>.</span><span class=p1>max_version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>options</span><span class=p0>[:</span><span class=p1>ssl_max_version</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>store</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>OpenSSL</span><span class=p0>::</span><span class=p1>X509</span><span class=p0>::</span><span class=p1>Store</span><span class=p0>.new</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>options</span><span class=p0>[:</span><span class=p1>ssl_ca_cert</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Array</span><span class=p0>(</span><span class=p1>options</span><span class=p0>[:</span><span class=p1>ssl_ca_cert</span><span class=p0>]).</span><span class=p1>each</span><span class=ws> </span><span class=p0>do</span><span class=ws> </span><span class=p0>|</span><span class=p1>cert</span><span class=p0>|</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>File</span><span class=p0>.</span><span class=p1>directory?</span><span class=ws> </span><span class=p1>cert</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>store</span><span class=p0>.</span><span class=p1>add_path</span><span class=ws> </span><span class=p1>cert</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>store</span><span class=p0>.</span><span class=p1>add_file</span><span class=ws> </span><span class=p1>cert</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>store</span><span class=p0>.</span><span class=p1>set_default_paths</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>http</span><span class=p0>.</span><span class=p1>cert_store</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>store</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>options</span><span class=p0>.</span><span class=p1>include?</span><span class=ws> </span><span class=p0>:</span><span class=p1>read_timeout</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>http</span><span class=p0>.</span><span class=p1>read_timeout</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>options</span><span class=p0>[:</span><span class=p1>read_timeout</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>options</span><span class=p0>.</span><span class=p1>include?</span><span class=ws> </span><span class=p0>:</span><span class=p1>open_timeout</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>http</span><span class=p0>.</span><span class=p1>open_timeout</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>options</span><span class=p0>[:</span><span class=p1>open_timeout</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>resp</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>http</span><span class=p0>.</span><span class=p1>start</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>req</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>Net</span><span class=p0>::</span><span class=p1>HTTP</span><span class=p0>::</span><span class=p1>Get</span><span class=p0>.new(</span><span class=p1>request_uri</span><span class=p0>,</span><span class=ws> </span><span class=p1>header</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>options</span><span class=p0>.</span><span class=p1>include?</span><span class=ws> </span><span class=p0>:</span><span class=p1>http_basic_authentication</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>user</span><span class=p0>,</span><span class=ws> </span><span class=p1>pass</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>options</span><span class=p0>[:</span><span class=p1>http_basic_authentication</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>req</span><span class=p0>.</span><span class=p1>basic_auth</span><span class=ws> </span><span class=p1>user</span><span class=p0>,</span><span class=ws> </span><span class=p1>pass</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>http</span><span class=p0>.</span><span class=p1>request</span><span class=p0>(</span><span class=p1>req</span><span class=p0>)</span><span class=ws> </span><span class=p0>{|</span><span class=p1>response</span><span class=p0>|</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>resp</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>response</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>options</span><span class=p0>[:</span><span class=p1>content_length_proc</span><span class=p0>]</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p1>Net</span><span class=p0>::</span><span class=p1>HTTPSuccess</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=p1>resp</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>resp</span><span class=p0>.</span><span class=p1>key?</span><span class=p0>(</span><span class=s0>'</span><span class=s1>Content-Length</span><span class=s0>'</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>options</span><span class=p0>[:</span><span class=p1>content_length_proc</span><span class=p0>].</span><span class=p1>call</span><span class=p0>(</span><span class=p1>resp</span><span class=p0>[</span><span class=s0>'</span><span class=s1>Content-Length</span><span class=s0>'</span><span class=p0>].</span><span class=p1>to_i</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>options</span><span class=p0>[:</span><span class=p1>content_length_proc</span><span class=p0>].</span><span class=p1>call</span><span class=p0>(</span><span class=p1>nil</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>resp</span><span class=p0>.</span><span class=p1>read_body</span><span class=ws> </span><span class=p0>{|</span><span class=p1>str</span><span class=p0>|</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>buf</span><span class=ws> </span><span class=p0>&lt;&lt;</span><span class=ws> </span><span class=p1>str</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>options</span><span class=p0>[:</span><span class=p1>progress_proc</span><span class=p0>]</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p1>Net</span><span class=p0>::</span><span class=p1>HTTPSuccess</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=p1>resp</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>options</span><span class=p0>[:</span><span class=p1>progress_proc</span><span class=p0>].</span><span class=p1>call</span><span class=p0>(</span><span class=p1>buf</span><span class=p0>.</span><span class=p1>size</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>str</span><span class=p0>.</span><span class=p1>clear</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>io</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>buf</span><span class=p0>.</span><span class=p1>io</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>io</span><span class=p0>.</span><span class=p1>rewind</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>io</span><span class=p0>.</span><span class=p1>status</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=p1>resp</span><span class=p0>.</span><span class=p1>code</span><span class=p0>,</span><span class=ws> </span><span class=p1>resp</span><span class=p0>.</span><span class=p1>message</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>resp</span><span class=p0>.</span><span class=p1>each_name</span><span class=ws> </span><span class=p0>{|</span><span class=p1>name</span><span class=p0>|</span><span class=ws> </span><span class=p1>buf</span><span class=p0>.</span><span class=p1>io</span><span class=p0>.</span><span class=p1>meta_add_field2</span><span class=ws> </span><span class=p1>name</span><span class=p0>,</span><span class=ws> </span><span class=p1>resp</span><span class=p0>.</span><span class=p1>get_fields</span><span class=p0>(</span><span class=p1>name</span><span class=p0>)</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>case</span><span class=ws> </span><span class=p1>resp</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>when</span><span class=ws> </span><span class=p1>Net</span><span class=p0>::</span><span class=p1>HTTPSuccess</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>when</span><span class=ws> </span><span class=p1>Net</span><span class=p0>::</span><span class=p1>HTTPMovedPermanently</span><span class=p0>,</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>301</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Net</span><span class=p0>::</span><span class=p1>HTTPFound</span><span class=p0>,</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>302</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Net</span><span class=p0>::</span><span class=p1>HTTPSeeOther</span><span class=p0>,</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>303</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Net</span><span class=p0>::</span><span class=p1>HTTPTemporaryRedirect</span><span class=p0>,</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>307</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Net</span><span class=p0>::</span><span class=p1>HTTPPermanentRedirect</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>308</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>begin</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>loc_uri</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>URI</span><span class=p0>.</span><span class=p1>parse</span><span class=p0>(</span><span class=p1>resp</span><span class=p0>[</span><span class=s0>'</span><span class=s1>location</span><span class=s0>'</span><span class=p0>])</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>rescue</span><span class=ws> </span><span class=p1>URI</span><span class=p0>::</span><span class=p1>InvalidURIError</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=p1>OpenURI</span><span class=p0>::</span><span class=p1>HTTPError</span><span class=p0>.new(</span><span class=p1>io</span><span class=p0>.</span><span class=p1>status</span><span class=p0>.</span><span class=p1>join</span><span class=p0>(</span><span class=s0>'</span><span class=ws> </span><span class=s0>'</span><span class=p0>)</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=s1>(Invalid</span><span class=ws> </span><span class=s1>Location</span><span class=ws> </span><span class=s1>URI)</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=p1>io</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>throw</span><span class=ws> </span><span class=p0>:</span><span class=p1>open_uri_redirect</span><span class=p0>,</span><span class=ws> </span><span class=p1>loc_uri</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=p1>OpenURI</span><span class=p0>::</span><span class=p1>HTTPError</span><span class=p0>.new(</span><span class=p1>io</span><span class=p0>.</span><span class=p1>status</span><span class=p0>.</span><span class=p1>join</span><span class=p0>(</span><span class=s0>'</span><span class=ws> </span><span class=s0>'</span><span class=p0>),</span><span class=ws> </span><span class=p1>io</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=p0>class</span><span class=ws> </span><span class=p1>HTTPError</span><span class=ws> </span><span class=p0>&lt;</span><span class=ws> </span><span class=p1>StandardError</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>initialize</span><span class=p0>(</span><span class=p1>message,</span><span class=ws> </span><span class=p1>io</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>super(</span><span class=p1>message</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@</span><span class=p1>io</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>io</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>attr_reader</span><span class=ws> </span><span class=p0>:</span><span class=p1>io</span>
<span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>Raised</span><span class=ws> </span><span class=c0>on</span><span class=ws> </span><span class=c0>redirection,</span>
<span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>only</span><span class=ws> </span><span class=c0>occurs</span><span class=ws> </span><span class=c0>when</span><span class=ws> </span><span class=c0>+redirect+</span><span class=ws> </span><span class=c0>option</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>HTTP</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>+false+.</span>
<span class=ws> </span><span class=ws> </span><span class=p0>class</span><span class=ws> </span><span class=p1>HTTPRedirect</span><span class=ws> </span><span class=p0>&lt;</span><span class=ws> </span><span class=p1>HTTPError</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>initialize</span><span class=p0>(</span><span class=p1>message,</span><span class=ws> </span><span class=p1>io,</span><span class=ws> </span><span class=p1>uri</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>super(</span><span class=p1>message</span><span class=p0>,</span><span class=ws> </span><span class=p1>io</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@</span><span class=p1>uri</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>uri</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>attr_reader</span><span class=ws> </span><span class=p0>:</span><span class=p1>uri</span>
<span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=p0>class</span><span class=ws> </span><span class=p1>TooManyRedirects</span><span class=ws> </span><span class=p0>&lt;</span><span class=ws> </span><span class=p1>HTTPError</span>
<span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=p0>class</span><span class=ws> </span><span class=p1>Buffer</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>:nodoc:</span><span class=ws> </span><span class=c0>all</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>initialize</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@</span><span class=p1>io</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>StringIO</span><span class=p0>.new</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@</span><span class=p1>size</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>attr_reader</span><span class=ws> </span><span class=p0>:</span><span class=p1>size</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>StringMax</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>10240</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>&lt;&lt;</span><span class=p0>(</span><span class=p1>str</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@</span><span class=p1>io</span><span class=ws> </span><span class=p0>&lt;&lt;</span><span class=ws> </span><span class=p1>str</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@</span><span class=p1>size</span><span class=ws> </span><span class=p0>+=</span><span class=ws> </span><span class=p1>str</span><span class=p0>.</span><span class=p1>length</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>StringIO</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=p0>@</span><span class=p1>io</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p1>StringMax</span><span class=ws> </span><span class=p0>&lt;</span><span class=ws> </span><span class=p0>@</span><span class=p1>size</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>require</span><span class=ws> </span><span class=p0>'</span><span class=s1>tempfile</span><span class=p0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>io</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>Tempfile</span><span class=p0>.new(</span><span class=s0>'</span><span class=s1>open-uri</span><span class=s0>'</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>io</span><span class=p0>.</span><span class=p1>binmode</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Meta</span><span class=p0>.</span><span class=p1>init</span><span class=ws> </span><span class=p1>io</span><span class=p0>,</span><span class=ws> </span><span class=p0>@</span><span class=p1>io</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>Meta</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=p0>@</span><span class=p1>io</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>io</span><span class=ws> </span><span class=p0>&lt;&lt;</span><span class=ws> </span><span class=p0>@</span><span class=p1>io</span><span class=p0>.</span><span class=p1>string</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@</span><span class=p1>io</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>io</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>io</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Meta</span><span class=p0>.</span><span class=p1>init</span><span class=ws> </span><span class=p0>@</span><span class=p1>io</span><span class=ws> </span><span class=p0>unless</span><span class=ws> </span><span class=p1>Meta</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=p0>@</span><span class=p1>io</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@</span><span class=p1>io</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>:stopdoc:</span>
<span class=ws> </span><span class=ws> </span><span class=p1>RE_LWS</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>/</span><span class=s1>[\r\n\t</span><span class=ws> </span><span class=s1>]+</span><span class=s0>/n</span>
<span class=ws> </span><span class=ws> </span><span class=p1>RE_TOKEN</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>%r{</span><span class=s1>[^\x00-</span><span class=ws> </span><span class=s1>()&lt;>@,;:\\"/\[\]?={}\x7f]+</span><span class=s0>}n</span>
<span class=ws> </span><span class=ws> </span><span class=p1>RE_QUOTED_STRING</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>%r{</span><span class=s1>"(?:[\r\n\t</span><span class=ws> </span><span class=s1>!#-\[\]-~\x80-\xff]|\\[\x00-\x7f])*"</span><span class=s0>}n</span>
<span class=ws> </span><span class=ws> </span><span class=p1>RE_PARAMETERS</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>%r{</span><span class=s1>(?:;</span><span class=p0>#{</span><span class=p1>RE_LWS</span><span class=p0>}</span><span class=s1>?</span><span class=p0>#{</span><span class=p1>RE_TOKEN</span><span class=p0>}#{</span><span class=p1>RE_LWS</span><span class=p0>}</span><span class=s1>?=</span><span class=p0>#{</span><span class=p1>RE_LWS</span><span class=p0>}</span><span class=s1>?(?:</span><span class=p0>#{</span><span class=p1>RE_TOKEN</span><span class=p0>}</span><span class=s1>|</span><span class=p0>#{</span><span class=p1>RE_QUOTED_STRING</span><span class=p0>}</span><span class=s1>)</span><span class=p0>#{</span><span class=p1>RE_LWS</span><span class=p0>}</span><span class=s1>?)*</span><span class=s0>}n</span>
<span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>:startdoc:</span>

<span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>Mixin</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>holding</span><span class=ws> </span><span class=c0>meta-information.</span>
<span class=ws> </span><span class=ws> </span><span class=p0>module</span><span class=ws> </span><span class=p1>Meta</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>Meta.init</span><span class=p0>(</span><span class=p1>obj,</span><span class=ws> </span><span class=p1>src</span><span class=p0>=</span><span class=p1>nil</span><span class=p0>)</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>:nodoc:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>obj</span><span class=p0>.extend</span><span class=ws> </span><span class=p1>Meta</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>obj</span><span class=p0>.</span><span class=p1>instance_eval</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@</span><span class=p1>base_uri</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@</span><span class=p1>meta</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{}</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>name</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>string.</span><span class=ws> </span><span class=ws> </span><span class=c0>legacy.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@</span><span class=p1>metas</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{}</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>name</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>array</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>strings.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>src</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>obj</span><span class=p0>.</span><span class=p1>status</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>src</span><span class=p0>.</span><span class=p1>status</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>obj</span><span class=p0>.</span><span class=p1>base_uri</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>src</span><span class=p0>.</span><span class=p1>base_uri</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>src</span><span class=p0>.</span><span class=p1>metas</span><span class=p0>.</span><span class=p1>each</span><span class=ws> </span><span class=p0>{|</span><span class=p1>name</span><span class=p0>,</span><span class=ws> </span><span class=p1>values</span><span class=p0>|</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>obj</span><span class=p0>.</span><span class=p1>meta_add_field2</span><span class=p0>(</span><span class=p1>name</span><span class=p0>,</span><span class=ws> </span><span class=p1>values</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>returns</span><span class=ws> </span><span class=c0>an</span><span class=ws> </span><span class=c0>Array</span><span class=ws> </span><span class=c0>that</span><span class=ws> </span><span class=c0>consists</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>status</span><span class=ws> </span><span class=c0>code</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>message.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>attr_accessor</span><span class=ws> </span><span class=p0>:</span><span class=p1>status</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>returns</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>URI</span><span class=ws> </span><span class=c0>that</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>base</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>relative</span><span class=ws> </span><span class=c0>URIs</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>data.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>It</span><span class=ws> </span><span class=c0>may</span><span class=ws> </span><span class=c0>differ</span><span class=ws> </span><span class=c0>from</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>URI</span><span class=ws> </span><span class=c0>supplied</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>user</span><span class=ws> </span><span class=c0>due</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>redirection.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>attr_accessor</span><span class=ws> </span><span class=p0>:</span><span class=p1>base_uri</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>returns</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>Hash</span><span class=ws> </span><span class=c0>that</span><span class=ws> </span><span class=c0>represents</span><span class=ws> </span><span class=c0>header</span><span class=ws> </span><span class=c0>fields.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>Hash</span><span class=ws> </span><span class=c0>keys</span><span class=ws> </span><span class=c0>are</span><span class=ws> </span><span class=c0>downcased</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>canonicalization.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>Hash</span><span class=ws> </span><span class=c0>values</span><span class=ws> </span><span class=c0>are</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>field</span><span class=ws> </span><span class=c0>body.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>there</span><span class=ws> </span><span class=c0>are</span><span class=ws> </span><span class=c0>multiple</span><span class=ws> </span><span class=c0>field</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>same</span><span class=ws> </span><span class=c0>field</span><span class=ws> </span><span class=c0>name,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>field</span><span class=ws> </span><span class=c0>values</span><span class=ws> </span><span class=c0>are</span><span class=ws> </span><span class=c0>concatenated</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>comma.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>attr_reader</span><span class=ws> </span><span class=p0>:</span><span class=p1>meta</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>returns</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>Hash</span><span class=ws> </span><span class=c0>that</span><span class=ws> </span><span class=c0>represents</span><span class=ws> </span><span class=c0>header</span><span class=ws> </span><span class=c0>fields.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>Hash</span><span class=ws> </span><span class=c0>keys</span><span class=ws> </span><span class=c0>are</span><span class=ws> </span><span class=c0>downcased</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>canonicalization.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>Hash</span><span class=ws> </span><span class=c0>value</span><span class=ws> </span><span class=c0>are</span><span class=ws> </span><span class=c0>an</span><span class=ws> </span><span class=c0>array</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>field</span><span class=ws> </span><span class=c0>values.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>attr_reader</span><span class=ws> </span><span class=p0>:</span><span class=p1>metas</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>meta_setup_encoding</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>:nodoc:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>charset</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>charset</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>enc</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>charset</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>begin</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>enc</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>Encoding</span><span class=p0>.</span><span class=p1>find</span><span class=p0>(</span><span class=p1>charset</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>rescue</span><span class=ws> </span><span class=p1>ArgumentError</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>enc</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>Encoding</span><span class=p0>::</span><span class=p1>ASCII_8BIT</span><span class=ws> </span><span class=p0>unless</span><span class=ws> </span><span class=p1>enc</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>respond_to?</span><span class=ws> </span><span class=p0>:</span><span class=p1>force_encoding</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>force_encoding</span><span class=p0>(</span><span class=p1>enc</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>elsif</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>respond_to?</span><span class=ws> </span><span class=p0>:</span><span class=p1>string</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>string</span><span class=p0>.</span><span class=p1>force_encoding</span><span class=p0>(</span><span class=p1>enc</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>Tempfile</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>set_encoding</span><span class=ws> </span><span class=p1>enc</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>meta_add_field2</span><span class=p0>(</span><span class=p1>name,</span><span class=ws> </span><span class=p1>values</span><span class=p0>)</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>:nodoc:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>name</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>name</span><span class=p0>.</span><span class=p1>downcase</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@</span><span class=p1>metas</span><span class=p0>[</span><span class=p1>name</span><span class=p0>]</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>values</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@</span><span class=p1>meta</span><span class=p0>[</span><span class=p1>name</span><span class=p0>]</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>values</span><span class=p0>.</span><span class=p1>join</span><span class=p0>(</span><span class=s0>'</span><span class=s1>,</span><span class=ws> </span><span class=s0>'</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>meta_setup_encoding</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>name</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=s0>'</span><span class=s1>content-type</span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>meta_add_field</span><span class=p0>(</span><span class=p1>name,</span><span class=ws> </span><span class=p1>value</span><span class=p0>)</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>:nodoc:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>meta_add_field2</span><span class=p0>(</span><span class=p1>name</span><span class=p0>,</span><span class=ws> </span><span class=p0>[</span><span class=p1>value</span><span class=p0>])</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>returns</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>Time</span><span class=ws> </span><span class=c0>that</span><span class=ws> </span><span class=c0>represents</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>Last-Modified</span><span class=ws> </span><span class=c0>field.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>last_modified</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>vs</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>@</span><span class=p1>metas</span><span class=p0>[</span><span class=s0>'</span><span class=s1>last-modified</span><span class=s0>'</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>v</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>vs</span><span class=p0>.</span><span class=p1>join</span><span class=p0>(</span><span class=s0>'</span><span class=s1>,</span><span class=ws> </span><span class=s0>'</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Time</span><span class=p0>.</span><span class=p1>httpdate</span><span class=p0>(</span><span class=p1>v</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>content_type_parse</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>:nodoc:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>vs</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>@</span><span class=p1>metas</span><span class=p0>[</span><span class=s0>'</span><span class=s1>content-type</span><span class=s0>'</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>last</span><span class=ws> </span><span class=c0>(?:;#{RE_LWS}?)?</span><span class=ws> </span><span class=c0>matches</span><span class=ws> </span><span class=c0>extra</span><span class=ws> </span><span class=c0>";"</span><span class=ws> </span><span class=c0>which</span><span class=ws> </span><span class=c0>violates</span><span class=ws> </span><span class=c0>RFC2045.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>vs</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=s0>%r{</span><span class=s1>\A</span><span class=p0>#{</span><span class=p1>RE_LWS</span><span class=p0>}</span><span class=s1>?(</span><span class=p0>#{</span><span class=p1>RE_TOKEN</span><span class=p0>}</span><span class=s1>)</span><span class=p0>#{</span><span class=p1>RE_LWS</span><span class=p0>}</span><span class=s1>?/(</span><span class=p0>#{</span><span class=p1>RE_TOKEN</span><span class=p0>}</span><span class=s1>)</span><span class=p0>#{</span><span class=p1>RE_LWS</span><span class=p0>}</span><span class=s1>?(</span><span class=p0>#{</span><span class=p1>RE_PARAMETERS</span><span class=p0>}</span><span class=s1>)(?:;</span><span class=p0>#{</span><span class=p1>RE_LWS</span><span class=p0>}</span><span class=s1>?)?\z</span><span class=s0>}no</span><span class=ws> </span><span class=p0>=~</span><span class=ws> </span><span class=p1>vs</span><span class=p0>.</span><span class=p1>join</span><span class=p0>(</span><span class=s0>'</span><span class=s1>,</span><span class=ws> </span><span class=s0>'</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>type</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>$</span><span class=p1>1</span><span class=p0>.</span><span class=p1>downcase</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>subtype</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>$</span><span class=p1>2</span><span class=p0>.</span><span class=p1>downcase</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>parameters</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>$</span><span class=p1>3</span><span class=p0>.</span><span class=p1>scan</span><span class=p0>(</span><span class=s0>/</span><span class=s1>;</span><span class=p0>#{</span><span class=p1>RE_LWS</span><span class=p0>}</span><span class=s1>?(</span><span class=p0>#{</span><span class=p1>RE_TOKEN</span><span class=p0>}</span><span class=s1>)</span><span class=p0>#{</span><span class=p1>RE_LWS</span><span class=p0>}</span><span class=s1>?=</span><span class=p0>#{</span><span class=p1>RE_LWS</span><span class=p0>}</span><span class=s1>?(?:(</span><span class=p0>#{</span><span class=p1>RE_TOKEN</span><span class=p0>}</span><span class=s1>)|(</span><span class=p0>#{</span><span class=p1>RE_QUOTED_STRING</span><span class=p0>}</span><span class=s1>))</span><span class=s0>/no</span><span class=p0>)</span><span class=ws> </span><span class=p0>{|</span><span class=p1>att</span><span class=p0>,</span><span class=ws> </span><span class=p1>val</span><span class=p0>,</span><span class=ws> </span><span class=p1>qval</span><span class=p0>|</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>qval</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>val</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>qval</span><span class=p0>[</span><span class=p1>1</span><span class=p0>...-</span><span class=p1>1</span><span class=p0>].</span><span class=p1>gsub</span><span class=p0>(</span><span class=s0>/</span><span class=s1>[\r\n\t</span><span class=ws> </span><span class=s1>!#-\[\]-~\x80-\xff]+|(\\[\x00-\x7f])</span><span class=s0>/n</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>$</span><span class=p1>1</span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=p0>$</span><span class=p1>1</span><span class=p0>[</span><span class=p1>1</span><span class=p0>,</span><span class=p1>1</span><span class=p0>]</span><span class=ws> </span><span class=p1>:</span><span class=ws> </span><span class=p0>$</span><span class=p1>&</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>parameters</span><span class=ws> </span><span class=p0>&lt;&lt;</span><span class=ws> </span><span class=p0>[</span><span class=p1>att</span><span class=p0>.</span><span class=p1>downcase</span><span class=p0>,</span><span class=ws> </span><span class=p1>val</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>[</span><span class=s0>"</span><span class=p0>#{</span><span class=p1>type</span><span class=p0>}</span><span class=s1>/</span><span class=p0>#{</span><span class=p1>subtype</span><span class=p0>}</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p0>*</span><span class=p1>parameters</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>returns</span><span class=ws> </span><span class=c0>"type/subtype"</span><span class=ws> </span><span class=c0>which</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>MIME</span><span class=ws> </span><span class=c0>Content-Type.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>It</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>downcased</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>canonicalization.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>Content-Type</span><span class=ws> </span><span class=c0>parameters</span><span class=ws> </span><span class=c0>are</span><span class=ws> </span><span class=c0>stripped.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>content_type</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>type</span><span class=p0>,</span><span class=ws> </span><span class=p0>*</span><span class=p1>_</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>content_type_parse</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>type</span><span class=ws> </span><span class=p0>||</span><span class=ws> </span><span class=s0>'</span><span class=s1>application/octet-stream</span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>returns</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>charset</span><span class=ws> </span><span class=c0>parameter</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>Content-Type</span><span class=ws> </span><span class=c0>field.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>It</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>downcased</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>canonicalization.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>charset</span><span class=ws> </span><span class=c0>parameter</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>not</span><span class=ws> </span><span class=c0>given</span><span class=ws> </span><span class=c0>but</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>block</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>given,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>block</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>called</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>its</span><span class=ws> </span><span class=c0>result</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>returned.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>It</span><span class=ws> </span><span class=c0>can</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>used</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>guess</span><span class=ws> </span><span class=c0>charset.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>charset</span><span class=ws> </span><span class=c0>parameter</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>block</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>not</span><span class=ws> </span><span class=c0>given,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>nil</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>returned</span><span class=ws> </span><span class=c0>except</span><span class=ws> </span><span class=c0>text</span><span class=ws> </span><span class=c0>type.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>In</span><span class=ws> </span><span class=c0>that</span><span class=ws> </span><span class=c0>case,</span><span class=ws> </span><span class=c0>"utf-8"</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>returned</span><span class=ws> </span><span class=c0>as</span><span class=ws> </span><span class=c0>defined</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>RFC6838</span><span class=ws> </span><span class=c0>4.2.1</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>charset</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>type</span><span class=p0>,</span><span class=ws> </span><span class=p0>*</span><span class=p1>parameters</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>content_type_parse</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>pair</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>parameters</span><span class=p0>.</span><span class=p1>assoc</span><span class=p0>(</span><span class=s0>'</span><span class=s1>charset</span><span class=s0>'</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>pair</span><span class=p0>.</span><span class=p1>last</span><span class=p0>.</span><span class=p1>downcase</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>elsif</span><span class=ws> </span><span class=p0>block_given?</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>yield</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>elsif</span><span class=ws> </span><span class=p1>type</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=s0>%r{</span><span class=s1>\Atext/</span><span class=s0>}</span><span class=ws> </span><span class=p0>=~</span><span class=ws> </span><span class=p1>type</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>utf-8</span><span class=s0>"</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>RFC6838</span><span class=ws> </span><span class=c0>4.2.1</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>Returns</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>list</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>encodings</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>Content-Encoding</span><span class=ws> </span><span class=c0>field</span><span class=ws> </span><span class=c0>as</span><span class=ws> </span><span class=c0>an</span><span class=ws> </span><span class=c0>array</span><span class=ws> </span><span class=c0>of</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>strings.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>encodings</span><span class=ws> </span><span class=c0>are</span><span class=ws> </span><span class=c0>downcased</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>canonicalization.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>content_encoding</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>vs</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>@</span><span class=p1>metas</span><span class=p0>[</span><span class=s0>'</span><span class=s1>content-encoding</span><span class=s0>'</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>vs</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=s0>%r{</span><span class=s1>\A</span><span class=p0>#{</span><span class=p1>RE_LWS</span><span class=p0>}</span><span class=s1>?</span><span class=p0>#{</span><span class=p1>RE_TOKEN</span><span class=p0>}#{</span><span class=p1>RE_LWS</span><span class=p0>}</span><span class=s1>?(?:,</span><span class=p0>#{</span><span class=p1>RE_LWS</span><span class=p0>}</span><span class=s1>?</span><span class=p0>#{</span><span class=p1>RE_TOKEN</span><span class=p0>}#{</span><span class=p1>RE_LWS</span><span class=p0>}</span><span class=s1>?)*</span><span class=s0>}o</span><span class=ws> </span><span class=p0>=~</span><span class=ws> </span><span class=p0>(</span><span class=p1>v</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>vs</span><span class=p0>.</span><span class=p1>join</span><span class=p0>(</span><span class=s0>'</span><span class=s1>,</span><span class=ws> </span><span class=s0>'</span><span class=p0>))</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>v</span><span class=p0>.</span><span class=p1>scan</span><span class=p0>(</span><span class=p1>RE_TOKEN</span><span class=p0>).</span><span class=p1>map</span><span class=ws> </span><span class=p0>{|</span><span class=p1>content_coding</span><span class=p0>|</span><span class=ws> </span><span class=p1>content_coding</span><span class=p0>.</span><span class=p1>downcase</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>[]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>Mixin</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>HTTP</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>FTP</span><span class=ws> </span><span class=c0>URIs.</span>
<span class=ws> </span><span class=ws> </span><span class=p0>module</span><span class=ws> </span><span class=p1>OpenRead</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>OpenURI::OpenRead#open</span><span class=ws> </span><span class=c0>provides</span><span class=ws> </span><span class=c0>`open'</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>URI::HTTP</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>URI::FTP.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>OpenURI::OpenRead#open</span><span class=ws> </span><span class=c0>takes</span><span class=ws> </span><span class=c0>optional</span><span class=ws> </span><span class=c0>3</span><span class=ws> </span><span class=c0>arguments</span><span class=ws> </span><span class=c0>as:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>OpenURI::OpenRead#open([mode</span><span class=ws> </span><span class=c0>[,</span><span class=ws> </span><span class=c0>perm]]</span><span class=ws> </span><span class=c0>[,</span><span class=ws> </span><span class=c0>options])</span><span class=ws> </span><span class=c0>[{|io|</span><span class=ws> </span><span class=c0>...</span><span class=ws> </span><span class=c0>}]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>OpenURI::OpenRead#open</span><span class=ws> </span><span class=c0>returns</span><span class=ws> </span><span class=c0>an</span><span class=ws> </span><span class=c0>IO-like</span><span class=ws> </span><span class=c0>object</span><span class=ws> </span><span class=c0>if</span><span class=ws> </span><span class=c0>block</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>not</span><span class=ws> </span><span class=c0>given.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>Otherwise</span><span class=ws> </span><span class=c0>it</span><span class=ws> </span><span class=c0>yields</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>IO</span><span class=ws> </span><span class=c0>object</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>return</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>value</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>block.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>IO</span><span class=ws> </span><span class=c0>object</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>extended</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>OpenURI::Meta.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>+mode+</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>+perm+</span><span class=ws> </span><span class=c0>are</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>same</span><span class=ws> </span><span class=c0>as</span><span class=ws> </span><span class=c0>Kernel#open.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>However,</span><span class=ws> </span><span class=c0>+mode+</span><span class=ws> </span><span class=c0>must</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>read</span><span class=ws> </span><span class=c0>mode</span><span class=ws> </span><span class=c0>because</span><span class=ws> </span><span class=c0>OpenURI::OpenRead#open</span><span class=ws> </span><span class=c0>doesn't</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>support</span><span class=ws> </span><span class=c0>write</span><span class=ws> </span><span class=c0>mode</span><span class=ws> </span><span class=c0>(yet).</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>Also</span><span class=ws> </span><span class=c0>+perm+</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>ignored</span><span class=ws> </span><span class=c0>because</span><span class=ws> </span><span class=c0>it</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>meaningful</span><span class=ws> </span><span class=c0>only</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>file</span><span class=ws> </span><span class=c0>creation.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>+options+</span><span class=ws> </span><span class=c0>must</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>hash.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>Each</span><span class=ws> </span><span class=c0>option</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>string</span><span class=ws> </span><span class=c0>key</span><span class=ws> </span><span class=c0>specifies</span><span class=ws> </span><span class=c0>an</span><span class=ws> </span><span class=c0>extra</span><span class=ws> </span><span class=c0>header</span><span class=ws> </span><span class=c0>field</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>HTTP.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>I.e.,</span><span class=ws> </span><span class=c0>it</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>ignored</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>FTP</span><span class=ws> </span><span class=c0>without</span><span class=ws> </span><span class=c0>HTTP</span><span class=ws> </span><span class=c0>proxy.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>hash</span><span class=ws> </span><span class=c0>may</span><span class=ws> </span><span class=c0>include</span><span class=ws> </span><span class=c0>other</span><span class=ws> </span><span class=c0>options,</span><span class=ws> </span><span class=c0>where</span><span class=ws> </span><span class=c0>keys</span><span class=ws> </span><span class=c0>are</span><span class=ws> </span><span class=c0>symbols:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>[:proxy]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>Synopsis:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:proxy</span><span class=ws> </span><span class=c0>=></span><span class=ws> </span><span class=c0>"http://proxy.foo.com:8000/"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:proxy</span><span class=ws> </span><span class=c0>=></span><span class=ws> </span><span class=c0>URI.parse("http://proxy.foo.com:8000/")</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:proxy</span><span class=ws> </span><span class=c0>=></span><span class=ws> </span><span class=c0>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:proxy</span><span class=ws> </span><span class=c0>=></span><span class=ws> </span><span class=c0>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:proxy</span><span class=ws> </span><span class=c0>=></span><span class=ws> </span><span class=c0>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>:proxy</span><span class=ws> </span><span class=c0>option</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>specified,</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>value</span><span class=ws> </span><span class=c0>should</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>String,</span><span class=ws> </span><span class=c0>URI,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>boolean</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>nil.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>When</span><span class=ws> </span><span class=c0>String</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>URI</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>given,</span><span class=ws> </span><span class=c0>it</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>treated</span><span class=ws> </span><span class=c0>as</span><span class=ws> </span><span class=c0>proxy</span><span class=ws> </span><span class=c0>URI.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>When</span><span class=ws> </span><span class=c0>true</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>given</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>option</span><span class=ws> </span><span class=c0>itself</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>not</span><span class=ws> </span><span class=c0>specified,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>environment</span><span class=ws> </span><span class=c0>variable</span><span class=ws> </span><span class=c0>`scheme_proxy'</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>examined.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>`scheme'</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>replaced</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>`http',</span><span class=ws> </span><span class=c0>`https'</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>`ftp'.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>When</span><span class=ws> </span><span class=c0>false</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>nil</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>given,</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>environment</span><span class=ws> </span><span class=c0>variables</span><span class=ws> </span><span class=c0>are</span><span class=ws> </span><span class=c0>ignored</span><span class=ws> </span><span class=c0>and</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>connection</span><span class=ws> </span><span class=c0>will</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>made</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>server</span><span class=ws> </span><span class=c0>directly.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>[:proxy_http_basic_authentication]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>Synopsis:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:proxy_http_basic_authentication</span><span class=ws> </span><span class=c0>=></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>["http://proxy.foo.com:8000/",</span><span class=ws> </span><span class=c0>"proxy-user",</span><span class=ws> </span><span class=c0>"proxy-password"]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:proxy_http_basic_authentication</span><span class=ws> </span><span class=c0>=></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>[URI.parse("http://proxy.foo.com:8000/"),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>"proxy-user",</span><span class=ws> </span><span class=c0>"proxy-password"]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>:proxy</span><span class=ws> </span><span class=c0>option</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>specified,</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>value</span><span class=ws> </span><span class=c0>should</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>an</span><span class=ws> </span><span class=c0>Array</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>3</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>elements.</span><span class=ws> </span><span class=ws> </span><span class=c0>It</span><span class=ws> </span><span class=c0>should</span><span class=ws> </span><span class=c0>contain</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>proxy</span><span class=ws> </span><span class=c0>URI,</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>proxy</span><span class=ws> </span><span class=c0>user</span><span class=ws> </span><span class=c0>name</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>proxy</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>password.</span><span class=ws> </span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>proxy</span><span class=ws> </span><span class=c0>URI</span><span class=ws> </span><span class=c0>should</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>String,</span><span class=ws> </span><span class=c0>an</span><span class=ws> </span><span class=c0>URI</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>nil.</span><span class=ws> </span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>proxy</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>user</span><span class=ws> </span><span class=c0>name</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>password</span><span class=ws> </span><span class=c0>should</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>String.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>nil</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>given</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>proxy</span><span class=ws> </span><span class=c0>URI,</span><span class=ws> </span><span class=c0>this</span><span class=ws> </span><span class=c0>option</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>just</span><span class=ws> </span><span class=c0>ignored.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>:proxy</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>:proxy_http_basic_authentication</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>specified,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>ArgumentError</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>raised.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>[:http_basic_authentication]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>Synopsis:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:http_basic_authentication=>[user,</span><span class=ws> </span><span class=c0>password]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>:http_basic_authentication</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>specified,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>value</span><span class=ws> </span><span class=c0>should</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>an</span><span class=ws> </span><span class=c0>array</span><span class=ws> </span><span class=c0>which</span><span class=ws> </span><span class=c0>contains</span><span class=ws> </span><span class=c0>2</span><span class=ws> </span><span class=c0>strings:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>username</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>password.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>It</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>used</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>HTTP</span><span class=ws> </span><span class=c0>Basic</span><span class=ws> </span><span class=c0>authentication</span><span class=ws> </span><span class=c0>defined</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>RFC</span><span class=ws> </span><span class=c0>2617.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>[:content_length_proc]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>Synopsis:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:content_length_proc</span><span class=ws> </span><span class=c0>=></span><span class=ws> </span><span class=c0>lambda</span><span class=ws> </span><span class=c0>{|content_length|</span><span class=ws> </span><span class=c0>...</span><span class=ws> </span><span class=c0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>:content_length_proc</span><span class=ws> </span><span class=c0>option</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>specified,</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>option</span><span class=ws> </span><span class=c0>value</span><span class=ws> </span><span class=c0>procedure</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>called</span><span class=ws> </span><span class=c0>before</span><span class=ws> </span><span class=c0>actual</span><span class=ws> </span><span class=c0>transfer</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>started.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>It</span><span class=ws> </span><span class=c0>takes</span><span class=ws> </span><span class=c0>one</span><span class=ws> </span><span class=c0>argument,</span><span class=ws> </span><span class=c0>which</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>expected</span><span class=ws> </span><span class=c0>content</span><span class=ws> </span><span class=c0>length</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>bytes.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>two</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>more</span><span class=ws> </span><span class=c0>transfers</span><span class=ws> </span><span class=c0>are</span><span class=ws> </span><span class=c0>performed</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>HTTP</span><span class=ws> </span><span class=c0>redirection,</span><span class=ws> </span><span class=c0>the</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>procedure</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>called</span><span class=ws> </span><span class=c0>only</span><span class=ws> </span><span class=c0>once</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>last</span><span class=ws> </span><span class=c0>transfer.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>When</span><span class=ws> </span><span class=c0>expected</span><span class=ws> </span><span class=c0>content</span><span class=ws> </span><span class=c0>length</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>unknown,</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>procedure</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>called</span><span class=ws> </span><span class=c0>with</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>nil.</span><span class=ws> </span><span class=ws> </span><span class=c0>This</span><span class=ws> </span><span class=c0>happens</span><span class=ws> </span><span class=c0>when</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>HTTP</span><span class=ws> </span><span class=c0>response</span><span class=ws> </span><span class=c0>has</span><span class=ws> </span><span class=c0>no</span><span class=ws> </span><span class=c0>Content-Length</span><span class=ws> </span><span class=c0>header.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>[:progress_proc]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>Synopsis:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:progress_proc</span><span class=ws> </span><span class=c0>=></span><span class=ws> </span><span class=c0>lambda</span><span class=ws> </span><span class=c0>{|size|</span><span class=ws> </span><span class=c0>...}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>:progress_proc</span><span class=ws> </span><span class=c0>option</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>specified,</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>proc</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>called</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>one</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>argument</span><span class=ws> </span><span class=c0>each</span><span class=ws> </span><span class=c0>time</span><span class=ws> </span><span class=c0>when</span><span class=ws> </span><span class=c0>`open'</span><span class=ws> </span><span class=c0>gets</span><span class=ws> </span><span class=c0>content</span><span class=ws> </span><span class=c0>fragment</span><span class=ws> </span><span class=c0>from</span><span class=ws> </span><span class=c0>network.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>argument</span><span class=ws> </span><span class=c0>+size+</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>accumulated</span><span class=ws> </span><span class=c0>transferred</span><span class=ws> </span><span class=c0>size</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>bytes.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>two</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>more</span><span class=ws> </span><span class=c0>transfer</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>done</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>HTTP</span><span class=ws> </span><span class=c0>redirection,</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>procedure</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>called</span><span class=ws> </span><span class=c0>only</span><span class=ws> </span><span class=c0>one</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>last</span><span class=ws> </span><span class=c0>transfer.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>:progress_proc</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>:content_length_proc</span><span class=ws> </span><span class=c0>are</span><span class=ws> </span><span class=c0>intended</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>used</span><span class=ws> </span><span class=c0>for</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>progress</span><span class=ws> </span><span class=c0>bar.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>For</span><span class=ws> </span><span class=c0>example,</span><span class=ws> </span><span class=c0>it</span><span class=ws> </span><span class=c0>can</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>implemented</span><span class=ws> </span><span class=c0>as</span><span class=ws> </span><span class=c0>follows</span><span class=ws> </span><span class=c0>using</span><span class=ws> </span><span class=c0>Ruby/ProgressBar.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>pbar</span><span class=ws> </span><span class=c0>=</span><span class=ws> </span><span class=c0>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>open("http://...",</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:content_length_proc</span><span class=ws> </span><span class=c0>=></span><span class=ws> </span><span class=c0>lambda</span><span class=ws> </span><span class=c0>{|t|</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>if</span><span class=ws> </span><span class=c0>t</span><span class=ws> </span><span class=c0>&&</span><span class=ws> </span><span class=c0>0</span><span class=ws> </span><span class=c0>&lt;</span><span class=ws> </span><span class=c0>t</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>pbar</span><span class=ws> </span><span class=c0>=</span><span class=ws> </span><span class=c0>ProgressBar.new("...",</span><span class=ws> </span><span class=c0>t)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>pbar.file_transfer_mode</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>},</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:progress_proc</span><span class=ws> </span><span class=c0>=></span><span class=ws> </span><span class=c0>lambda</span><span class=ws> </span><span class=c0>{|s|</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>pbar.set</span><span class=ws> </span><span class=c0>s</span><span class=ws> </span><span class=c0>if</span><span class=ws> </span><span class=c0>pbar</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>})</span><span class=ws> </span><span class=c0>{|f|</span><span class=ws> </span><span class=c0>...</span><span class=ws> </span><span class=c0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>[:read_timeout]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>Synopsis:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:read_timeout=>nil</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>(no</span><span class=ws> </span><span class=c0>timeout)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:read_timeout=>10</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>(10</span><span class=ws> </span><span class=c0>second)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>:read_timeout</span><span class=ws> </span><span class=c0>option</span><span class=ws> </span><span class=c0>specifies</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>timeout</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>read</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>http</span><span class=ws> </span><span class=c0>connections.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>[:open_timeout]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>Synopsis:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:open_timeout=>nil</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>(no</span><span class=ws> </span><span class=c0>timeout)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:open_timeout=>10</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>(10</span><span class=ws> </span><span class=c0>second)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>:open_timeout</span><span class=ws> </span><span class=c0>option</span><span class=ws> </span><span class=c0>specifies</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>timeout</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>open</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>http</span><span class=ws> </span><span class=c0>connections.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>[:ssl_ca_cert]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>Synopsis:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:ssl_ca_cert=>filename</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>an</span><span class=ws> </span><span class=c0>Array</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>filenames</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>:ssl_ca_cert</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>used</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>specify</span><span class=ws> </span><span class=c0>CA</span><span class=ws> </span><span class=c0>certificate</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>SSL.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>it</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>given,</span><span class=ws> </span><span class=c0>default</span><span class=ws> </span><span class=c0>certificates</span><span class=ws> </span><span class=c0>are</span><span class=ws> </span><span class=c0>not</span><span class=ws> </span><span class=c0>used.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>[:ssl_verify_mode]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>Synopsis:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:ssl_verify_mode=>mode</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>:ssl_verify_mode</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>used</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>specify</span><span class=ws> </span><span class=c0>openssl</span><span class=ws> </span><span class=c0>verify</span><span class=ws> </span><span class=c0>mode.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>[:ssl_min_version]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>Synopsis:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:ssl_min_version=>:TLS1_2</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>:ssl_min_version</span><span class=ws> </span><span class=c0>option</span><span class=ws> </span><span class=c0>specifies</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>minimum</span><span class=ws> </span><span class=c0>allowed</span><span class=ws> </span><span class=c0>SSL/TLS</span><span class=ws> </span><span class=c0>protocol</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>version.</span><span class=ws> </span><span class=ws> </span><span class=c0>See</span><span class=ws> </span><span class=c0>also</span><span class=ws> </span><span class=c0>OpenSSL::SSL::SSLContext#min_version=.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>[:ssl_max_version]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>Synopsis:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:ssl_max_version=>:TLS1_2</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>:ssl_max_version</span><span class=ws> </span><span class=c0>option</span><span class=ws> </span><span class=c0>specifies</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>maximum</span><span class=ws> </span><span class=c0>allowed</span><span class=ws> </span><span class=c0>SSL/TLS</span><span class=ws> </span><span class=c0>protocol</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>version.</span><span class=ws> </span><span class=ws> </span><span class=c0>See</span><span class=ws> </span><span class=c0>also</span><span class=ws> </span><span class=c0>OpenSSL::SSL::SSLContext#max_version=.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>[:ftp_active_mode]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>Synopsis:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:ftp_active_mode=>bool</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>&lt;tt>:ftp_active_mode</span><span class=ws> </span><span class=c0>=></span><span class=ws> </span><span class=c0>true&lt;/tt></span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>used</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>make</span><span class=ws> </span><span class=c0>ftp</span><span class=ws> </span><span class=c0>active</span><span class=ws> </span><span class=c0>mode.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>Ruby</span><span class=ws> </span><span class=c0>1.9</span><span class=ws> </span><span class=c0>uses</span><span class=ws> </span><span class=c0>passive</span><span class=ws> </span><span class=c0>mode</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>default.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>Note</span><span class=ws> </span><span class=c0>that</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>active</span><span class=ws> </span><span class=c0>mode</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>default</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>Ruby</span><span class=ws> </span><span class=c0>1.8</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>prior.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>[:redirect]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>Synopsis:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>:redirect=>bool</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>+:redirect+</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>true</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>default.</span><span class=ws> </span><span class=ws> </span><span class=c0>&lt;tt>:redirect</span><span class=ws> </span><span class=c0>=></span><span class=ws> </span><span class=c0>false&lt;/tt></span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>used</span><span class=ws> </span><span class=c0>to</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>disable</span><span class=ws> </span><span class=c0>all</span><span class=ws> </span><span class=c0>HTTP</span><span class=ws> </span><span class=c0>redirects.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>OpenURI::HTTPRedirect</span><span class=ws> </span><span class=c0>exception</span><span class=ws> </span><span class=c0>raised</span><span class=ws> </span><span class=c0>on</span><span class=ws> </span><span class=c0>redirection.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>Using</span><span class=ws> </span><span class=c0>+true+</span><span class=ws> </span><span class=c0>also</span><span class=ws> </span><span class=c0>means</span><span class=ws> </span><span class=c0>that</span><span class=ws> </span><span class=c0>redirections</span><span class=ws> </span><span class=c0>between</span><span class=ws> </span><span class=c0>http</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>ftp</span><span class=ws> </span><span class=c0>are</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=c0>permitted.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>open</span><span class=p0>(</span><span class=p1>*rest,</span><span class=ws> </span><span class=p1>&block</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>OpenURI</span><span class=p0>.</span><span class=p1>open_uri</span><span class=p0>(</span><span class=p1>self</span><span class=p0>,</span><span class=ws> </span><span class=p0>*</span><span class=p1>rest</span><span class=p0>,</span><span class=ws> </span><span class=p0>&</span><span class=p1>block</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>OpenURI::OpenRead#read([</span><span class=ws> </span><span class=c0>options</span><span class=ws> </span><span class=c0>])</span><span class=ws> </span><span class=c0>reads</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>content</span><span class=ws> </span><span class=c0>referenced</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>self</span><span class=ws> </span><span class=c0>and</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>returns</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>content</span><span class=ws> </span><span class=c0>as</span><span class=ws> </span><span class=c0>string.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>string</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>extended</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>OpenURI::Meta.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>argument</span><span class=ws> </span><span class=c0>+options+</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>same</span><span class=ws> </span><span class=c0>as</span><span class=ws> </span><span class=c0>OpenURI::OpenRead#open.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>read</span><span class=p0>(</span><span class=p1>options</span><span class=p0>={})</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>open</span><span class=p0>(</span><span class=p1>options</span><span class=p0>)</span><span class=ws> </span><span class=p0>{|</span><span class=p1>f</span><span class=p0>|</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>str</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>f</span><span class=p0>.</span><span class=p1>read</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Meta</span><span class=p0>.</span><span class=p1>init</span><span class=ws> </span><span class=p1>str</span><span class=p0>,</span><span class=ws> </span><span class=p1>f</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>str</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=p0>end</span>

<span class=p0>module</span><span class=ws> </span><span class=p1>URI</span>
<span class=ws> </span><span class=ws> </span><span class=p0>class</span><span class=ws> </span><span class=p1>HTTP</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>buffer_open</span><span class=p0>(</span><span class=p1>buf,</span><span class=ws> </span><span class=p1>proxy,</span><span class=ws> </span><span class=p1>options</span><span class=p0>)</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>:nodoc:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>OpenURI</span><span class=p0>.</span><span class=p1>open_http</span><span class=p0>(</span><span class=p1>buf</span><span class=p0>,</span><span class=ws> </span><span class=p1>self</span><span class=p0>,</span><span class=ws> </span><span class=p1>proxy</span><span class=p0>,</span><span class=ws> </span><span class=p1>options</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>include</span><span class=ws> </span><span class=p1>OpenURI</span><span class=p0>::</span><span class=p1>OpenRead</span>
<span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=p0>class</span><span class=ws> </span><span class=p1>FTP</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>def</span><span class=ws> </span><span class=p1>buffer_open</span><span class=p0>(</span><span class=p1>buf,</span><span class=ws> </span><span class=p1>proxy,</span><span class=ws> </span><span class=p1>options</span><span class=p0>)</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>:nodoc:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>proxy</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>OpenURI</span><span class=p0>.</span><span class=p1>open_http</span><span class=p0>(</span><span class=p1>buf</span><span class=p0>,</span><span class=ws> </span><span class=p1>self</span><span class=p0>,</span><span class=ws> </span><span class=p1>proxy</span><span class=p0>,</span><span class=ws> </span><span class=p1>options</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>begin</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>require</span><span class=ws> </span><span class=p0>'</span><span class=s1>net/ftp</span><span class=p0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>rescue</span><span class=ws> </span><span class=p1>LoadError</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>abort</span><span class=ws> </span><span class=s0>"</span><span class=s1>net/ftp</span><span class=ws> </span><span class=s1>is</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>found.</span><span class=ws> </span><span class=s1>You</span><span class=ws> </span><span class=s1>may</span><span class=ws> </span><span class=s1>need</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>`gem</span><span class=ws> </span><span class=s1>install</span><span class=ws> </span><span class=s1>net-ftp`</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>install</span><span class=ws> </span><span class=s1>net/ftp.</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>path</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>path</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>path</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>path</span><span class=p0>.</span><span class=p1>sub</span><span class=p0>(</span><span class=s0>%r{</span><span class=s1>\A/</span><span class=s0>}</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>%2F</span><span class=s0>'</span><span class=p0>)</span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>re-encode</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>beginning</span><span class=ws> </span><span class=c0>slash</span><span class=ws> </span><span class=c0>because</span><span class=ws> </span><span class=c0>uri</span><span class=ws> </span><span class=c0>library</span><span class=ws> </span><span class=c0>decodes</span><span class=ws> </span><span class=c0>it.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>directories</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>path</span><span class=p0>.</span><span class=p1>split</span><span class=p0>(</span><span class=s0>%r{</span><span class=s1>/</span><span class=s0>}</span><span class=p0>,</span><span class=ws> </span><span class=p0>-</span><span class=p1>1</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>directories</span><span class=p0>.</span><span class=p1>each</span><span class=ws> </span><span class=p0>{|</span><span class=p1>d</span><span class=p0>|</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>d</span><span class=p0>.</span><span class=p1>gsub!</span><span class=p0>(</span><span class=s0>/</span><span class=s1>%([0-9A-Fa-f][0-9A-Fa-f])</span><span class=s0>/</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>[$</span><span class=p1>1</span><span class=p0>].</span><span class=p1>pack</span><span class=p0>(</span><span class=s0>"</span><span class=s1>H2</span><span class=s0>"</span><span class=p0>)</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>unless</span><span class=ws> </span><span class=p1>filename</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>directories</span><span class=p0>.</span><span class=p1>pop</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=p1>ArgumentError</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>no</span><span class=ws> </span><span class=s1>filename:</span><span class=ws> </span><span class=p0>#{</span><span class=p1>self</span><span class=p0>.</span><span class=p1>inspect</span><span class=p0>}</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>directories</span><span class=p0>.</span><span class=p1>each</span><span class=ws> </span><span class=p0>{|</span><span class=p1>d</span><span class=p0>|</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=s0>/</span><span class=s1>[\r\n]</span><span class=s0>/</span><span class=ws> </span><span class=p0>=~</span><span class=ws> </span><span class=p1>d</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=p1>ArgumentError</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>invalid</span><span class=ws> </span><span class=s1>directory:</span><span class=ws> </span><span class=p0>#{</span><span class=p1>d</span><span class=p0>.</span><span class=p1>inspect</span><span class=p0>}</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=s0>/</span><span class=s1>[\r\n]</span><span class=s0>/</span><span class=ws> </span><span class=p0>=~</span><span class=ws> </span><span class=p1>filename</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=p1>ArgumentError</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>invalid</span><span class=ws> </span><span class=s1>filename:</span><span class=ws> </span><span class=p0>#{</span><span class=p1>filename</span><span class=p0>.</span><span class=p1>inspect</span><span class=p0>}</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>typecode</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>typecode</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>typecode</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=s0>/</span><span class=s1>\A[aid]\z</span><span class=s0>/</span><span class=ws> </span><span class=p0>!~</span><span class=ws> </span><span class=p1>typecode</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>raise</span><span class=ws> </span><span class=p1>ArgumentError</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>invalid</span><span class=ws> </span><span class=s1>typecode:</span><span class=ws> </span><span class=p0>#{</span><span class=p1>typecode</span><span class=p0>.</span><span class=p1>inspect</span><span class=p0>}</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>access</span><span class=ws> </span><span class=c0>sequence</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>defined</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>RFC</span><span class=ws> </span><span class=c0>1738</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ftp</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>Net</span><span class=p0>::</span><span class=p1>FTP</span><span class=p0>.new</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ftp</span><span class=p0>.</span><span class=p1>connect</span><span class=p0>(</span><span class=p1>self</span><span class=p0>.</span><span class=p1>hostname</span><span class=p0>,</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>port</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ftp</span><span class=p0>.</span><span class=p1>passive</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>!</span><span class=p1>options</span><span class=p0>[:</span><span class=p1>ftp_active_mode</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>todo:</span><span class=ws> </span><span class=c0>extract</span><span class=ws> </span><span class=c0>user/passwd</span><span class=ws> </span><span class=c0>from</span><span class=ws> </span><span class=c0>.netrc.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>user</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>'</span><span class=s1>anonymous</span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>passwd</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>user</span><span class=p0>,</span><span class=ws> </span><span class=p1>passwd</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>userinfo</span><span class=p0>.</span><span class=p1>split</span><span class=p0>(</span><span class=s0>/</span><span class=s1>:</span><span class=s0>/</span><span class=p0>)</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>self</span><span class=p0>.</span><span class=p1>userinfo</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ftp</span><span class=p0>.</span><span class=p1>login</span><span class=p0>(</span><span class=p1>user</span><span class=p0>,</span><span class=ws> </span><span class=p1>passwd</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>directories</span><span class=p0>.</span><span class=p1>each</span><span class=ws> </span><span class=p0>{|</span><span class=p1>cwd</span><span class=p0>|</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ftp</span><span class=p0>.</span><span class=p1>voidcmd</span><span class=p0>(</span><span class=s0>"</span><span class=s1>CWD</span><span class=ws> </span><span class=p0>#{</span><span class=p1>cwd</span><span class=p0>}</span><span class=s0>"</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>typecode</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>xxx:</span><span class=ws> </span><span class=c0>typecode</span><span class=ws> </span><span class=c0>D</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>not</span><span class=ws> </span><span class=c0>handled.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ftp</span><span class=p0>.</span><span class=p1>voidcmd</span><span class=p0>(</span><span class=s0>"</span><span class=s1>TYPE</span><span class=ws> </span><span class=p0>#{</span><span class=p1>typecode</span><span class=p0>.</span><span class=p1>upcase</span><span class=p0>}</span><span class=s0>"</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>options</span><span class=p0>[:</span><span class=p1>content_length_proc</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>options</span><span class=p0>[:</span><span class=p1>content_length_proc</span><span class=p0>].</span><span class=p1>call</span><span class=p0>(</span><span class=p1>ftp</span><span class=p0>.</span><span class=p1>size</span><span class=p0>(</span><span class=p1>filename</span><span class=p0>))</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ftp</span><span class=p0>.</span><span class=p1>retrbinary</span><span class=p0>(</span><span class=s0>"</span><span class=s1>RETR</span><span class=ws> </span><span class=p0>#{</span><span class=p1>filename</span><span class=p0>}</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p1>4096</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>|</span><span class=p1>str</span><span class=p0>|</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>buf</span><span class=ws> </span><span class=p0>&lt;&lt;</span><span class=ws> </span><span class=p1>str</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>options</span><span class=p0>[:</span><span class=p1>progress_proc</span><span class=p0>].</span><span class=p1>call</span><span class=p0>(</span><span class=p1>buf</span><span class=p0>.</span><span class=p1>size</span><span class=p0>)</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>options</span><span class=p0>[:</span><span class=p1>progress_proc</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ftp</span><span class=p0>.</span><span class=p1>close</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>buf</span><span class=p0>.</span><span class=p1>io</span><span class=p0>.</span><span class=p1>rewind</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>end</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>include</span><span class=ws> </span><span class=p1>OpenURI</span><span class=p0>::</span><span class=p1>OpenRead</span>
<span class=ws> </span><span class=ws> </span><span class=p0>end</span>
<span class=p0>end</span>
</code></pre><pre aria-labelledby=rs class=sh hidden><code><span class=p0>#![allow(clippy::self_named_module_files)]</span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>false</span><span class=ws> </span><span class=c0>positive</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>`commands/build.rs`</span>

<span class=p0>use</span><span class=ws> </span><span class=p1>cargo</span><span class=p0>::</span><span class=p1>core</span><span class=p0>::</span><span class=p1>shell</span><span class=p0>::</span><span class=p1>Shell</span><span class=p0>;</span>
<span class=p0>use</span><span class=ws> </span><span class=p1>cargo</span><span class=p0>::</span><span class=p1>util</span><span class=p0>::</span><span class=p1>network</span><span class=p0>::</span><span class=p1>http</span><span class=p0>::</span><span class=p1>http_handle</span><span class=p0>;</span>
<span class=p0>use</span><span class=ws> </span><span class=p1>cargo</span><span class=p0>::</span><span class=p1>util</span><span class=p0>::</span><span class=p1>network</span><span class=p0>::</span><span class=p1>http</span><span class=p0>::</span><span class=p1>needs_custom_http_transport</span><span class=p0>;</span>
<span class=p0>use</span><span class=ws> </span><span class=p1>cargo</span><span class=p0>::</span><span class=p1>util</span><span class=p0>::{</span><span class=p1>self</span><span class=p0>,</span><span class=ws> </span><span class=p1>closest_msg</span><span class=p0>,</span><span class=ws> </span><span class=p1>command_prelude</span><span class=p0>,</span><span class=ws> </span><span class=p1>CargoResult</span><span class=p0>};</span>
<span class=p0>use</span><span class=ws> </span><span class=p1>cargo_util</span><span class=p0>::{</span><span class=p1>ProcessBuilder</span><span class=p0>,</span><span class=ws> </span><span class=p1>ProcessError</span><span class=p0>};</span>
<span class=p0>use</span><span class=ws> </span><span class=p1>cargo_util_schemas</span><span class=p0>::</span><span class=p1>manifest</span><span class=p0>::</span><span class=p1>StringOrVec</span><span class=p0>;</span>
<span class=p0>use</span><span class=ws> </span><span class=p1>std</span><span class=p0>::</span><span class=p1>collections</span><span class=p0>::</span><span class=p1>BTreeMap</span><span class=p0>;</span>
<span class=p0>use</span><span class=ws> </span><span class=p1>std</span><span class=p0>::</span><span class=p1>env</span><span class=p0>;</span>
<span class=p0>use</span><span class=ws> </span><span class=p1>std</span><span class=p0>::</span><span class=p1>ffi</span><span class=p0>::</span><span class=p1>OsStr</span><span class=p0>;</span>
<span class=p0>use</span><span class=ws> </span><span class=p1>std</span><span class=p0>::</span><span class=p1>fs</span><span class=p0>;</span>
<span class=p0>use</span><span class=ws> </span><span class=p1>std</span><span class=p0>::</span><span class=p1>path</span><span class=p0>::{</span><span class=p1>Path</span><span class=p0>,</span><span class=ws> </span><span class=p1>PathBuf</span><span class=p0>};</span>

<span class=p0>mod</span><span class=ws> </span><span class=p1>cli</span><span class=p0>;</span>
<span class=p0>mod</span><span class=ws> </span><span class=p1>commands</span><span class=p0>;</span>

<span class=p0>use</span><span class=ws> </span><span class=p0>crate::</span><span class=p1>command_prelude</span><span class=p0>::*;</span>

<span class=p0>fn</span><span class=ws> </span><span class=p1>main</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>_guard</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>setup_logger</span><span class=p0>();</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p0>mut</span><span class=ws> </span><span class=p1>gctx</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>match</span><span class=ws> </span><span class=p1>GlobalContext</span><span class=p0>::</span><span class=p1>default</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Ok</span><span class=p0>(</span><span class=p1>gctx</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>gctx</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Err</span><span class=p0>(</span><span class=p1>e</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p0>mut</span><span class=ws> </span><span class=p1>shell</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>Shell</span><span class=p0>::</span><span class=p1>new</span><span class=p0>();</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>cargo</span><span class=p0>::</span><span class=p1>exit_with_error</span><span class=p0>(</span><span class=p1>e</span><span class=p0>.</span><span class=p1>into</span><span class=p0>(),</span><span class=ws> </span><span class=p0>&mut</span><span class=ws> </span><span class=p1>shell</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>};</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>result</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>Some</span><span class=p0>(</span><span class=p1>lock_addr</span><span class=p0>)</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>cargo</span><span class=p0>::</span><span class=p1>ops</span><span class=p0>::</span><span class=p1>fix_get_proxy_lock_addr</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>cargo</span><span class=p0>::</span><span class=p1>ops</span><span class=p0>::</span><span class=p1>fix_exec_rustc</span><span class=p0>(&</span><span class=p1>gctx</span><span class=p0>,</span><span class=ws> </span><span class=p0>&</span><span class=p1>lock_addr</span><span class=p0>).</span><span class=p1>map_err</span><span class=p0>(|</span><span class=p1>e</span><span class=p0>|</span><span class=ws> </span><span class=p1>CliError</span><span class=p0>::</span><span class=p1>from</span><span class=p0>(</span><span class=p1>e</span><span class=p0>))</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>_token</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>cargo</span><span class=p0>::</span><span class=p1>util</span><span class=p0>::</span><span class=p1>job</span><span class=p0>::</span><span class=p1>setup</span><span class=p0>();</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>cli</span><span class=p0>::</span><span class=p1>main</span><span class=p0>(&mut</span><span class=ws> </span><span class=p1>gctx</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>};</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>match</span><span class=ws> </span><span class=p1>result</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Err</span><span class=p0>(</span><span class=p1>e</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>cargo</span><span class=p0>::</span><span class=p1>exit_with_error</span><span class=p0>(</span><span class=p1>e</span><span class=p0>,</span><span class=ws> </span><span class=p0>&mut</span><span class=ws> </span><span class=p0>*</span><span class=p1>gctx</span><span class=p0>.</span><span class=p1>shell</span><span class=p0>()),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Ok</span><span class=p0>(())</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>

<span class=p0>fn</span><span class=ws> </span><span class=p1>setup_logger</span><span class=p0>()</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p1>Option</span><span class=p0>&lt;</span><span class=p1>ChromeFlushGuard</span><span class=p0>></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>use</span><span class=ws> </span><span class=p1>tracing_subscriber</span><span class=p0>::</span><span class=p1>prelude</span><span class=p0>::*;</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>env</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>tracing_subscriber</span><span class=p0>::</span><span class=p1>EnvFilter</span><span class=p0>::</span><span class=p1>from_env</span><span class=p0>(</span><span class=s0>"</span><span class=s1>CARGO_LOG</span><span class=s0>"</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>fmt_layer</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>tracing_subscriber</span><span class=p0>::</span><span class=p1>fmt</span><span class=p0>::</span><span class=p1>layer</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>.</span><span class=p1>with_timer</span><span class=p0>(</span><span class=p1>tracing_subscriber</span><span class=p0>::</span><span class=p1>fmt</span><span class=p0>::</span><span class=p1>time</span><span class=p0>::</span><span class=p1>Uptime</span><span class=p0>::</span><span class=p1>default</span><span class=p0>())</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>.</span><span class=p1>with_ansi</span><span class=p0>(</span><span class=p1>std</span><span class=p0>::</span><span class=p1>io</span><span class=p0>::</span><span class=p1>IsTerminal</span><span class=p0>::</span><span class=p1>is_terminal</span><span class=p0>(&</span><span class=p1>std</span><span class=p0>::</span><span class=p1>io</span><span class=p0>::</span><span class=p1>stderr</span><span class=p0>()))</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>.</span><span class=p1>with_writer</span><span class=p0>(</span><span class=p1>std</span><span class=p0>::</span><span class=p1>io</span><span class=p0>::</span><span class=p1>stderr</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>.</span><span class=p1>with_filter</span><span class=p0>(</span><span class=p1>env</span><span class=p0>);</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p0>(</span><span class=p1>profile_layer</span><span class=p0>,</span><span class=ws> </span><span class=p1>profile_guard</span><span class=p0>)</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>chrome_layer</span><span class=p0>();</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>registry</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>tracing_subscriber</span><span class=p0>::</span><span class=p1>registry</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>.</span><span class=p1>with</span><span class=p0>(</span><span class=p1>fmt_layer</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>.</span><span class=p1>with</span><span class=p0>(</span><span class=p1>profile_layer</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>registry</span><span class=p0>.</span><span class=p1>init</span><span class=p0>();</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>tracing</span><span class=p0>::</span><span class=p1>trace!</span><span class=p0>(</span><span class=p1>start</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>humantime</span><span class=p0>::</span><span class=p1>format_rfc3339</span><span class=p0>(</span><span class=p1>std</span><span class=p0>::</span><span class=p1>time</span><span class=p0>::</span><span class=p1>SystemTime</span><span class=p0>::</span><span class=p1>now</span><span class=p0>()).</span><span class=p1>to_string</span><span class=p0>());</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>profile_guard</span>
<span class=p0>}</span>

<span class=p0>#[cfg(target_has_atomic</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>"64"</span><span class=p0>)]</span>
<span class=p0>type</span><span class=ws> </span><span class=p1>ChromeFlushGuard</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>tracing_chrome</span><span class=p0>::</span><span class=p1>FlushGuard</span><span class=p0>;</span>
<span class=p0>#[cfg(target_has_atomic</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>"64"</span><span class=p0>)]</span>
<span class=p0>fn</span><span class=ws> </span><span class=p1>chrome_layer</span><span class=p0>&lt;</span><span class=p1>S</span><span class=p0>>()</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Option</span><span class=p0>&lt;</span><span class=p1>tracing_chrome</span><span class=p0>::</span><span class=p1>ChromeLayer</span><span class=p0>&lt;</span><span class=p1>S</span><span class=p0>>>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Option</span><span class=p0>&lt;</span><span class=p1>ChromeFlushGuard</span><span class=p0>>,</span>
<span class=p0>)</span>
<span class=p0>where</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>S</span><span class=p0>:</span><span class=ws> </span><span class=p1>tracing</span><span class=p0>::</span><span class=p1>Subscriber</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p0>for&lt;'</span><span class=p1>span</span><span class=p0>></span><span class=ws> </span><span class=p1>tracing_subscriber</span><span class=p0>::</span><span class=p1>registry</span><span class=p0>::</span><span class=p1>LookupSpan</span><span class=p0>&lt;'</span><span class=p1>span</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>Send</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>Sync</span><span class=p0>,</span>
<span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>#![allow(clippy::disallowed_methods)]</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>env_to_bool</span><span class=p0>(</span><span class=p1>std</span><span class=p0>::</span><span class=p1>env</span><span class=p0>::</span><span class=p1>var_os</span><span class=p0>(</span><span class=s0>"</span><span class=s1>CARGO_LOG_PROFILE</span><span class=s0>"</span><span class=p0>).</span><span class=p1>as_deref</span><span class=p0>())</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>capture_args</span><span class=ws> </span><span class=p0>=</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>env_to_bool</span><span class=p0>(</span><span class=p1>std</span><span class=p0>::</span><span class=p1>env</span><span class=p0>::</span><span class=p1>var_os</span><span class=p0>(</span><span class=s0>"</span><span class=s1>CARGO_LOG_PROFILE_CAPTURE_ARGS</span><span class=s0>"</span><span class=p0>).</span><span class=p1>as_deref</span><span class=p0>());</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p0>(</span><span class=p1>layer</span><span class=p0>,</span><span class=ws> </span><span class=p1>guard</span><span class=p0>)</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>tracing_chrome</span><span class=p0>::</span><span class=p1>ChromeLayerBuilder</span><span class=p0>::</span><span class=p1>new</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>.</span><span class=p1>include_args</span><span class=p0>(</span><span class=p1>capture_args</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>.</span><span class=p1>build</span><span class=p0>();</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>(</span><span class=p1>Some</span><span class=p0>(</span><span class=p1>layer</span><span class=p0>),</span><span class=ws> </span><span class=p1>Some</span><span class=p0>(</span><span class=p1>guard</span><span class=p0>))</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>(</span><span class=p1>None</span><span class=p0>,</span><span class=ws> </span><span class=p1>None</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>

<span class=p0>#[cfg(not(target_has_atomic</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>"64"</span><span class=p0>))]</span>
<span class=p0>type</span><span class=ws> </span><span class=p1>ChromeFlushGuard</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>();</span>
<span class=p0>#[cfg(not(target_has_atomic</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>"64"</span><span class=p0>))]</span>
<span class=p0>fn</span><span class=ws> </span><span class=p1>chrome_layer</span><span class=p0>()</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Option</span><span class=p0>&lt;</span><span class=p1>tracing_subscriber</span><span class=p0>::</span><span class=p1>layer</span><span class=p0>::</span><span class=p1>Identity</span><span class=p0>>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Option</span><span class=p0>&lt;</span><span class=p1>ChromeFlushGuard</span><span class=p0>>,</span>
<span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>(</span><span class=p1>None</span><span class=p0>,</span><span class=ws> </span><span class=p1>None</span><span class=p0>)</span>
<span class=p0>}</span>

<span class=p0>#[cfg(target_has_atomic</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>"64"</span><span class=p0>)]</span>
<span class=p0>fn</span><span class=ws> </span><span class=p1>env_to_bool</span><span class=p0>(</span><span class=p1>os</span><span class=p0>:</span><span class=ws> </span><span class=p1>Option</span><span class=p0>&lt;&</span><span class=p1>OsStr</span><span class=p0>>)</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p0>bool</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>match</span><span class=ws> </span><span class=p1>os</span><span class=p0>.</span><span class=p1>and_then</span><span class=p0>(|</span><span class=p1>os</span><span class=p0>|</span><span class=ws> </span><span class=p1>os</span><span class=p0>.</span><span class=p1>to_str</span><span class=p0>())</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Some</span><span class=p0>(</span><span class=s0>"</span><span class=s1>1</span><span class=s0>"</span><span class=p0>)</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p1>Some</span><span class=p0>(</span><span class=s0>"</span><span class=s1>true</span><span class=s0>"</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>true</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>_</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>///</span><span class=ws> </span><span class=c0>Table</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>defining</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>aliases</span><span class=ws> </span><span class=c0>which</span><span class=ws> </span><span class=c0>come</span><span class=ws> </span><span class=c0>builtin</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>`Cargo`.</span>
<span class=c0>///</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>contents</span><span class=ws> </span><span class=c0>are</span><span class=ws> </span><span class=c0>structured</span><span class=ws> </span><span class=c0>as:</span><span class=ws> </span><span class=c0>`(alias,</span><span class=ws> </span><span class=c0>aliased_command,</span><span class=ws> </span><span class=c0>description)`.</span>
<span class=p0>const</span><span class=ws> </span><span class=p1>BUILTIN_ALIASES</span><span class=p0>:</span><span class=ws> </span><span class=p0>[(&str,</span><span class=ws> </span><span class=p0>&str,</span><span class=ws> </span><span class=p0>&str);</span><span class=ws> </span><span class=p1>6</span><span class=p0>]</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>(</span><span class=s0>"</span><span class=s1>b</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>build</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>alias:</span><span class=ws> </span><span class=s1>build</span><span class=s0>"</span><span class=p0>),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>(</span><span class=s0>"</span><span class=s1>c</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>check</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>alias:</span><span class=ws> </span><span class=s1>check</span><span class=s0>"</span><span class=p0>),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>(</span><span class=s0>"</span><span class=s1>d</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>doc</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>alias:</span><span class=ws> </span><span class=s1>doc</span><span class=s0>"</span><span class=p0>),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>(</span><span class=s0>"</span><span class=s1>r</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>run</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>alias:</span><span class=ws> </span><span class=s1>run</span><span class=s0>"</span><span class=p0>),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>(</span><span class=s0>"</span><span class=s1>t</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>test</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>alias:</span><span class=ws> </span><span class=s1>test</span><span class=s0>"</span><span class=p0>),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>(</span><span class=s0>"</span><span class=s1>rm</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>remove</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>alias:</span><span class=ws> </span><span class=s1>remove</span><span class=s0>"</span><span class=p0>),</span>
<span class=p0>];</span>

<span class=c0>///</span><span class=ws> </span><span class=c0>Function</span><span class=ws> </span><span class=c0>which</span><span class=ws> </span><span class=c0>contains</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>list</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>all</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>builtin</span><span class=ws> </span><span class=c0>aliases</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>it's</span>
<span class=c0>///</span><span class=ws> </span><span class=c0>corresponding</span><span class=ws> </span><span class=c0>execs</span><span class=ws> </span><span class=c0>represented</span><span class=ws> </span><span class=c0>as</span><span class=ws> </span><span class=c0>&str.</span>
<span class=p0>fn</span><span class=ws> </span><span class=p1>builtin_aliases_execs</span><span class=p0>(</span><span class=p1>cmd</span><span class=p0>:</span><span class=ws> </span><span class=p0>&str)</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p1>Option</span><span class=p0>&lt;&(&str,</span><span class=ws> </span><span class=p0>&str,</span><span class=ws> </span><span class=p0>&str)></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>BUILTIN_ALIASES</span><span class=p0>.</span><span class=p1>iter</span><span class=p0>().</span><span class=p1>find</span><span class=p0>(|</span><span class=p1>alias</span><span class=p0>|</span><span class=ws> </span><span class=p1>alias</span><span class=p0>.</span><span class=p1>0</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=p1>cmd</span><span class=p0>)</span>
<span class=p0>}</span>

<span class=c0>///</span><span class=ws> </span><span class=c0>Resolve</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>aliased</span><span class=ws> </span><span class=c0>command</span><span class=ws> </span><span class=c0>from</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>[`GlobalContext`]</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>given</span><span class=ws> </span><span class=c0>command</span><span class=ws> </span><span class=c0>string.</span>
<span class=c0>///</span>
<span class=c0>///</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>search</span><span class=ws> </span><span class=c0>fallback</span><span class=ws> </span><span class=c0>chain</span><span class=ws> </span><span class=c0>is:</span>
<span class=c0>///</span>
<span class=c0>///</span><span class=ws> </span><span class=c0>1.</span><span class=ws> </span><span class=c0>Get</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>aliased</span><span class=ws> </span><span class=c0>command</span><span class=ws> </span><span class=c0>as</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>string.</span>
<span class=c0>///</span><span class=ws> </span><span class=c0>2.</span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>an</span><span class=ws> </span><span class=c0>`Err`</span><span class=ws> </span><span class=c0>occurs</span><span class=ws> </span><span class=c0>(missing</span><span class=ws> </span><span class=c0>key,</span><span class=ws> </span><span class=c0>type</span><span class=ws> </span><span class=c0>mismatch,</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>any</span><span class=ws> </span><span class=c0>possible</span><span class=ws> </span><span class=c0>error),</span>
<span class=c0>///</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>try</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>get</span><span class=ws> </span><span class=c0>it</span><span class=ws> </span><span class=c0>as</span><span class=ws> </span><span class=c0>an</span><span class=ws> </span><span class=c0>array</span><span class=ws> </span><span class=c0>again.</span>
<span class=c0>///</span><span class=ws> </span><span class=c0>3.</span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>still</span><span class=ws> </span><span class=c0>cannot</span><span class=ws> </span><span class=c0>find</span><span class=ws> </span><span class=c0>any,</span><span class=ws> </span><span class=c0>finds</span><span class=ws> </span><span class=c0>one</span><span class=ws> </span><span class=c0>insides</span><span class=ws> </span><span class=c0>[`BUILTIN_ALIASES`].</span>
<span class=p0>fn</span><span class=ws> </span><span class=p1>aliased_command</span><span class=p0>(</span><span class=p1>gctx</span><span class=p0>:</span><span class=ws> </span><span class=p0>&</span><span class=p1>GlobalContext</span><span class=p0>,</span><span class=ws> </span><span class=p1>command</span><span class=p0>:</span><span class=ws> </span><span class=p0>&str)</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p1>CargoResult</span><span class=p0>&lt;</span><span class=p1>Option</span><span class=p0>&lt;</span><span class=p1>Vec</span><span class=p0>&lt;</span><span class=p1>String</span><span class=p0>>>></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>alias_name</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>format!</span><span class=p0>(</span><span class=s0>"</span><span class=s1>alias.</span><span class=p0>{}</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p1>command</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>user_alias</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>match</span><span class=ws> </span><span class=p1>gctx</span><span class=p0>.</span><span class=p1>get_string</span><span class=p0>(&</span><span class=p1>alias_name</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Ok</span><span class=p0>(</span><span class=p1>Some</span><span class=p0>(</span><span class=p1>record</span><span class=p0>))</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>Some</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>record</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>.</span><span class=p1>val</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>.</span><span class=p1>split_whitespace</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>.</span><span class=p1>map</span><span class=p0>(|</span><span class=p1>s</span><span class=p0>|</span><span class=ws> </span><span class=p1>s</span><span class=p0>.</span><span class=p1>to_string</span><span class=p0>())</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>.</span><span class=p1>collect</span><span class=p0>(),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Ok</span><span class=p0>(</span><span class=p1>None</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>None</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Err</span><span class=p0>(</span><span class=p1>_</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>gctx</span><span class=p0>.</span><span class=p1>get</span><span class=p0>::&lt;</span><span class=p1>Option</span><span class=p0>&lt;</span><span class=p1>Vec</span><span class=p0>&lt;</span><span class=p1>String</span><span class=p0>>>>(&</span><span class=p1>alias_name</span><span class=p0>)?,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>};</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>result</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>user_alias</span><span class=p0>.</span><span class=p1>or_else</span><span class=p0>(||</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>builtin_aliases_execs</span><span class=p0>(</span><span class=p1>command</span><span class=p0>).</span><span class=p1>map</span><span class=p0>(|</span><span class=p1>command_str</span><span class=p0>|</span><span class=ws> </span><span class=p1>vec!</span><span class=p0>[</span><span class=p1>command_str</span><span class=p0>.</span><span class=p1>1</span><span class=p0>.</span><span class=p1>to_string</span><span class=p0>()])</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>});</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Ok</span><span class=p0>(</span><span class=p1>result</span><span class=p0>)</span>
<span class=p0>}</span>

<span class=c0>///</span><span class=ws> </span><span class=c0>List</span><span class=ws> </span><span class=c0>all</span><span class=ws> </span><span class=c0>runnable</span><span class=ws> </span><span class=c0>commands</span>
<span class=p0>fn</span><span class=ws> </span><span class=p1>list_commands</span><span class=p0>(</span><span class=p1>gctx</span><span class=p0>:</span><span class=ws> </span><span class=p0>&</span><span class=p1>GlobalContext</span><span class=p0>)</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p1>BTreeMap</span><span class=p0>&lt;</span><span class=p1>String</span><span class=p0>,</span><span class=ws> </span><span class=p1>CommandInfo</span><span class=p0>></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>prefix</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>cargo-</span><span class=s0>"</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>suffix</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>env</span><span class=p0>::</span><span class=p1>consts</span><span class=p0>::</span><span class=p1>EXE_SUFFIX</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p0>mut</span><span class=ws> </span><span class=p1>commands</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>BTreeMap</span><span class=p0>::</span><span class=p1>new</span><span class=p0>();</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>dir</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>search_directories</span><span class=p0>(</span><span class=p1>gctx</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>entries</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>match</span><span class=ws> </span><span class=p1>fs</span><span class=p0>::</span><span class=p1>read_dir</span><span class=p0>(</span><span class=p1>dir</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Ok</span><span class=p0>(</span><span class=p1>entries</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>entries</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>_</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>continue,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>};</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>entry</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>entries</span><span class=p0>.</span><span class=p1>filter_map</span><span class=p0>(|</span><span class=p1>e</span><span class=p0>|</span><span class=ws> </span><span class=p1>e</span><span class=p0>.</span><span class=p1>ok</span><span class=p0>())</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>path</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>entry</span><span class=p0>.</span><span class=p1>path</span><span class=p0>();</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>Some</span><span class=p0>(</span><span class=p1>filename</span><span class=p0>)</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>path</span><span class=p0>.</span><span class=p1>file_name</span><span class=p0>().</span><span class=p1>and_then</span><span class=p0>(|</span><span class=p1>s</span><span class=p0>|</span><span class=ws> </span><span class=p1>s</span><span class=p0>.</span><span class=p1>to_str</span><span class=p0>())</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>continue;</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>};</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>Some</span><span class=p0>(</span><span class=p1>name</span><span class=p0>)</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>filename</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>.</span><span class=p1>strip_prefix</span><span class=p0>(</span><span class=p1>prefix</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>.</span><span class=p1>and_then</span><span class=p0>(|</span><span class=p1>s</span><span class=p0>|</span><span class=ws> </span><span class=p1>s</span><span class=p0>.</span><span class=p1>strip_suffix</span><span class=p0>(</span><span class=p1>suffix</span><span class=p0>))</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>continue;</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>};</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>is_executable</span><span class=p0>(</span><span class=p1>entry</span><span class=p0>.</span><span class=p1>path</span><span class=p0>())</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>commands</span><span class=p0>.</span><span class=p1>insert</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>name</span><span class=p0>.</span><span class=p1>to_string</span><span class=p0>(),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>CommandInfo</span><span class=p0>::</span><span class=p1>External</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>path</span><span class=p0>:</span><span class=ws> </span><span class=p1>path</span><span class=p0>.</span><span class=p1>clone</span><span class=p0>()</span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>cmd</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>commands</span><span class=p0>::</span><span class=p1>builtin</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>commands</span><span class=p0>.</span><span class=p1>insert</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>cmd</span><span class=p0>.</span><span class=p1>get_name</span><span class=p0>().</span><span class=p1>to_string</span><span class=p0>(),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>CommandInfo</span><span class=p0>::</span><span class=p1>BuiltIn</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>about</span><span class=p0>:</span><span class=ws> </span><span class=p1>cmd</span><span class=p0>.</span><span class=p1>get_about</span><span class=p0>().</span><span class=p1>map</span><span class=p0>(|</span><span class=p1>s</span><span class=p0>|</span><span class=ws> </span><span class=p1>s</span><span class=p0>.</span><span class=p1>to_string</span><span class=p0>()),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>Add</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>builtin_aliases</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>them</span><span class=ws> </span><span class=c0>descriptions</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>the</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>`commands`</span><span class=ws> </span><span class=c0>`BTreeMap`.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>command</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p0>&</span><span class=p1>BUILTIN_ALIASES</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>commands</span><span class=p0>.</span><span class=p1>insert</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>command</span><span class=p0>.</span><span class=p1>0</span><span class=p0>.</span><span class=p1>to_string</span><span class=p0>(),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>CommandInfo</span><span class=p0>::</span><span class=p1>BuiltIn</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>about</span><span class=p0>:</span><span class=ws> </span><span class=p1>Some</span><span class=p0>(</span><span class=p1>command</span><span class=p0>.</span><span class=p1>2</span><span class=p0>.</span><span class=p1>to_string</span><span class=p0>()),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>Add</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>user-defined</span><span class=ws> </span><span class=c0>aliases</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>Ok</span><span class=p0>(</span><span class=p1>aliases</span><span class=p0>)</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>gctx</span><span class=p0>.</span><span class=p1>get</span><span class=p0>::&lt;</span><span class=p1>BTreeMap</span><span class=p0>&lt;</span><span class=p1>String</span><span class=p0>,</span><span class=ws> </span><span class=p1>StringOrVec</span><span class=p0>>>(</span><span class=s0>"</span><span class=s1>alias</span><span class=s0>"</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p0>(</span><span class=p1>name</span><span class=p0>,</span><span class=ws> </span><span class=p1>target</span><span class=p0>)</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>aliases</span><span class=p0>.</span><span class=p1>iter</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>commands</span><span class=p0>.</span><span class=p1>insert</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>name</span><span class=p0>.</span><span class=p1>to_string</span><span class=p0>(),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>CommandInfo</span><span class=p0>::</span><span class=p1>Alias</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>target</span><span class=p0>:</span><span class=ws> </span><span class=p1>target</span><span class=p0>.</span><span class=p1>clone</span><span class=p0>(),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>`help`</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>special,</span><span class=ws> </span><span class=c0>so</span><span class=ws> </span><span class=c0>it</span><span class=ws> </span><span class=c0>needs</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>inserted</span><span class=ws> </span><span class=c0>separately.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>commands</span><span class=p0>.</span><span class=p1>insert</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>help</span><span class=s0>"</span><span class=p0>.</span><span class=p1>to_string</span><span class=p0>(),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>CommandInfo</span><span class=p0>::</span><span class=p1>BuiltIn</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>about</span><span class=p0>:</span><span class=ws> </span><span class=p1>Some</span><span class=p0>(</span><span class=s0>"</span><span class=s1>Displays</span><span class=ws> </span><span class=s1>help</span><span class=ws> </span><span class=s1>for</span><span class=ws> </span><span class=s1>a</span><span class=ws> </span><span class=s1>cargo</span><span class=ws> </span><span class=s1>subcommand</span><span class=s0>"</span><span class=p0>.</span><span class=p1>to_string</span><span class=p0>()),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>);</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>commands</span>
<span class=p0>}</span>

<span class=p0>fn</span><span class=ws> </span><span class=p1>find_external_subcommand</span><span class=p0>(</span><span class=p1>gctx</span><span class=p0>:</span><span class=ws> </span><span class=p0>&</span><span class=p1>GlobalContext</span><span class=p0>,</span><span class=ws> </span><span class=p1>cmd</span><span class=p0>:</span><span class=ws> </span><span class=p0>&str)</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p1>Option</span><span class=p0>&lt;</span><span class=p1>PathBuf</span><span class=p0>></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>command_exe</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>format!</span><span class=p0>(</span><span class=s0>"</span><span class=s1>cargo-</span><span class=p0>{}{}</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p1>cmd</span><span class=p0>,</span><span class=ws> </span><span class=p1>env</span><span class=p0>::</span><span class=p1>consts</span><span class=p0>::</span><span class=p1>EXE_SUFFIX</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>search_directories</span><span class=p0>(</span><span class=p1>gctx</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>.</span><span class=p1>iter</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>.</span><span class=p1>map</span><span class=p0>(|</span><span class=p1>dir</span><span class=p0>|</span><span class=ws> </span><span class=p1>dir</span><span class=p0>.</span><span class=p1>join</span><span class=p0>(&</span><span class=p1>command_exe</span><span class=p0>))</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>.</span><span class=p1>find</span><span class=p0>(|</span><span class=p1>file</span><span class=p0>|</span><span class=ws> </span><span class=p1>is_executable</span><span class=p0>(</span><span class=p1>file</span><span class=p0>))</span>
<span class=p0>}</span>

<span class=p0>fn</span><span class=ws> </span><span class=p1>execute_external_subcommand</span><span class=p0>(</span><span class=p1>gctx</span><span class=p0>:</span><span class=ws> </span><span class=p0>&</span><span class=p1>GlobalContext</span><span class=p0>,</span><span class=ws> </span><span class=p1>cmd</span><span class=p0>:</span><span class=ws> </span><span class=p0>&str,</span><span class=ws> </span><span class=p1>args</span><span class=p0>:</span><span class=ws> </span><span class=p0>&[&</span><span class=p1>OsStr</span><span class=p0>])</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p1>CliResult</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>path</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>find_external_subcommand</span><span class=p0>(</span><span class=p1>gctx</span><span class=p0>,</span><span class=ws> </span><span class=p1>cmd</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>command</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>match</span><span class=ws> </span><span class=p1>path</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Some</span><span class=p0>(</span><span class=p1>command</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>command</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>None</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>script_suggestion</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>gctx</span><span class=p0>.</span><span class=p1>cli_unstable</span><span class=p0>().</span><span class=p1>script</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p1>std</span><span class=p0>::</span><span class=p1>path</span><span class=p0>::</span><span class=p1>Path</span><span class=p0>::</span><span class=p1>new</span><span class=p0>(</span><span class=p1>cmd</span><span class=p0>).</span><span class=p1>is_file</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>sep</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>std</span><span class=p0>::</span><span class=p1>path</span><span class=p0>::</span><span class=p1>MAIN_SEPARATOR</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>format!</span><span class=p0>(</span><span class=s0>"</span><span class=s1>\n\tTo</span><span class=ws> </span><span class=s1>run</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>file</span><span class=ws> </span><span class=s1>`</span><span class=p0>{</span><span class=p1>cmd</span><span class=p0>}</span><span class=s1>`,</span><span class=ws> </span><span class=s1>provide</span><span class=ws> </span><span class=s1>a</span><span class=ws> </span><span class=s1>relative</span><span class=ws> </span><span class=s1>path</span><span class=ws> </span><span class=s1>like</span><span class=ws> </span><span class=s1>`.</span><span class=p0>{</span><span class=p1>sep</span><span class=p0>}{</span><span class=p1>cmd</span><span class=p0>}</span><span class=s1>`</span><span class=s0>"</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>""</span><span class=p0>.</span><span class=p1>to_owned</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>};</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>cmd</span><span class=p0>.</span><span class=p1>starts_with</span><span class=p0>(</span><span class=s0>'</span><span class=s1>+</span><span class=s0>'</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>anyhow</span><span class=p0>::</span><span class=p1>format_err!</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>no</span><span class=ws> </span><span class=s1>such</span><span class=ws> </span><span class=s1>command:</span><span class=ws> </span><span class=s1>`</span><span class=p0>{</span><span class=p1>cmd</span><span class=p0>}</span><span class=s1>`\n\n\t\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>Cargo</span><span class=ws> </span><span class=s1>does</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>handle</span><span class=ws> </span><span class=s1>`+toolchain`</span><span class=ws> </span><span class=s1>directives.\n\t\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>Did</span><span class=ws> </span><span class=s1>you</span><span class=ws> </span><span class=s1>mean</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>invoke</span><span class=ws> </span><span class=s1>`cargo`</span><span class=ws> </span><span class=s1>through</span><span class=ws> </span><span class=s1>`rustup`</span><span class=ws> </span><span class=s1>instead?</span><span class=p0>{</span><span class=p1>script_suggestion</span><span class=p0>}</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>suggestions</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>list_commands</span><span class=p0>(</span><span class=p1>gctx</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>did_you_mean</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>closest_msg</span><span class=p0>(</span><span class=p1>cmd</span><span class=p0>,</span><span class=ws> </span><span class=p1>suggestions</span><span class=p0>.</span><span class=p1>keys</span><span class=p0>(),</span><span class=ws> </span><span class=p0>|</span><span class=p1>c</span><span class=p0>|</span><span class=ws> </span><span class=p1>c</span><span class=p0>);</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>anyhow</span><span class=p0>::</span><span class=p1>format_err!</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>no</span><span class=ws> </span><span class=s1>such</span><span class=ws> </span><span class=s1>command:</span><span class=ws> </span><span class=s1>`</span><span class=p0>{</span><span class=p1>cmd</span><span class=p0>}</span><span class=s1>`</span><span class=p0>{</span><span class=p1>did_you_mean</span><span class=p0>}</span><span class=s1>\n\n\t\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>View</span><span class=ws> </span><span class=s1>all</span><span class=ws> </span><span class=s1>installed</span><span class=ws> </span><span class=s1>commands</span><span class=ws> </span><span class=s1>with</span><span class=ws> </span><span class=s1>`cargo</span><span class=ws> </span><span class=s1>--list`\n\t\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>Find</span><span class=ws> </span><span class=s1>a</span><span class=ws> </span><span class=s1>package</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>install</span><span class=ws> </span><span class=s1>`</span><span class=p0>{</span><span class=p1>cmd</span><span class=p0>}</span><span class=s1>`</span><span class=ws> </span><span class=s1>with</span><span class=ws> </span><span class=s1>`cargo</span><span class=ws> </span><span class=s1>search</span><span class=ws> </span><span class=s1>cargo-</span><span class=p0>{</span><span class=p1>cmd</span><span class=p0>}</span><span class=s1>`</span><span class=p0>{</span><span class=p1>script_suggestion</span><span class=p0>}</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>};</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>Err</span><span class=p0>(</span><span class=p1>CliError</span><span class=p0>::</span><span class=p1>new</span><span class=p0>(</span><span class=p1>err</span><span class=p0>,</span><span class=ws> </span><span class=p1>101</span><span class=p0>));</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>};</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>execute_subcommand</span><span class=p0>(</span><span class=p1>gctx</span><span class=p0>,</span><span class=ws> </span><span class=p1>Some</span><span class=p0>(&</span><span class=p1>command</span><span class=p0>),</span><span class=ws> </span><span class=p1>args</span><span class=p0>)</span>
<span class=p0>}</span>

<span class=p0>fn</span><span class=ws> </span><span class=p1>execute_internal_subcommand</span><span class=p0>(</span><span class=p1>gctx</span><span class=p0>:</span><span class=ws> </span><span class=p0>&</span><span class=p1>GlobalContext</span><span class=p0>,</span><span class=ws> </span><span class=p1>args</span><span class=p0>:</span><span class=ws> </span><span class=p0>&[&</span><span class=p1>OsStr</span><span class=p0>])</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p1>CliResult</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>execute_subcommand</span><span class=p0>(</span><span class=p1>gctx</span><span class=p0>,</span><span class=ws> </span><span class=p1>None</span><span class=p0>,</span><span class=ws> </span><span class=p1>args</span><span class=p0>)</span>
<span class=p0>}</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>This</span><span class=ws> </span><span class=c0>function</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>used</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>execute</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>subcommand.</span><span class=ws> </span><span class=c0>It</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>used</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>execute</span><span class=ws> </span><span class=c0>both</span>
<span class=c0>//</span><span class=ws> </span><span class=c0>internal</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>external</span><span class=ws> </span><span class=c0>subcommands.</span>
<span class=c0>//</span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>`cmd_path`</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>`None`,</span><span class=ws> </span><span class=c0>then</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>subcommand</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>an</span><span class=ws> </span><span class=c0>internal</span><span class=ws> </span><span class=c0>subcommand.</span>
<span class=p0>fn</span><span class=ws> </span><span class=p1>execute_subcommand</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>gctx</span><span class=p0>:</span><span class=ws> </span><span class=p0>&</span><span class=p1>GlobalContext</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>cmd_path</span><span class=p0>:</span><span class=ws> </span><span class=p1>Option</span><span class=p0>&lt;&</span><span class=p1>PathBuf</span><span class=p0>>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>args</span><span class=p0>:</span><span class=ws> </span><span class=p0>&[&</span><span class=p1>OsStr</span><span class=p0>],</span>
<span class=p0>)</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p1>CliResult</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>cargo_exe</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>gctx</span><span class=p0>.</span><span class=p1>cargo_exe</span><span class=p0>()?;</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p0>mut</span><span class=ws> </span><span class=p1>cmd</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>match</span><span class=ws> </span><span class=p1>cmd_path</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Some</span><span class=p0>(</span><span class=p1>cmd_path</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>ProcessBuilder</span><span class=p0>::</span><span class=p1>new</span><span class=p0>(</span><span class=p1>cmd_path</span><span class=p0>),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>None</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>ProcessBuilder</span><span class=p0>::</span><span class=p1>new</span><span class=p0>(&</span><span class=p1>cargo_exe</span><span class=p0>),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>};</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>cmd</span><span class=p0>.</span><span class=p1>env</span><span class=p0>(</span><span class=p1>cargo</span><span class=p0>::</span><span class=p1>CARGO_ENV</span><span class=p0>,</span><span class=ws> </span><span class=p1>cargo_exe</span><span class=p0>).</span><span class=p1>args</span><span class=p0>(</span><span class=p1>args</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>Some</span><span class=p0>(</span><span class=p1>client</span><span class=p0>)</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>gctx</span><span class=p0>.</span><span class=p1>jobserver_from_env</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>cmd</span><span class=p0>.</span><span class=p1>inherit_jobserver</span><span class=p0>(</span><span class=p1>client</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>err</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>match</span><span class=ws> </span><span class=p1>cmd</span><span class=p0>.</span><span class=p1>exec_replace</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Ok</span><span class=p0>(())</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>Ok</span><span class=p0>(()),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Err</span><span class=p0>(</span><span class=p1>e</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>e</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>};</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>Some</span><span class=p0>(</span><span class=p1>perr</span><span class=p0>)</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>err</span><span class=p0>.</span><span class=p1>downcast_ref</span><span class=p0>::&lt;</span><span class=p1>ProcessError</span><span class=p0>>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>Some</span><span class=p0>(</span><span class=p1>code</span><span class=p0>)</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>perr</span><span class=p0>.</span><span class=p1>code</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>Err</span><span class=p0>(</span><span class=p1>CliError</span><span class=p0>::</span><span class=p1>code</span><span class=p0>(</span><span class=p1>code</span><span class=p0>));</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Err</span><span class=p0>(</span><span class=p1>CliError</span><span class=p0>::</span><span class=p1>new</span><span class=p0>(</span><span class=p1>err</span><span class=p0>,</span><span class=ws> </span><span class=p1>101</span><span class=p0>))</span>
<span class=p0>}</span>

<span class=p0>#[cfg(unix)]</span>
<span class=p0>fn</span><span class=ws> </span><span class=p1>is_executable</span><span class=p0>&lt;</span><span class=p1>P</span><span class=p0>:</span><span class=ws> </span><span class=p1>AsRef</span><span class=p0>&lt;</span><span class=p1>Path</span><span class=p0>>>(</span><span class=p1>path</span><span class=p0>:</span><span class=ws> </span><span class=p1>P</span><span class=p0>)</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p0>bool</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>use</span><span class=ws> </span><span class=p1>std</span><span class=p0>::</span><span class=p1>os</span><span class=p0>::</span><span class=p1>unix</span><span class=p0>::</span><span class=p1>prelude</span><span class=p0>::*;</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>fs</span><span class=p0>::</span><span class=p1>metadata</span><span class=p0>(</span><span class=p1>path</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>.</span><span class=p1>map</span><span class=p0>(|</span><span class=p1>metadata</span><span class=p0>|</span><span class=ws> </span><span class=p1>metadata</span><span class=p0>.</span><span class=p1>is_file</span><span class=p0>()</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p1>metadata</span><span class=p0>.</span><span class=p1>permissions</span><span class=p0>().</span><span class=p1>mode</span><span class=p0>()</span><span class=ws> </span><span class=p0>&</span><span class=ws> </span><span class=p1>0o111</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>0</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>.</span><span class=p1>unwrap_or</span><span class=p0>(</span><span class=p1>false</span><span class=p0>)</span>
<span class=p0>}</span>
<span class=p0>#[cfg(windows)]</span>
<span class=p0>fn</span><span class=ws> </span><span class=p1>is_executable</span><span class=p0>&lt;</span><span class=p1>P</span><span class=p0>:</span><span class=ws> </span><span class=p1>AsRef</span><span class=p0>&lt;</span><span class=p1>Path</span><span class=p0>>>(</span><span class=p1>path</span><span class=p0>:</span><span class=ws> </span><span class=p1>P</span><span class=p0>)</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p0>bool</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>path</span><span class=p0>.</span><span class=p1>as_ref</span><span class=p0>().</span><span class=p1>is_file</span><span class=p0>()</span>
<span class=p0>}</span>

<span class=p0>fn</span><span class=ws> </span><span class=p1>search_directories</span><span class=p0>(</span><span class=p1>gctx</span><span class=p0>:</span><span class=ws> </span><span class=p0>&</span><span class=p1>GlobalContext</span><span class=p0>)</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p1>Vec</span><span class=p0>&lt;</span><span class=p1>PathBuf</span><span class=p0>></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p0>mut</span><span class=ws> </span><span class=p1>path_dirs</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>Some</span><span class=p0>(</span><span class=p1>val</span><span class=p0>)</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>gctx</span><span class=p0>.</span><span class=p1>get_env_os</span><span class=p0>(</span><span class=s0>"</span><span class=s1>PATH</span><span class=s0>"</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>env</span><span class=p0>::</span><span class=p1>split_paths</span><span class=p0>(&</span><span class=p1>val</span><span class=p0>).</span><span class=p1>collect</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>vec!</span><span class=p0>[]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>};</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>home_bin</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>gctx</span><span class=p0>.</span><span class=p1>home</span><span class=p0>().</span><span class=p1>clone</span><span class=p0>().</span><span class=p1>into_path_unlocked</span><span class=p0>().</span><span class=p1>join</span><span class=p0>(</span><span class=s0>"</span><span class=s1>bin</span><span class=s0>"</span><span class=p0>);</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>any</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>that</span><span class=ws> </span><span class=c0>PATH</span><span class=ws> </span><span class=c0>elements</span><span class=ws> </span><span class=c0>contains</span><span class=ws> </span><span class=c0>`home_bin`,</span><span class=ws> </span><span class=c0>do</span><span class=ws> </span><span class=c0>not</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>add</span><span class=ws> </span><span class=c0>it</span><span class=ws> </span><span class=c0>again.</span><span class=ws> </span><span class=c0>This</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>so</span><span class=ws> </span><span class=c0>that</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>users</span><span class=ws> </span><span class=c0>can</span><span class=ws> </span><span class=c0>control</span><span class=ws> </span><span class=c0>priority</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>it</span><span class=ws> </span><span class=c0>using</span><span class=ws> </span><span class=c0>PATH,</span><span class=ws> </span><span class=c0>while</span><span class=ws> </span><span class=c0>preserving</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>historical</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>behavior</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>preferring</span><span class=ws> </span><span class=c0>it</span><span class=ws> </span><span class=c0>over</span><span class=ws> </span><span class=c0>system</span><span class=ws> </span><span class=c0>global</span><span class=ws> </span><span class=c0>directories</span><span class=ws> </span><span class=c0>even</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>when</span><span class=ws> </span><span class=c0>not</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>PATH</span><span class=ws> </span><span class=c0>at</span><span class=ws> </span><span class=c0>all.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>See</span><span class=ws> </span><span class=c0>https://github.com/rust-lang/cargo/issues/11020</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>details.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>Note:</span><span class=ws> </span><span class=c0>`p</span><span class=ws> </span><span class=c0>==</span><span class=ws> </span><span class=c0>home_bin`</span><span class=ws> </span><span class=c0>will</span><span class=ws> </span><span class=c0>ignore</span><span class=ws> </span><span class=c0>trailing</span><span class=ws> </span><span class=c0>slash,</span><span class=ws> </span><span class=c0>but</span><span class=ws> </span><span class=c0>we</span><span class=ws> </span><span class=c0>don't</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>`canonicalize`</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>paths.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>!</span><span class=p1>path_dirs</span><span class=p0>.</span><span class=p1>iter</span><span class=p0>().</span><span class=p1>any</span><span class=p0>(|</span><span class=p1>p</span><span class=p0>|</span><span class=ws> </span><span class=p1>p</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=p0>&</span><span class=p1>home_bin</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>path_dirs</span><span class=p0>.</span><span class=p1>insert</span><span class=p0>(</span><span class=p1>0</span><span class=p0>,</span><span class=ws> </span><span class=p1>home_bin</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>};</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>path_dirs</span>
<span class=p0>}</span>

<span class=c0>///</span><span class=ws> </span><span class=c0>Initialize</span><span class=ws> </span><span class=c0>libgit2.</span>
<span class=p0>#[tracing::instrument(skip_all)]</span>
<span class=p0>fn</span><span class=ws> </span><span class=p1>init_git</span><span class=p0>(</span><span class=p1>gctx</span><span class=p0>:</span><span class=ws> </span><span class=p0>&</span><span class=p1>GlobalContext</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>Disabling</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>owner</span><span class=ws> </span><span class=c0>validation</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>git</span><span class=ws> </span><span class=c0>can,</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>theory,</span><span class=ws> </span><span class=c0>lead</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>code</span><span class=ws> </span><span class=c0>execution</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>vulnerabilities.</span><span class=ws> </span><span class=c0>However,</span><span class=ws> </span><span class=c0>libgit2</span><span class=ws> </span><span class=c0>does</span><span class=ws> </span><span class=c0>not</span><span class=ws> </span><span class=c0>launch</span><span class=ws> </span><span class=c0>executables,</span><span class=ws> </span><span class=c0>which</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>foundation</span><span class=ws> </span><span class=c0>of</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>original</span><span class=ws> </span><span class=c0>security</span><span class=ws> </span><span class=c0>issue.</span><span class=ws> </span><span class=c0>Meanwhile,</span><span class=ws> </span><span class=c0>issues</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>refusing</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>load</span><span class=ws> </span><span class=c0>git</span><span class=ws> </span><span class=c0>repos</span><span class=ws> </span><span class=c0>in</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>`CARGO_HOME`</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>example</span><span class=ws> </span><span class=c0>will</span><span class=ws> </span><span class=c0>likely</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>very</span><span class=ws> </span><span class=c0>frustrating</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>users.</span><span class=ws> </span><span class=c0>So,</span><span class=ws> </span><span class=c0>we</span><span class=ws> </span><span class=c0>disable</span><span class=ws> </span><span class=c0>the</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>validation.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>For</span><span class=ws> </span><span class=c0>further</span><span class=ws> </span><span class=c0>discussion</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>Cargo's</span><span class=ws> </span><span class=c0>current</span><span class=ws> </span><span class=c0>interactions</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>git,</span><span class=ws> </span><span class=c0>see</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>https://github.com/rust-lang/rfcs/pull/3279</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>particular</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>subsection</span><span class=ws> </span><span class=c0>on</span><span class=ws> </span><span class=c0>"Git</span><span class=ws> </span><span class=c0>support".</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>Note</span><span class=ws> </span><span class=c0>that</span><span class=ws> </span><span class=c0>we</span><span class=ws> </span><span class=c0>only</span><span class=ws> </span><span class=c0>disable</span><span class=ws> </span><span class=c0>this</span><span class=ws> </span><span class=c0>when</span><span class=ws> </span><span class=c0>Cargo</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>run</span><span class=ws> </span><span class=c0>as</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>binary.</span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>Cargo</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>used</span><span class=ws> </span><span class=c0>as</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>library,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>this</span><span class=ws> </span><span class=c0>code</span><span class=ws> </span><span class=c0>won't</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>invoked.</span><span class=ws> </span><span class=c0>Instead,</span><span class=ws> </span><span class=c0>developers</span><span class=ws> </span><span class=c0>will</span><span class=ws> </span><span class=c0>need</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>explicitly</span><span class=ws> </span><span class=c0>disable</span><span class=ws> </span><span class=c0>the</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>validation</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>their</span><span class=ws> </span><span class=c0>code.</span><span class=ws> </span><span class=c0>This</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>inconvenient,</span><span class=ws> </span><span class=c0>but</span><span class=ws> </span><span class=c0>won't</span><span class=ws> </span><span class=c0>accidentally</span><span class=ws> </span><span class=c0>open</span><span class=ws> </span><span class=c0>consuming</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>applications</span><span class=ws> </span><span class=c0>up</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>security</span><span class=ws> </span><span class=c0>issues</span><span class=ws> </span><span class=c0>if</span><span class=ws> </span><span class=c0>they</span><span class=ws> </span><span class=c0>use</span><span class=ws> </span><span class=c0>git2</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>open</span><span class=ws> </span><span class=c0>repositories</span><span class=ws> </span><span class=c0>elsewhere</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>their</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>code.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>unsafe</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>git2</span><span class=p0>::</span><span class=p1>opts</span><span class=p0>::</span><span class=p1>set_verify_owner_validation</span><span class=p0>(</span><span class=p1>false</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>.</span><span class=p1>expect</span><span class=p0>(</span><span class=s0>"</span><span class=s1>set_verify_owner_validation</span><span class=ws> </span><span class=s1>should</span><span class=ws> </span><span class=s1>never</span><span class=ws> </span><span class=s1>fail</span><span class=s0>"</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>init_git_transports</span><span class=p0>(</span><span class=p1>gctx</span><span class=p0>);</span>
<span class=p0>}</span>

<span class=c0>///</span><span class=ws> </span><span class=c0>Configure</span><span class=ws> </span><span class=c0>libgit2</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>use</span><span class=ws> </span><span class=c0>libcurl</span><span class=ws> </span><span class=c0>if</span><span class=ws> </span><span class=c0>necessary.</span>
<span class=c0>///</span>
<span class=c0>///</span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>user</span><span class=ws> </span><span class=c0>has</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>non-default</span><span class=ws> </span><span class=c0>network</span><span class=ws> </span><span class=c0>configuration,</span><span class=ws> </span><span class=c0>then</span><span class=ws> </span><span class=c0>libgit2</span><span class=ws> </span><span class=c0>will</span><span class=ws> </span><span class=c0>be</span>
<span class=c0>///</span><span class=ws> </span><span class=c0>configured</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>use</span><span class=ws> </span><span class=c0>libcurl</span><span class=ws> </span><span class=c0>instead</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>built-in</span><span class=ws> </span><span class=c0>networking</span><span class=ws> </span><span class=c0>support</span><span class=ws> </span><span class=c0>so</span>
<span class=c0>///</span><span class=ws> </span><span class=c0>that</span><span class=ws> </span><span class=c0>those</span><span class=ws> </span><span class=c0>configuration</span><span class=ws> </span><span class=c0>settings</span><span class=ws> </span><span class=c0>can</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>used.</span>
<span class=p0>#[tracing::instrument(skip_all)]</span>
<span class=p0>fn</span><span class=ws> </span><span class=p1>init_git_transports</span><span class=p0>(</span><span class=p1>gctx</span><span class=p0>:</span><span class=ws> </span><span class=p0>&</span><span class=p1>GlobalContext</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>match</span><span class=ws> </span><span class=p1>needs_custom_http_transport</span><span class=p0>(</span><span class=p1>gctx</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Ok</span><span class=p0>(</span><span class=p1>true</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>_</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>return,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>handle</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>match</span><span class=ws> </span><span class=p1>http_handle</span><span class=p0>(</span><span class=p1>gctx</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Ok</span><span class=p0>(</span><span class=p1>handle</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>handle</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Err</span><span class=p0>(..)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>return,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>};</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>unsafety</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>registration</span><span class=ws> </span><span class=c0>function</span><span class=ws> </span><span class=c0>derives</span><span class=ws> </span><span class=c0>from</span><span class=ws> </span><span class=c0>two</span><span class=ws> </span><span class=c0>aspects:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>1.</span><span class=ws> </span><span class=c0>This</span><span class=ws> </span><span class=c0>call</span><span class=ws> </span><span class=c0>must</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>synchronized</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>all</span><span class=ws> </span><span class=c0>other</span><span class=ws> </span><span class=c0>registration</span><span class=ws> </span><span class=c0>calls</span><span class=ws> </span><span class=c0>as</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>well</span><span class=ws> </span><span class=c0>as</span><span class=ws> </span><span class=c0>construction</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>new</span><span class=ws> </span><span class=c0>transports.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>2.</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>argument</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>leaked.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>We're</span><span class=ws> </span><span class=c0>clear</span><span class=ws> </span><span class=c0>on</span><span class=ws> </span><span class=c0>point</span><span class=ws> </span><span class=c0>(1)</span><span class=ws> </span><span class=c0>because</span><span class=ws> </span><span class=c0>this</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>only</span><span class=ws> </span><span class=c0>called</span><span class=ws> </span><span class=c0>at</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>start</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>this</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>binary</span><span class=ws> </span><span class=c0>(we</span><span class=ws> </span><span class=c0>know</span><span class=ws> </span><span class=c0>what</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>state</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>world</span><span class=ws> </span><span class=c0>looks</span><span class=ws> </span><span class=c0>like)</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>we're</span><span class=ws> </span><span class=c0>mostly</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>clear</span><span class=ws> </span><span class=c0>on</span><span class=ws> </span><span class=c0>point</span><span class=ws> </span><span class=c0>(2)</span><span class=ws> </span><span class=c0>because</span><span class=ws> </span><span class=c0>we'd</span><span class=ws> </span><span class=c0>only</span><span class=ws> </span><span class=c0>free</span><span class=ws> </span><span class=c0>it</span><span class=ws> </span><span class=c0>after</span><span class=ws> </span><span class=c0>everything</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>done</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>anyway</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>unsafe</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>git2_curl</span><span class=p0>::</span><span class=p1>register</span><span class=p0>(</span><span class=p1>handle</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>
</code></pre><pre aria-labelledby=sh class=sh hidden><code><span class=c0>#!/bin/bash</span>
<span class=c0>##===-</span><span class=ws> </span><span class=c0>bolt/utils/bughunter.sh</span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>Help</span><span class=ws> </span><span class=c0>locate</span><span class=ws> </span><span class=c0>BOLT</span><span class=ws> </span><span class=c0>bugs</span><span class=ws> </span><span class=c0>-------*-</span><span class=ws> </span><span class=c0>Script</span><span class=ws> </span><span class=c0>-*-===##</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>Part</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>LLVM</span><span class=ws> </span><span class=c0>Project,</span><span class=ws> </span><span class=c0>under</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>Apache</span><span class=ws> </span><span class=c0>License</span><span class=ws> </span><span class=c0>v2.0</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>LLVM</span><span class=ws> </span><span class=c0>Exceptions.</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>See</span><span class=ws> </span><span class=c0>https://llvm.org/LICENSE.txt</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>license</span><span class=ws> </span><span class=c0>information.</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>SPDX-License-Identifier:</span><span class=ws> </span><span class=c0>Apache-2.0</span><span class=ws> </span><span class=c0>WITH</span><span class=ws> </span><span class=c0>LLVM-exception</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>details.</span>
<span class=c0>#</span>
<span class=c0>##===----------------------------------------------------------------------===##</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>This</span><span class=ws> </span><span class=c0>script</span><span class=ws> </span><span class=c0>attempts</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>narrow</span><span class=ws> </span><span class=c0>down</span><span class=ws> </span><span class=c0>llvm-bolt</span><span class=ws> </span><span class=c0>bug</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>single</span><span class=ws> </span><span class=c0>function</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>the</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>input</span><span class=ws> </span><span class=c0>binary.</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>If</span><span class=ws> </span><span class=c0>such</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>function</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>found,</span><span class=ws> </span><span class=c0>llvm-bolt</span><span class=ws> </span><span class=c0>could</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>run</span><span class=ws> </span><span class=c0>just</span><span class=ws> </span><span class=c0>on</span><span class=ws> </span><span class=c0>this</span><span class=ws> </span><span class=c0>function</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>mitigate</span><span class=ws> </span><span class=c0>debugging</span><span class=ws> </span><span class=c0>process.</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>The</span><span class=ws> </span><span class=c0>following</span><span class=ws> </span><span class=c0>envvars</span><span class=ws> </span><span class=c0>are</span><span class=ws> </span><span class=c0>used</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>this</span><span class=ws> </span><span class=c0>script:</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>BOLT</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>path</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>llvm-bolt</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>BOLT_OPTIONS</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>options</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>used</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>llvm-bolt</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>INPUT_BINARY</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>input</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>llvm-bolt</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>PRE_COMMAND</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>command</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>execute</span><span class=ws> </span><span class=c0>prior</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>running</span><span class=ws> </span><span class=c0>optimized</span><span class=ws> </span><span class=c0>binary</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>POST_COMMAND</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>command</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>filter</span><span class=ws> </span><span class=c0>results</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>running</span><span class=ws> </span><span class=c0>optimized</span><span class=ws> </span><span class=c0>binary</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>TIMEOUT_OR_CMD</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>optional</span><span class=ws> </span><span class=c0>timeout</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>command</span><span class=ws> </span><span class=c0>on</span><span class=ws> </span><span class=c0>optimized</span><span class=ws> </span><span class=c0>binary</span><span class=ws> </span><span class=c0>command</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>if</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>value</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>number</span><span class=ws> </span><span class=c0>with</span><span class=ws> </span><span class=c0>an</span><span class=ws> </span><span class=c0>optional</span><span class=ws> </span><span class=c0>trailing</span><span class=ws> </span><span class=c0>letter</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>[smhd]</span><span class=ws> </span><span class=c0>it</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>considered</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>paramter</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>"timeout",</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>otherwise</span><span class=ws> </span><span class=c0>it's</span><span class=ws> </span><span class=c0>a</span><span class=ws> </span><span class=c0>shell</span><span class=ws> </span><span class=c0>command</span><span class=ws> </span><span class=c0>that</span><span class=ws> </span><span class=c0>wraps</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>optimized</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>binary</span><span class=ws> </span><span class=c0>command.</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>COMMAND_LINE</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>command</span><span class=ws> </span><span class=c0>line</span><span class=ws> </span><span class=c0>options</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>run</span><span class=ws> </span><span class=c0>optimized</span><span class=ws> </span><span class=c0>binary</span><span class=ws> </span><span class=c0>with</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>IGNORE_ERROR</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>ignore</span><span class=ws> </span><span class=c0>error</span><span class=ws> </span><span class=c0>codes</span><span class=ws> </span><span class=c0>returned</span><span class=ws> </span><span class=c0>from</span><span class=ws> </span><span class=c0>optimized</span><span class=ws> </span><span class=c0>binary</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>GOLD_FILE</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>file</span><span class=ws> </span><span class=c0>containing</span><span class=ws> </span><span class=c0>expected</span><span class=ws> </span><span class=c0>output</span><span class=ws> </span><span class=c0>from</span><span class=ws> </span><span class=c0>optimized</span><span class=ws> </span><span class=c0>binary</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>FUNC_NAMES</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>if</span><span class=ws> </span><span class=c0>set,</span><span class=ws> </span><span class=c0>path</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>an</span><span class=ws> </span><span class=c0>initial</span><span class=ws> </span><span class=c0>list</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>function</span><span class=ws> </span><span class=c0>names</span><span class=ws> </span><span class=c0>to</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>search.</span><span class=ws> </span><span class=ws> </span><span class=c0>Otherwise,</span><span class=ws> </span><span class=c0>nm</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>used</span><span class=ws> </span><span class=c0>on</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>original</span><span class=ws> </span><span class=c0>binary.</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>OFFLINE</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>if</span><span class=ws> </span><span class=c0>set,</span><span class=ws> </span><span class=c0>bughunter</span><span class=ws> </span><span class=c0>will</span><span class=ws> </span><span class=c0>produce</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>binaries</span><span class=ws> </span><span class=c0>but</span><span class=ws> </span><span class=c0>will</span><span class=ws> </span><span class=c0>not</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>run</span><span class=ws> </span><span class=c0>them,</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>will</span><span class=ws> </span><span class=c0>depend</span><span class=ws> </span><span class=c0>on</span><span class=ws> </span><span class=c0>you</span><span class=ws> </span><span class=c0>telling</span><span class=ws> </span><span class=c0>whether</span><span class=ws> </span><span class=c0>it</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>succeeded</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>not.</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>MAX_FUNCS</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>if</span><span class=ws> </span><span class=c0>set,</span><span class=ws> </span><span class=c0>use</span><span class=ws> </span><span class=c0>-max-funcs</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>narrow</span><span class=ws> </span><span class=c0>down</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>offending</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>function.</span><span class=ws> </span><span class=ws> </span><span class=c0>if</span><span class=ws> </span><span class=c0>non-zero,</span><span class=ws> </span><span class=c0>start</span><span class=ws> </span><span class=c0>-max-funcs</span><span class=ws> </span><span class=c0>at</span><span class=ws> </span><span class=c0>$MAX_FUNCS</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>otherwise,</span><span class=ws> </span><span class=c0>count</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>number</span><span class=ws> </span><span class=c0>of</span><span class=ws> </span><span class=c0>symbols</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>binary.</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>MAX_FUNCS_FLAG</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>BOLT</span><span class=ws> </span><span class=c0>command</span><span class=ws> </span><span class=c0>line</span><span class=ws> </span><span class=c0>option</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>use</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>MAX_FUNCS</span><span class=ws> </span><span class=c0>search.</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>Default</span><span class=ws> </span><span class=c0>is</span><span class=ws> </span><span class=c0>-max-funcs.</span><span class=ws> </span><span class=ws> </span><span class=c0>Can</span><span class=ws> </span><span class=c0>also</span><span class=ws> </span><span class=c0>be</span><span class=ws> </span><span class=c0>used</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>relocation</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>debugging,</span><span class=ws> </span><span class=c0>e.g.</span><span class=ws> </span><span class=c0>-max-data-relocations.</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>VERBOSE</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>if</span><span class=ws> </span><span class=c0>non-empty,</span><span class=ws> </span><span class=c0>set</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>script</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>echo</span><span class=ws> </span><span class=c0>mode.</span>
<span class=c0>#</span>
<span class=c0>##===----------------------------------------------------------------------===##</span>

<span class=p1>BOLT</span><span class=p0>=${</span><span class=p1>BOLT</span><span class=p0>:=</span><span class=p1>llvm-bolt</span><span class=p0>}</span>

<span class=p1>ulimit</span><span class=ws> </span><span class=p1>-c</span><span class=ws> </span><span class=p1>0</span>
<span class=p1>set</span><span class=ws> </span><span class=p1>-o</span><span class=ws> </span><span class=p1>pipefail</span>

<span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>-n</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>VERBOSE</span><span class=s0>"</span><span class=ws> </span><span class=p0>]];</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>set</span><span class=ws> </span><span class=p1>-x</span>
<span class=p0>fi</span>

<span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>!</span><span class=ws> </span><span class=p0>-x</span><span class=ws> </span><span class=p0>$</span><span class=p1>INPUT_BINARY</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=s1>INPUT_BINARY</span><span class=ws> </span><span class=s1>must</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>set</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>an</span><span class=ws> </span><span class=s1>executable</span><span class=ws> </span><span class=s1>file</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>exit</span><span class=ws> </span><span class=p1>1</span>
<span class=p0>fi</span>

<span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>-z</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>PRE_COMMAND</span><span class=s0>"</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>PRE_COMMAND</span><span class=p0>=</span><span class=s0>'</span><span class=s1>:</span><span class=s0>'</span>
<span class=p0>fi</span>

<span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>-z</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>POST_COMMAND</span><span class=s0>"</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>POST_COMMAND</span><span class=p0>=</span><span class=s0>'</span><span class=s1>cat</span><span class=s0>'</span>
<span class=p0>fi</span>

<span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>-n</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>TIMEOUT_OR_CMD</span><span class=s0>"</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p0>$</span><span class=p1>TIMEOUT_OR_CMD</span><span class=ws> </span><span class=p0>=~</span><span class=ws> </span><span class=p1>^</span><span class=p0>[</span><span class=p1>0-9</span><span class=p0>]</span><span class=p1>+</span><span class=p0>[</span><span class=p1>smhd</span><span class=p0>]?</span><span class=p1>$</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>TIMEOUT_OR_CMD</span><span class=p0>=</span><span class=s0>"</span><span class=s1>timeout</span><span class=ws> </span><span class=s1>-s</span><span class=ws> </span><span class=s1>KILL</span><span class=ws> </span><span class=p0>$</span><span class=p1>TIMEOUT_OR_CMD</span><span class=s0>"</span>
<span class=p0>fi</span>

<span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>-z</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>MAX_FUNCS_FLAG</span><span class=s0>"</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>MAX_FUNCS_FLAG</span><span class=p0>=</span><span class=s0>"</span><span class=s1>-max-funcs</span><span class=s0>"</span>
<span class=p0>fi</span>

<span class=p1>OPTIMIZED_BINARY</span><span class=p0>=$(</span><span class=p1>mktemp</span><span class=ws> </span><span class=p1>-t</span><span class=ws> </span><span class=p1>-u</span><span class=ws> </span><span class=p1>--suffix=.bolt</span><span class=ws> </span><span class=p0>$(</span><span class=p1>basename</span><span class=ws> </span><span class=p0>${</span><span class=p1>INPUT_BINARY</span><span class=p0>})</span><span class=p1>.XXX</span><span class=p0>)</span>
<span class=p1>OUTPUT_FILE</span><span class=p0>=</span><span class=s0>"</span><span class=p0>${</span><span class=p1>OPTIMIZED_BINARY</span><span class=p0>}</span><span class=s1>.out</span><span class=s0>"</span>
<span class=p1>BOLT_LOG</span><span class=p0>=$(</span><span class=p1>mktemp</span><span class=ws> </span><span class=p1>-t</span><span class=ws> </span><span class=p1>-u</span><span class=ws> </span><span class=p1>--suffix=.log</span><span class=ws> </span><span class=p1>boltXXX</span><span class=p0>)</span>

<span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>-z</span><span class=ws> </span><span class=p0>$</span><span class=p1>OFFLINE</span><span class=ws> </span><span class=p0>]];</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=s1>Verify</span><span class=ws> </span><span class=s1>input</span><span class=ws> </span><span class=s1>binary</span><span class=ws> </span><span class=s1>passes</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=s1>INPUT_BINARY:</span><span class=ws> </span><span class=p0>$</span><span class=p1>PRE_COMMAND</span><span class=ws> </span><span class=s1>&&</span><span class=ws> </span><span class=p0>$</span><span class=p1>TIMEOUT_OR_CMD</span><span class=ws> </span><span class=p0>$</span><span class=p1>INPUT_BINARY</span><span class=ws> </span><span class=p0>$</span><span class=p1>COMMAND_LINE</span><span class=ws> </span><span class=s1>|&</span><span class=ws> </span><span class=p0>$</span><span class=p1>POST_COMMAND</span><span class=ws> </span><span class=s1>>&</span><span class=ws> </span><span class=p0>$</span><span class=p1>OUTPUT_FILE</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>(</span><span class=p0>$</span><span class=p1>PRE_COMMAND</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p0>$</span><span class=p1>TIMEOUT_OR_CMD</span><span class=ws> </span><span class=p0>$</span><span class=p1>INPUT_BINARY</span><span class=ws> </span><span class=p0>$</span><span class=p1>COMMAND_LINE</span><span class=ws> </span><span class=p0>|</span><span class=p1>&</span><span class=ws> </span><span class=p0>$</span><span class=p1>POST_COMMAND</span><span class=ws> </span><span class=p0>>&</span><span class=ws> </span><span class=p0>$</span><span class=p1>OUTPUT_FILE)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>STATUS</span><span class=p0>=$</span><span class=p1>?</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>IGNORE_ERROR</span><span class=s0>"</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=s0>"</span><span class=s1>1</span><span class=s0>"</span><span class=ws> </span><span class=p0>]];</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FAIL</span><span class=p0>=</span><span class=p1>0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FAIL</span><span class=p0>=$</span><span class=p1>STATUS</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>-e</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>GOLD_FILE</span><span class=s0>"</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>cmp</span><span class=ws> </span><span class=p1>-s</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>OUTPUT_FILE</span><span class=s0>"</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>GOLD_FILE</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FAIL</span><span class=p0>=$</span><span class=p1>?</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>$</span><span class=p1>FAIL</span><span class=ws> </span><span class=p0>-ne</span><span class=ws> </span><span class=s0>"</span><span class=s1>0</span><span class=s0>"</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=s1>Warning:</span><span class=ws> </span><span class=s1>input</span><span class=ws> </span><span class=s1>binary</span><span class=ws> </span><span class=s1>failed</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=s1>Input</span><span class=ws> </span><span class=s1>binary</span><span class=ws> </span><span class=s1>passes.</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>
<span class=p0>fi</span>

<span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=s1>Verify</span><span class=ws> </span><span class=s1>optimized</span><span class=ws> </span><span class=s1>binary</span><span class=ws> </span><span class=s1>fails</span><span class=s0>"</span>
<span class=p1>(</span><span class=p0>$</span><span class=p1>BOLT</span><span class=ws> </span><span class=p0>$</span><span class=p1>BOLT_OPTIONS</span><span class=ws> </span><span class=p0>$</span><span class=p1>INPUT_BINARY</span><span class=ws> </span><span class=p1>-o</span><span class=ws> </span><span class=p0>$</span><span class=p1>OPTIMIZED_BINARY</span><span class=ws> </span><span class=p0>>&</span><span class=ws> </span><span class=p0>$</span><span class=p1>BOLT_LOG)</span>
<span class=p1>FAIL</span><span class=p0>=$</span><span class=p1>?</span>
<span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>$</span><span class=p1>FAIL</span><span class=ws> </span><span class=p0>-eq</span><span class=ws> </span><span class=s0>"</span><span class=s1>0</span><span class=s0>"</span><span class=ws> </span><span class=p0>]];</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>-z</span><span class=ws> </span><span class=p0>$</span><span class=p1>OFFLINE</span><span class=ws> </span><span class=p0>]];</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=s1>OPTIMIZED_BINARY:</span><span class=ws> </span><span class=p0>$</span><span class=p1>PRE_COMMAND</span><span class=ws> </span><span class=s1>&&</span><span class=ws> </span><span class=p0>$</span><span class=p1>TIMEOUT_OR_CMD</span><span class=ws> </span><span class=p0>$</span><span class=p1>OPTIMIZED_BINARY</span><span class=ws> </span><span class=p0>$</span><span class=p1>COMMAND_LINE</span><span class=ws> </span><span class=s1>|&</span><span class=ws> </span><span class=p0>$</span><span class=p1>POST_COMMAND</span><span class=ws> </span><span class=s1>>&</span><span class=ws> </span><span class=p0>$</span><span class=p1>OUTPUT_FILE</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>(</span><span class=p0>$</span><span class=p1>PRE_COMMAND</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p0>$</span><span class=p1>TIMEOUT_OR_CMD</span><span class=ws> </span><span class=p0>$</span><span class=p1>OPTIMIZED_BINARY</span><span class=ws> </span><span class=p0>$</span><span class=p1>COMMAND_LINE</span><span class=ws> </span><span class=p0>|</span><span class=p1>&</span><span class=ws> </span><span class=p0>$</span><span class=p1>POST_COMMAND</span><span class=ws> </span><span class=p0>>&</span><span class=ws> </span><span class=p0>$</span><span class=p1>OUTPUT_FILE)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>STATUS</span><span class=p0>=$</span><span class=p1>?</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>IGNORE_ERROR</span><span class=s0>"</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=s0>"</span><span class=s1>1</span><span class=s0>"</span><span class=ws> </span><span class=p0>]];</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FAIL</span><span class=p0>=</span><span class=p1>0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FAIL</span><span class=p0>=$</span><span class=p1>STATUS</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>-e</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>GOLD_FILE</span><span class=s0>"</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>cmp</span><span class=ws> </span><span class=p1>-s</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>OUTPUT_FILE</span><span class=s0>"</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>GOLD_FILE</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FAIL</span><span class=p0>=$</span><span class=p1>?</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=s1>Did</span><span class=ws> </span><span class=s1>it</span><span class=ws> </span><span class=s1>pass?</span><span class=ws> </span><span class=s1>Type</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>return</span><span class=ws> </span><span class=s1>code</span><span class=ws> </span><span class=s1>[0</span><span class=ws> </span><span class=s1>=</span><span class=ws> </span><span class=s1>pass,</span><span class=ws> </span><span class=s1>1</span><span class=ws> </span><span class=s1>=</span><span class=ws> </span><span class=s1>fail]</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>read</span><span class=ws> </span><span class=p1>-n1</span><span class=ws> </span><span class=p1>PASS</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>$</span><span class=p1>FAIL</span><span class=ws> </span><span class=p0>-eq</span><span class=ws> </span><span class=s0>"</span><span class=s1>0</span><span class=s0>"</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=s1>Warning:</span><span class=ws> </span><span class=s1>optimized</span><span class=ws> </span><span class=s1>binary</span><span class=ws> </span><span class=s1>passes.</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=s1>Optimized</span><span class=ws> </span><span class=s1>binary</span><span class=ws> </span><span class=s1>fails</span><span class=ws> </span><span class=s1>as</span><span class=ws> </span><span class=s1>expected.</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>
<span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=s1>Bolt</span><span class=ws> </span><span class=s1>crashes</span><span class=ws> </span><span class=s1>while</span><span class=ws> </span><span class=s1>generating</span><span class=ws> </span><span class=s1>optimized</span><span class=ws> </span><span class=s1>binary.</span><span class=s0>"</span>
<span class=p0>fi</span>

<span class=c0>#</span><span class=ws> </span><span class=c0>Collect</span><span class=ws> </span><span class=c0>function</span><span class=ws> </span><span class=c0>names</span>
<span class=p1>FF</span><span class=p0>=$(</span><span class=p1>mktemp</span><span class=ws> </span><span class=p1>-t</span><span class=ws> </span><span class=p1>-u</span><span class=ws> </span><span class=p1>--suffix=.txt</span><span class=ws> </span><span class=p1>func-names.XXX</span><span class=p0>)</span>
<span class=p1>nm</span><span class=ws> </span><span class=p1>--defined-only</span><span class=ws> </span><span class=p1>-p</span><span class=ws> </span><span class=p0>$</span><span class=p1>INPUT_BINARY</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p1>grep</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=s1>[TtWw]</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p1>cut</span><span class=ws> </span><span class=p1>-d</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=p1>-f</span><span class=ws> </span><span class=p1>3</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p1>egrep</span><span class=ws> </span><span class=p1>-v</span><span class=ws> </span><span class=s0>"</span><span class=s1>\._</span><span class=s0>"</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p1>egrep</span><span class=ws> </span><span class=p1>-v</span><span class=ws> </span><span class=s0>'</span><span class=s1>^$</span><span class=s0>'</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p1>sort</span><span class=ws> </span><span class=p1>-u</span><span class=ws> </span><span class=p0>></span><span class=ws> </span><span class=p0>$</span><span class=p1>FF</span>

<span class=c0>#</span><span class=ws> </span><span class=c0>Use</span><span class=ws> </span><span class=c0>function</span><span class=ws> </span><span class=c0>names</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>numbers</span>
<span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>-z</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>MAX_FUNCS</span><span class=s0>"</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>Do</span><span class=ws> </span><span class=c0>binary</span><span class=ws> </span><span class=c0>search</span><span class=ws> </span><span class=c0>on</span><span class=ws> </span><span class=c0>function</span><span class=ws> </span><span class=c0>names</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>-n</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>FUNC_NAMES</span><span class=s0>"</span><span class=ws> </span><span class=p0>]];</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FF</span><span class=p0>=$</span><span class=p1>FUNC_NAMES</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>NUM_FUNCS</span><span class=p0>=$(</span><span class=p1>wc</span><span class=ws> </span><span class=p1>-l</span><span class=ws> </span><span class=p0>$</span><span class=p1>FF</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p1>cut</span><span class=ws> </span><span class=p1>-d</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=p1>-f</span><span class=ws> </span><span class=p1>1</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>HALF</span><span class=p0>=$(</span><span class=p1>expr</span><span class=ws> </span><span class=p1>\(</span><span class=ws> </span><span class=p0>$</span><span class=p1>NUM_FUNCS</span><span class=ws> </span><span class=p1>+</span><span class=ws> </span><span class=p1>1</span><span class=ws> </span><span class=p1>\)</span><span class=ws> </span><span class=p1>/</span><span class=ws> </span><span class=p1>2</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>PREFIX</span><span class=p0>=$(</span><span class=p1>mktemp</span><span class=ws> </span><span class=p1>-t</span><span class=ws> </span><span class=p1>-u</span><span class=ws> </span><span class=p1>--suffix=.txt</span><span class=ws> </span><span class=p1>func-names.XXX</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FF0</span><span class=p0>=$</span><span class=p1>PREFIX\a</span><span class=p1>a</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FF1</span><span class=p0>=$</span><span class=p1>PREFIX\a</span><span class=p1>b</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>split</span><span class=ws> </span><span class=p1>-a</span><span class=ws> </span><span class=p1>2</span><span class=ws> </span><span class=p1>-l</span><span class=ws> </span><span class=p0>$</span><span class=p1>HALF</span><span class=ws> </span><span class=p0>$</span><span class=p1>FF</span><span class=ws> </span><span class=p0>$</span><span class=p1>PREFIX</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FF</span><span class=p0>=$</span><span class=p1>FF0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>NUM_FUNCS</span><span class=p0>=$(</span><span class=p1>wc</span><span class=ws> </span><span class=p1>-l</span><span class=ws> </span><span class=p0>$</span><span class=p1>FF</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p1>cut</span><span class=ws> </span><span class=p1>-d</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=p1>-f</span><span class=ws> </span><span class=p1>1</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>CONTINUE</span><span class=p0>=$(</span><span class=p1>expr</span><span class=ws> </span><span class=p0>$</span><span class=p1>NUM_FUNCS</span><span class=ws> </span><span class=p1>\></span><span class=ws> </span><span class=p1>0</span><span class=p0>)</span>
<span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>P</span><span class=p0>=</span><span class=p1>0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>MAX_FUNCS</span><span class=s0>"</span><span class=ws> </span><span class=p0>-eq</span><span class=ws> </span><span class=s0>"</span><span class=s1>0</span><span class=s0>"</span><span class=ws> </span><span class=p0>]];</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Q</span><span class=p0>=$(</span><span class=p1>wc</span><span class=ws> </span><span class=p1>-l</span><span class=ws> </span><span class=p0>$</span><span class=p1>FF</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p1>cut</span><span class=ws> </span><span class=p1>-d</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=p1>-f</span><span class=ws> </span><span class=p1>1</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Q</span><span class=p0>=$</span><span class=p1>MAX_FUNCS</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>I</span><span class=p0>=$</span><span class=p1>Q</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>CONTINUE</span><span class=p0>=$(</span><span class=p1>expr</span><span class=ws> </span><span class=p1>\(</span><span class=ws> </span><span class=p0>$</span><span class=p1>Q</span><span class=ws> </span><span class=p1>-</span><span class=ws> </span><span class=p0>$</span><span class=p1>P</span><span class=ws> </span><span class=p1>\)</span><span class=ws> </span><span class=p1>\></span><span class=ws> </span><span class=p1>1</span><span class=p0>)</span>
<span class=p0>fi</span>

<span class=p1>ITER</span><span class=p0>=</span><span class=p1>0</span>
<span class=p0>while</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>CONTINUE</span><span class=s0>"</span><span class=ws> </span><span class=p0>-ne</span><span class=ws> </span><span class=s0>"</span><span class=s1>0</span><span class=s0>"</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>do</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>rm</span><span class=ws> </span><span class=p1>-f</span><span class=ws> </span><span class=p0>$</span><span class=p1>OPTIMIZED_BINARY</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>-z</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>MAX_FUNCS</span><span class=s0>"</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=s1>Iteration</span><span class=ws> </span><span class=p0>$</span><span class=p1>ITER</span><span class=s1>,</span><span class=ws> </span><span class=s1>trying</span><span class=ws> </span><span class=p0>$</span><span class=p1>FF</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=p0>$</span><span class=p1>HALF</span><span class=ws> </span><span class=s1>functions</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>SEARCH_OPT</span><span class=p0>=</span><span class=s0>"</span><span class=s1>-funcs-file-no-regex=</span><span class=p0>$</span><span class=p1>FF</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>I</span><span class=p0>=$(</span><span class=p1>expr</span><span class=ws> </span><span class=p1>\(</span><span class=ws> </span><span class=p0>$</span><span class=p1>Q</span><span class=ws> </span><span class=p1>+</span><span class=ws> </span><span class=p0>$</span><span class=p1>P</span><span class=ws> </span><span class=p1>\)</span><span class=ws> </span><span class=p1>/</span><span class=ws> </span><span class=p1>2</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=s1>Iteration</span><span class=ws> </span><span class=p0>$</span><span class=p1>ITER</span><span class=s1>,</span><span class=ws> </span><span class=s1>P=</span><span class=p0>$</span><span class=p1>P</span><span class=s1>,</span><span class=ws> </span><span class=s1>Q=</span><span class=p0>$</span><span class=p1>Q</span><span class=s1>,</span><span class=ws> </span><span class=s1>I=</span><span class=p0>$</span><span class=p1>I</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>SEARCH_OPT</span><span class=p0>=</span><span class=s0>"</span><span class=p0>$</span><span class=p1>MAX_FUNCS_FLAG</span><span class=s1>=</span><span class=p0>$</span><span class=p1>I</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=s1>BOLT:</span><span class=ws> </span><span class=p0>$</span><span class=p1>BOLT</span><span class=ws> </span><span class=p0>$</span><span class=p1>BOLT_OPTIONS</span><span class=ws> </span><span class=p0>$</span><span class=p1>INPUT_BINARY</span><span class=ws> </span><span class=p0>$</span><span class=p1>SEARCH_OPT</span><span class=ws> </span><span class=s1>-o</span><span class=ws> </span><span class=p0>$</span><span class=p1>OPTIMIZED_BINARY</span><span class=ws> </span><span class=s1>>&</span><span class=ws> </span><span class=p0>$</span><span class=p1>BOLT_LOG</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>(</span><span class=p0>$</span><span class=p1>BOLT</span><span class=ws> </span><span class=p0>$</span><span class=p1>BOLT_OPTIONS</span><span class=ws> </span><span class=p0>$</span><span class=p1>INPUT_BINARY</span><span class=ws> </span><span class=p0>$</span><span class=p1>SEARCH_OPT</span><span class=ws> </span><span class=p1>-o</span><span class=ws> </span><span class=p0>$</span><span class=p1>OPTIMIZED_BINARY</span><span class=ws> </span><span class=p0>>&</span><span class=ws> </span><span class=p0>$</span><span class=p1>BOLT_LOG)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FAIL</span><span class=p0>=$</span><span class=p1>?</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=s1>BOLT</span><span class=ws> </span><span class=s1>failure=</span><span class=p0>$</span><span class=p1>FAIL</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>rm</span><span class=ws> </span><span class=p1>-f</span><span class=ws> </span><span class=p0>$</span><span class=p1>OUTPUT_FILE</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>$</span><span class=p1>FAIL</span><span class=ws> </span><span class=p0>-eq</span><span class=ws> </span><span class=s0>"</span><span class=s1>0</span><span class=s0>"</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>-z</span><span class=ws> </span><span class=p0>$</span><span class=p1>OFFLINE</span><span class=ws> </span><span class=p0>]];</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=s1>OPTIMIZED_BINARY:</span><span class=ws> </span><span class=p0>$</span><span class=p1>PRE_COMMAND</span><span class=ws> </span><span class=s1>&&</span><span class=ws> </span><span class=p0>$</span><span class=p1>TIMEOUT_OR_CMD</span><span class=ws> </span><span class=p0>$</span><span class=p1>OPTIMIZED_BINARY</span><span class=ws> </span><span class=p0>$</span><span class=p1>COMMAND_LINE</span><span class=ws> </span><span class=s1>|&</span><span class=ws> </span><span class=p0>$</span><span class=p1>POST_COMMAND</span><span class=ws> </span><span class=s1>>&</span><span class=ws> </span><span class=p0>$</span><span class=p1>OUTPUT_FILE</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>(</span><span class=p0>$</span><span class=p1>PRE_COMMAND</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p0>$</span><span class=p1>TIMEOUT_OR_CMD</span><span class=ws> </span><span class=p0>$</span><span class=p1>OPTIMIZED_BINARY</span><span class=ws> </span><span class=p0>$</span><span class=p1>COMMAND_LINE</span><span class=ws> </span><span class=p0>|</span><span class=p1>&</span><span class=ws> </span><span class=p0>$</span><span class=p1>POST_COMMAND</span><span class=ws> </span><span class=p0>>&</span><span class=ws> </span><span class=p0>$</span><span class=p1>OUTPUT_FILE)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>STATUS</span><span class=p0>=$</span><span class=p1>?</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>IGNORE_ERROR</span><span class=s0>"</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=s0>"</span><span class=s1>1</span><span class=s0>"</span><span class=ws> </span><span class=p0>]];</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FAIL</span><span class=p0>=</span><span class=p1>0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FAIL</span><span class=p0>=$</span><span class=p1>STATUS</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>-e</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>GOLD_FILE</span><span class=s0>"</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>cmp</span><span class=ws> </span><span class=p1>-s</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>OUTPUT_FILE</span><span class=s0>"</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>GOLD_FILE</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FAIL</span><span class=p0>=$</span><span class=p1>?</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=ws> </span><span class=ws> </span><span class=s1>OPTIMIZED_BINARY</span><span class=ws> </span><span class=s1>failure=</span><span class=p0>$</span><span class=p1>FAIL</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=s1>Did</span><span class=ws> </span><span class=s1>it</span><span class=ws> </span><span class=s1>pass?</span><span class=ws> </span><span class=s1>Type</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>return</span><span class=ws> </span><span class=s1>code</span><span class=ws> </span><span class=s1>[0</span><span class=ws> </span><span class=s1>=</span><span class=ws> </span><span class=s1>pass,</span><span class=ws> </span><span class=s1>1</span><span class=ws> </span><span class=s1>=</span><span class=ws> </span><span class=s1>fail]</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>read</span><span class=ws> </span><span class=p1>-n1</span><span class=ws> </span><span class=p1>PASS</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FAIL</span><span class=p0>=</span><span class=p1>1</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>-z</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>MAX_FUNCS</span><span class=s0>"</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>$</span><span class=p1>FAIL</span><span class=ws> </span><span class=p0>-eq</span><span class=ws> </span><span class=s0>"</span><span class=s1>0</span><span class=s0>"</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>FF</span><span class=s0>"</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>FF1</span><span class=s0>"</span><span class=ws> </span><span class=p0>]];</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>NUM_FUNCS</span><span class=p0>=</span><span class=p1>0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>break;</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FF</span><span class=p0>=$</span><span class=p1>FF1</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>NUM_FUNCS</span><span class=p0>=$(</span><span class=p1>wc</span><span class=ws> </span><span class=p1>-l</span><span class=ws> </span><span class=p0>$</span><span class=p1>FF</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p1>cut</span><span class=ws> </span><span class=p1>-d</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=p1>-f</span><span class=ws> </span><span class=p1>1</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>HALF</span><span class=p0>=$(</span><span class=p1>expr</span><span class=ws> </span><span class=p1>\(</span><span class=ws> </span><span class=p0>$</span><span class=p1>NUM_FUNCS</span><span class=ws> </span><span class=p1>+</span><span class=ws> </span><span class=p1>1</span><span class=ws> </span><span class=p1>\)</span><span class=ws> </span><span class=p1>/</span><span class=ws> </span><span class=p1>2</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>PREFIX</span><span class=p0>=$(</span><span class=p1>mktemp</span><span class=ws> </span><span class=p1>-t</span><span class=ws> </span><span class=p1>-u</span><span class=ws> </span><span class=p1>--suffix=.txt</span><span class=ws> </span><span class=p1>func-names.XXX</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>split</span><span class=ws> </span><span class=p1>-a</span><span class=ws> </span><span class=p1>2</span><span class=ws> </span><span class=p1>-l</span><span class=ws> </span><span class=p0>$</span><span class=p1>HALF</span><span class=ws> </span><span class=p0>$</span><span class=p1>FF</span><span class=ws> </span><span class=p0>$</span><span class=p1>PREFIX</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FF0</span><span class=p0>=$</span><span class=p1>PREFIX\a</span><span class=p1>a</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FF1</span><span class=p0>=$</span><span class=p1>PREFIX\a</span><span class=p1>b</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FF</span><span class=p0>=$</span><span class=p1>FF0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>NUM_FUNCS</span><span class=p0>=$(</span><span class=p1>wc</span><span class=ws> </span><span class=p1>-l</span><span class=ws> </span><span class=p0>$</span><span class=p1>FF</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p1>cut</span><span class=ws> </span><span class=p1>-d</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=s0>'</span><span class=ws> </span><span class=p1>-f</span><span class=ws> </span><span class=p1>1</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>$</span><span class=p1>NUM_FUNCS</span><span class=ws> </span><span class=p0>-eq</span><span class=ws> </span><span class=s0>"</span><span class=s1>1</span><span class=s0>"</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p0>!</span><span class=ws> </span><span class=p0>-e</span><span class=ws> </span><span class=p0>$</span><span class=p1>FF1</span><span class=ws> </span><span class=p0>]];</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>break;</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>CONTINUE</span><span class=p0>=$(</span><span class=p1>expr</span><span class=ws> </span><span class=p0>$</span><span class=p1>NUM_FUNCS</span><span class=ws> </span><span class=p1>\></span><span class=ws> </span><span class=p1>0</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>$</span><span class=p1>FAIL</span><span class=ws> </span><span class=p0>-eq</span><span class=ws> </span><span class=s0>"</span><span class=s1>0</span><span class=s0>"</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>P</span><span class=p0>=$</span><span class=p1>I</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Q</span><span class=p0>=$</span><span class=p1>I</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FF</span><span class=p0>=$</span><span class=p1>I</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>HALF</span><span class=p0>=$</span><span class=p1>I</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>CONTINUE</span><span class=p0>=$(</span><span class=p1>expr</span><span class=ws> </span><span class=p1>\(</span><span class=ws> </span><span class=p0>$</span><span class=p1>Q</span><span class=ws> </span><span class=p1>-</span><span class=ws> </span><span class=p0>$</span><span class=p1>P</span><span class=ws> </span><span class=p1>\)</span><span class=ws> </span><span class=p1>\></span><span class=ws> </span><span class=p1>1</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ITER</span><span class=p0>=$(</span><span class=p1>expr</span><span class=ws> </span><span class=p0>$</span><span class=p1>ITER</span><span class=ws> </span><span class=p1>+</span><span class=ws> </span><span class=p1>1</span><span class=p0>)</span>
<span class=p0>done</span>

<span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>-z</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>MAX_FUNCS</span><span class=s0>"</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>NUM_FUNCS</span><span class=s0>"</span><span class=ws> </span><span class=p0>-ne</span><span class=ws> </span><span class=s0>"</span><span class=s1>0</span><span class=s0>"</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FAILED</span><span class=p0>=</span><span class=s0>"</span><span class=s1>The</span><span class=ws> </span><span class=s1>function(s)</span><span class=ws> </span><span class=s1>that</span><span class=ws> </span><span class=s1>failed</span><span class=ws> </span><span class=s1>are</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=p0>$</span><span class=p1>FF</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>
<span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>$</span><span class=p1>P</span><span class=ws> </span><span class=p0>-ne</span><span class=ws> </span><span class=p0>$</span><span class=p1>Q</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FF</span><span class=p0>=$(</span><span class=p1>grep</span><span class=ws> </span><span class=s0>"</span><span class=s1>processing</span><span class=ws> </span><span class=s1>ending</span><span class=s0>"</span><span class=ws> </span><span class=p0>$</span><span class=p1>BOLT_LOG</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p1>sed</span><span class=ws> </span><span class=p1>-e</span><span class=ws> </span><span class=s0>"</span><span class=s1>s/BOLT-INFO:</span><span class=ws> </span><span class=s1>processing</span><span class=ws> </span><span class=s1>ending</span><span class=ws> </span><span class=s1>on</span><span class=ws> </span><span class=s1>\(.*\)/\1/g</span><span class=s0>"</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p1>tail</span><span class=ws> </span><span class=p1>-1</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>FAILED</span><span class=p0>=</span><span class=s0>"</span><span class=s1>The</span><span class=ws> </span><span class=s1>item</span><span class=ws> </span><span class=s1>that</span><span class=ws> </span><span class=s1>failed</span><span class=ws> </span><span class=s1>is</span><span class=ws> </span><span class=p0>$</span><span class=p1>FF</span><span class=ws> </span><span class=s1>@</span><span class=ws> </span><span class=p0>$</span><span class=p1>Q</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>fi</span>
<span class=p0>fi</span>

<span class=p0>if</span><span class=ws> </span><span class=p0>[[</span><span class=ws> </span><span class=p0>-n</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>FAILED</span><span class=s0>"</span><span class=ws> </span><span class=p0>]]</span><span class=ws> </span><span class=p0>;</span><span class=ws> </span><span class=p0>then</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=p0>$</span><span class=p1>FAILED</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=s1>To</span><span class=ws> </span><span class=s1>reproduce,</span><span class=ws> </span><span class=s1>run:</span><span class=ws> </span><span class=p0>$</span><span class=p1>BOLT</span><span class=ws> </span><span class=p0>$</span><span class=p1>BOLT_OPTIONS</span><span class=ws> </span><span class=p0>$</span><span class=p1>INPUT_BINARY</span><span class=ws> </span><span class=p0>$</span><span class=p1>SEARCH_OPT</span><span class=ws> </span><span class=s1>-o</span><span class=ws> </span><span class=p0>$</span><span class=p1>OPTIMIZED_BINARY</span><span class=s0>"</span>
<span class=p0>else</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>echo</span><span class=ws> </span><span class=s0>"</span><span class=s1>Unable</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>reproduce</span><span class=ws> </span><span class=s1>bug.</span><span class=s0>"</span>
<span class=p0>fi</span>

<span class=p1>rm</span><span class=ws> </span><span class=p0>$</span><span class=p1>OPTIMIZED_BINARY</span><span class=ws> </span><span class=p0>$</span><span class=p1>OUTPUT_FILE</span><span class=ws> </span><span class=p0>$</span><span class=p1>BOLT_LOG</span>
</code></pre><pre aria-labelledby=sql class=sh hidden><code><span class=c0>--</span><span class=ws> </span><span class=c0>https://github.com/prisma/database-schema-examples/tree/master/postgres/basic-twitter#basic-twitter</span>
<span class=p0>CREATE</span><span class=ws> </span><span class=p0>TABLE</span><span class=ws> </span><span class=p1>tweet</span><span class=ws> </span><span class=p1>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>id</span><span class=ws> </span><span class=p0>BIGINT</span><span class=ws> </span><span class=p0>NOT</span><span class=ws> </span><span class=p0>NULL</span><span class=ws> </span><span class=p0>PRIMARY</span><span class=ws> </span><span class=p0>KEY</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>text</span><span class=ws> </span><span class=p0>TEXT</span><span class=ws> </span><span class=p0>NOT</span><span class=ws> </span><span class=p0>NULL</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>is_sent</span><span class=ws> </span><span class=p0>BOOLEAN</span><span class=ws> </span><span class=p0>NOT</span><span class=ws> </span><span class=p0>NULL</span><span class=ws> </span><span class=p0>DEFAULT</span><span class=ws> </span><span class=p1>TRUE,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>owner_id</span><span class=ws> </span><span class=p0>BIGINT</span>
<span class=p1>);</span>
<span class=p0>INSERT</span><span class=ws> </span><span class=p0>INTO</span><span class=ws> </span><span class=p1>tweet(id,</span><span class=ws> </span><span class=p0>text</span><span class=p1>,</span><span class=ws> </span><span class=p1>owner_id)</span>
<span class=p0>VALUES</span><span class=ws> </span><span class=p1>(1,</span><span class=ws> </span><span class=s0>'</span><span class=s1>#sqlx</span><span class=ws> </span><span class=s1>is</span><span class=ws> </span><span class=s1>pretty</span><span class=ws> </span><span class=s1>cool!</span><span class=s0>'</span><span class=p1>,</span><span class=ws> </span><span class=p1>1);</span>
<span class=c0>--</span>
<span class=p0>CREATE</span><span class=ws> </span><span class=p0>TABLE</span><span class=ws> </span><span class=p1>tweet_reply</span><span class=ws> </span><span class=p1>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>id</span><span class=ws> </span><span class=p0>BIGINT</span><span class=ws> </span><span class=p0>NOT</span><span class=ws> </span><span class=p0>NULL</span><span class=ws> </span><span class=p0>PRIMARY</span><span class=ws> </span><span class=p0>KEY</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>tweet_id</span><span class=ws> </span><span class=p0>BIGINT</span><span class=ws> </span><span class=p0>NOT</span><span class=ws> </span><span class=p0>NULL</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>text</span><span class=ws> </span><span class=p0>TEXT</span><span class=ws> </span><span class=p0>NOT</span><span class=ws> </span><span class=p0>NULL</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>owner_id</span><span class=ws> </span><span class=p0>BIGINT</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>CONSTRAINT</span><span class=ws> </span><span class=p1>tweet_id_fk</span><span class=ws> </span><span class=p0>FOREIGN</span><span class=ws> </span><span class=p0>KEY</span><span class=ws> </span><span class=p1>(tweet_id)</span><span class=ws> </span><span class=p0>REFERENCES</span><span class=ws> </span><span class=p1>tweet(id)</span>
<span class=p1>);</span>
<span class=p0>INSERT</span><span class=ws> </span><span class=p0>INTO</span><span class=ws> </span><span class=p1>tweet_reply(id,</span><span class=ws> </span><span class=p1>tweet_id,</span><span class=ws> </span><span class=p0>text</span><span class=p1>,</span><span class=ws> </span><span class=p1>owner_id)</span>
<span class=p0>VALUES</span><span class=ws> </span><span class=p1>(1,</span><span class=ws> </span><span class=p1>1,</span><span class=ws> </span><span class=s0>'</span><span class=s1>Yeah!</span><span class=ws> </span><span class=s1>#sqlx</span><span class=ws> </span><span class=s1>is</span><span class=ws> </span><span class=s1>indeed</span><span class=ws> </span><span class=s1>pretty</span><span class=ws> </span><span class=s1>cool!</span><span class=s0>'</span><span class=p1>,</span><span class=ws> </span><span class=p1>1);</span>
<span class=c0>--</span>
<span class=p0>CREATE</span><span class=ws> </span><span class=p0>TABLE</span><span class=ws> </span><span class=p1>accounts</span><span class=ws> </span><span class=p1>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>id</span><span class=ws> </span><span class=p0>INTEGER</span><span class=ws> </span><span class=p0>NOT</span><span class=ws> </span><span class=p0>NULL</span><span class=ws> </span><span class=p0>PRIMARY</span><span class=ws> </span><span class=p0>KEY</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>name</span><span class=ws> </span><span class=p0>TEXT</span><span class=ws> </span><span class=p0>NOT</span><span class=ws> </span><span class=p0>NULL</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>is_active</span><span class=ws> </span><span class=p0>BOOLEAN</span>
<span class=p1>);</span>
<span class=p0>INSERT</span><span class=ws> </span><span class=p0>INTO</span><span class=ws> </span><span class=p1>accounts(id,</span><span class=ws> </span><span class=p0>name</span><span class=p1>,</span><span class=ws> </span><span class=p1>is_active)</span>
<span class=p0>VALUES</span><span class=ws> </span><span class=p1>(1,</span><span class=ws> </span><span class=s0>'</span><span class=s1>Herp</span><span class=ws> </span><span class=s1>Derpinson</span><span class=s0>'</span><span class=p1>,</span><span class=ws> </span><span class=p1>1);</span>
<span class=p0>CREATE</span><span class=ws> </span><span class=p0>VIEW</span><span class=ws> </span><span class=p1>accounts_view</span><span class=ws> </span><span class=p0>as</span>
<span class=p0>SELECT</span><span class=ws> </span><span class=p1>*</span>
<span class=p0>FROM</span><span class=ws> </span><span class=p1>accounts;</span>
<span class=c0>--</span>
<span class=p0>CREATE</span><span class=ws> </span><span class=p0>TABLE</span><span class=ws> </span><span class=p1>products</span><span class=ws> </span><span class=p1>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>product_no</span><span class=ws> </span><span class=p0>INTEGER</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>name</span><span class=ws> </span><span class=p0>TEXT</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>price</span><span class=ws> </span><span class=p0>NUMERIC</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>CONSTRAINT</span><span class=ws> </span><span class=p1>price_greater_than_zero</span><span class=ws> </span><span class=p0>CHECK</span><span class=ws> </span><span class=p1>(price</span><span class=ws> </span><span class=p0>></span><span class=ws> </span><span class=p1>0)</span>
<span class=p1>);</span>
</code></pre><pre aria-labelledby=swift class=sh hidden><code><span class=c0>//</span>
<span class=c0>//</span><span class=ws> </span><span class=ws> </span><span class=c0>ControlChoiceViewController.swift</span>
<span class=c0>//</span><span class=ws> </span><span class=ws> </span><span class=c0>Lunar</span>
<span class=c0>//</span>
<span class=c0>//</span><span class=ws> </span><span class=ws> </span><span class=c0>Created</span><span class=ws> </span><span class=c0>by</span><span class=ws> </span><span class=c0>Alin</span><span class=ws> </span><span class=c0>Panaitiu</span><span class=ws> </span><span class=c0>on</span><span class=ws> </span><span class=c0>01.10.2021.</span>
<span class=c0>//</span><span class=ws> </span><span class=ws> </span><span class=c0>Copyright</span><span class=ws> </span><span class=c0>©</span><span class=ws> </span><span class=c0>2021</span><span class=ws> </span><span class=c0>Alin.</span><span class=ws> </span><span class=c0>All</span><span class=ws> </span><span class=c0>rights</span><span class=ws> </span><span class=c0>reserved.</span>
<span class=c0>//</span>

<span class=p0>import</span><span class=ws> </span><span class=p1>Cocoa</span>
<span class=p0>import</span><span class=ws> </span><span class=p1>Combine</span>
<span class=p0>import</span><span class=ws> </span><span class=p1>Foundation</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>MARK:</span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>GradientView</span>

<span class=p0>final</span><span class=ws> </span><span class=p0>class</span><span class=ws> </span><span class=p1>GradientView</span><span class=p0>:</span><span class=ws> </span><span class=p0>NSView</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>override</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>wantsDefaultClipping:</span><span class=ws> </span><span class=p0>Bool</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>false</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBInspectable</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>firstColor:</span><span class=ws> </span><span class=p1>NSColor</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>.clear</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>didSet</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>updateView</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBInspectable</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>secondColor:</span><span class=ws> </span><span class=p1>NSColor</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>.clear</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>didSet</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>updateView</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>updateView</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>layer</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>CAGradientLayer</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>layer.colors</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>[firstColor,</span><span class=ws> </span><span class=p1>secondColor].map</span><span class=p0>(</span><span class=p1>\.cgColor</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>layer.startPoint</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>CGPoint</span><span class=p0>(</span><span class=p1>x</span><span class=p0>:</span><span class=ws> </span><span class=p1>0,</span><span class=ws> </span><span class=p1>y</span><span class=p0>:</span><span class=ws> </span><span class=p1>0</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>layer.endPoint</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>CGPoint</span><span class=p0>(</span><span class=p1>x</span><span class=p0>:</span><span class=ws> </span><span class=p1>0.5,</span><span class=ws> </span><span class=p1>y</span><span class=p0>:</span><span class=ws> </span><span class=p1>0.45</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>blur</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>CIFilter</span><span class=p0>(</span><span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>CIGaussianBlur</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>parameters</span><span class=p0>:</span><span class=ws> </span><span class=p1>[</span><span class=s0>"</span><span class=s1>inputRadius</span><span class=s0>"</span><span class=p0>:</span><span class=ws> </span><span class=p1>20]</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>layer.filters</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>[blur]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>layer.masksToBounds</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self.layer</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>layer</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>MARK:</span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>LunarTestViewController</span>

<span class=p0>final</span><span class=ws> </span><span class=p0>class</span><span class=ws> </span><span class=p1>LunarTestViewController</span><span class=p0>:</span><span class=ws> </span><span class=p0>NSViewController</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>label:</span><span class=ws> </span><span class=p1>NSTextField</span><span class=p0>!</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@objc</span><span class=ws> </span><span class=p0>dynamic</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>lunarTestText</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>Checking</span><span class=ws> </span><span class=s1>Monitor</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>taskKey</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>lunarTestHighlighter</span><span class=s0>"</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>lunarTestHighlighter:</span><span class=ws> </span><span class=p1>Repeater</span><span class=p0>?</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>override</span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>viewDidAppear</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>end</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>d</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>DC.displays.values</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>d.testWindowController</span><span class=p0>?</span><span class=p1>.close</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>d.testWindowController</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>lunarTestHighlighter</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>Repeater</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>every</span><span class=p0>:</span><span class=ws> </span><span class=p1>2,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=p1>taskKey,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>onFinish</span><span class=p0>:</span><span class=ws> </span><span class=p1>end,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>onCancel</span><span class=p0>:</span><span class=ws> </span><span class=p1>end</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p0>in</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>self</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>end</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>label.transition</span><span class=p0>(</span><span class=p1>1.5,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeInOutCubic</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>label.textColor</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=p1>.white</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>label.textColor</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>darkMauve</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>label.textColor</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>.white</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>override</span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>viewDidLoad</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>label.textColor</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>.white</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>MARK:</span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>ControlReadResult</span>

<span class=p0>struct</span><span class=ws> </span><span class=p1>ControlReadResult</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>static</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>onlyBrightnessWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>ControlReadResult</span><span class=p0>(</span><span class=p1>brightness</span><span class=p0>:</span><span class=ws> </span><span class=p1>true,</span><span class=ws> </span><span class=p1>contrast</span><span class=p0>:</span><span class=ws> </span><span class=p1>false,</span><span class=ws> </span><span class=p1>volume</span><span class=p0>:</span><span class=ws> </span><span class=p1>false</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>static</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>allWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>ControlReadResult</span><span class=p0>(</span><span class=p1>brightness</span><span class=p0>:</span><span class=ws> </span><span class=p1>true,</span><span class=ws> </span><span class=p1>contrast</span><span class=p0>:</span><span class=ws> </span><span class=p1>true,</span><span class=ws> </span><span class=p1>volume</span><span class=p0>:</span><span class=ws> </span><span class=p1>true</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>static</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>noneWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>ControlReadResult</span><span class=p0>(</span><span class=p1>brightness</span><span class=p0>:</span><span class=ws> </span><span class=p1>false,</span><span class=ws> </span><span class=p1>contrast</span><span class=p0>:</span><span class=ws> </span><span class=p1>false,</span><span class=ws> </span><span class=p1>volume</span><span class=p0>:</span><span class=ws> </span><span class=p1>false</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>brightness:</span><span class=ws> </span><span class=p0>Bool</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>contrast:</span><span class=ws> </span><span class=p0>Bool</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>volume:</span><span class=ws> </span><span class=p0>Bool</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>all:</span><span class=ws> </span><span class=p0>Bool</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>brightness</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p1>contrast</span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>MARK:</span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>ControlWriteResult</span>

<span class=p0>struct</span><span class=ws> </span><span class=p1>ControlWriteResult</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>static</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>onlyBrightnessWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>ControlWriteResult</span><span class=p0>(</span><span class=p1>brightness</span><span class=p0>:</span><span class=ws> </span><span class=p1>true,</span><span class=ws> </span><span class=p1>contrast</span><span class=p0>:</span><span class=ws> </span><span class=p1>false,</span><span class=ws> </span><span class=p1>volume</span><span class=p0>:</span><span class=ws> </span><span class=p1>false</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>static</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>allWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>ControlWriteResult</span><span class=p0>(</span><span class=p1>brightness</span><span class=p0>:</span><span class=ws> </span><span class=p1>true,</span><span class=ws> </span><span class=p1>contrast</span><span class=p0>:</span><span class=ws> </span><span class=p1>true,</span><span class=ws> </span><span class=p1>volume</span><span class=p0>:</span><span class=ws> </span><span class=p1>true</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>static</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>noneWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>ControlWriteResult</span><span class=p0>(</span><span class=p1>brightness</span><span class=p0>:</span><span class=ws> </span><span class=p1>false,</span><span class=ws> </span><span class=p1>contrast</span><span class=p0>:</span><span class=ws> </span><span class=p1>false,</span><span class=ws> </span><span class=p1>volume</span><span class=p0>:</span><span class=ws> </span><span class=p1>false</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>brightness:</span><span class=ws> </span><span class=p0>Bool</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>contrast:</span><span class=ws> </span><span class=p0>Bool</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>volume:</span><span class=ws> </span><span class=p0>Bool</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>all:</span><span class=ws> </span><span class=p0>Bool</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>brightness</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p1>contrast</span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>MARK:</span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>ControlResult</span>

<span class=p0>struct</span><span class=ws> </span><span class=p1>ControlResult</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>static</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>onlyBrightnessWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>ControlResult</span><span class=p0>(</span><span class=p1>type</span><span class=p0>:</span><span class=ws> </span><span class=p1>.appleNative,</span><span class=ws> </span><span class=p1>read</span><span class=p0>:</span><span class=ws> </span><span class=p1>.onlyBrightnessWorked,</span><span class=ws> </span><span class=p1>write</span><span class=p0>:</span><span class=ws> </span><span class=p1>.onlyBrightnessWorked</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>static</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>allWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>ControlResult</span><span class=p0>(</span><span class=p1>type</span><span class=p0>:</span><span class=ws> </span><span class=p1>.ddc,</span><span class=ws> </span><span class=p1>read</span><span class=p0>:</span><span class=ws> </span><span class=p1>.allWorked,</span><span class=ws> </span><span class=p1>write</span><span class=p0>:</span><span class=ws> </span><span class=p1>.allWorked</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>static</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>noneWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>ControlResult</span><span class=p0>(</span><span class=p1>type</span><span class=p0>:</span><span class=ws> </span><span class=p1>.ddc,</span><span class=ws> </span><span class=p1>read</span><span class=p0>:</span><span class=ws> </span><span class=p1>.noneWorked,</span><span class=ws> </span><span class=p1>write</span><span class=p0>:</span><span class=ws> </span><span class=p1>.noneWorked</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>type:</span><span class=ws> </span><span class=p1>DisplayControl</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>read:</span><span class=ws> </span><span class=p1>ControlReadResult</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>write:</span><span class=ws> </span><span class=p1>ControlWriteResult</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>all:</span><span class=ws> </span><span class=p0>Bool</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>read.all</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p1>write.all</span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>MARK:</span><span class=ws> </span><span class=c0>-</span><span class=ws> </span><span class=c0>ControlChoiceViewController</span>

<span class=p0>final</span><span class=ws> </span><span class=p0>class</span><span class=ws> </span><span class=p1>ControlChoiceViewController</span><span class=p0>:</span><span class=ws> </span><span class=p0>NSViewController</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>cancelled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>displayImage:</span><span class=ws> </span><span class=p1>DisplayImage</span><span class=p0>?</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>_controlButton:</span><span class=ws> </span><span class=p1>NSButton</span><span class=p0>!</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>_ddcBlockersButton:</span><span class=ws> </span><span class=p1>NSButton</span><span class=p0>!</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>actionLabel:</span><span class=ws> </span><span class=p1>NSTextField</span><span class=p0>!</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>actionInfo:</span><span class=ws> </span><span class=p1>NSTextField</span><span class=p0>!</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>displayName:</span><span class=ws> </span><span class=p1>DisplayName</span><span class=p0>!</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>brightnessField:</span><span class=ws> </span><span class=p1>ScrollableTextField</span><span class=p0>!</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>contrastField:</span><span class=ws> </span><span class=p1>ScrollableTextField</span><span class=p0>!</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>brightnessCaption:</span><span class=ws> </span><span class=p1>NSTextField</span><span class=p0>!</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>contrastCaption:</span><span class=ws> </span><span class=p1>NSTextField</span><span class=p0>!</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>brightnessReadResult:</span><span class=ws> </span><span class=p1>NSTextField</span><span class=p0>!</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>contrastReadResult:</span><span class=ws> </span><span class=p1>NSTextField</span><span class=p0>!</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>volumeReadResult:</span><span class=ws> </span><span class=p1>NSTextField</span><span class=p0>!</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>brightnessWriteResult:</span><span class=ws> </span><span class=p1>NSTextField</span><span class=p0>!</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>contrastWriteResult:</span><span class=ws> </span><span class=p1>NSTextField</span><span class=p0>!</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>volumeWriteResult:</span><span class=ws> </span><span class=p1>NSTextField</span><span class=p0>!</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>volumeSlider:</span><span class=ws> </span><span class=p1>VolumeSlider</span><span class=p0>!</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>actionButton:</span><span class=ws> </span><span class=p1>Button</span><span class=p0>!</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>noButton:</span><span class=ws> </span><span class=p1>Button</span><span class=p0>!</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>yesButton:</span><span class=ws> </span><span class=p1>Button</span><span class=p0>!</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@IBOutlet</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>skipButton:</span><span class=ws> </span><span class=p1>Button</span><span class=p0>!</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>observers:</span><span class=ws> </span><span class=p0>Set&lt;AnyCancellable></span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>[]</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@objc</span><span class=ws> </span><span class=p0>dynamic</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>progress</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>@objc</span><span class=ws> </span><span class=p0>dynamic</span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>volume:</span><span class=ws> </span><span class=p0>Double</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>50</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>actionLabelColor</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>white.blended</span><span class=p0>(</span><span class=p1>withFraction</span><span class=p0>:</span><span class=ws> </span><span class=p1>0.2,</span><span class=ws> </span><span class=p1>of</span><span class=p0>:</span><span class=ws> </span><span class=p1>lunarYellow</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>actionInfoColor</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>white</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>wakeObserver:</span><span class=ws> </span><span class=p1>Cancellable</span><span class=p0>?</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>screenObserver:</span><span class=ws> </span><span class=p1>Cancellable</span><span class=p0>?</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>semaphore</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>DispatchSemaphore</span><span class=p0>(</span><span class=p1>value</span><span class=p0>:</span><span class=ws> </span><span class=p1>0,</span><span class=ws> </span><span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Control</span><span class=ws> </span><span class=s1>Choice</span><span class=s0>"</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>currentDisplay:</span><span class=ws> </span><span class=p1>Display</span><span class=p0>?</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>displayProgressStep:</span><span class=ws> </span><span class=p0>Double</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>controlProgressStep:</span><span class=ws> </span><span class=p0>Double</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>progressForLastDisplay:</span><span class=ws> </span><span class=p0>Double</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>progressForDisplay:</span><span class=ws> </span><span class=p0>Double</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>didAppear</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>controlButton:</span><span class=ws> </span><span class=p1>HelpButton</span><span class=p0>?</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>_controlButton</span><span class=ws> </span><span class=p0>as?</span><span class=ws> </span><span class=p1>HelpButton</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>ddcBlockersButton:</span><span class=ws> </span><span class=p1>OnboardingHelpButton</span><span class=p0>?</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>_ddcBlockersButton</span><span class=ws> </span><span class=p0>as?</span><span class=ws> </span><span class=p1>OnboardingHelpButton</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>info</span><span class=p0>(_</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=p0>String,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p0>NSColor)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionLabel.stringValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>text</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionLabel.transition</span><span class=p0>(</span><span class=p1>0.9,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutCubic</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionLabel.textColor</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>color</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainAsyncAfter</span><span class=p0>(</span><span class=p1>ms</span><span class=p0>:</span><span class=ws> </span><span class=p1>1000</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p0>in</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>self</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionLabel.transition</span><span class=p0>(</span><span class=p1>1.0,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutCubic</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionLabel.textColor</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>actionLabelColor</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>hideAction</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>ddcBlockersButton</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockersButton.transition</span><span class=p0>(</span><span class=p1>0.8,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockersButton.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockersButton.close</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockersButton.isEnabled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockersButton.isHidden</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionInfo.transition</span><span class=p0>(</span><span class=p1>0.8,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionInfo.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0.0</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionButton.transition</span><span class=p0>(</span><span class=p1>0.8,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionButton.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionButton.isEnabled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionButton.onClick</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>hideQuestion</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>ddcBlockersButton</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockersButton.transition</span><span class=p0>(</span><span class=p1>0.8,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockersButton.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockersButton.close</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockersButton.isEnabled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockersButton.isHidden</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionInfo.transition</span><span class=p0>(</span><span class=p1>0.8,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionInfo.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0.0</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>noButton.transition</span><span class=p0>(</span><span class=p1>0.8,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>noButton.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>noButton.isEnabled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>noButton.onClick</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>yesButton.transition</span><span class=p0>(</span><span class=p1>0.8,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>yesButton.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>yesButton.isEnabled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>yesButton.onClick</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>waitForAction</span><span class=p0>(_</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=p0>String,</span><span class=ws> </span><span class=p1>buttonColor</span><span class=p0>:</span><span class=ws> </span><span class=p0>NSColor,</span><span class=ws> </span><span class=p1>buttonText</span><span class=p0>:</span><span class=ws> </span><span class=p0>NSAttributedString,</span><span class=ws> </span><span class=p1>action</span><span class=p0>:</span><span class=ws> </span><span class=p0>@escaping</span><span class=ws> </span><span class=p0>(()</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p0>Void))</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainAsyncAfter</span><span class=p0>(</span><span class=p1>ms</span><span class=p0>:</span><span class=ws> </span><span class=p1>1100</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p0>in</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>self</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionInfo.transition</span><span class=p0>(</span><span class=p1>0.5,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeInOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionInfo.textColor</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>actionInfoColor</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionInfo.stringValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>text</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionInfo.transition</span><span class=p0>(</span><span class=p1>0.8,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutCubic</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionInfo.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>1.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionInfo.transition</span><span class=p0>(</span><span class=p1>1.0,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutCubic</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionInfo.textColor</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>peach</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionButton.bg</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>buttonColor</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionButton.attributedTitle</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>buttonText</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionButton.isEnabled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionButton.transition</span><span class=p0>(</span><span class=p1>0.8,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutCubic</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionButton.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>1.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionButton.onClick</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p0>in</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>log.info</span><span class=p0>(</span><span class=s0>"</span><span class=s1>Clicked</span><span class=ws> </span><span class=s1>'</span><span class=p0>\(</span><span class=p1>buttonText.string</span><span class=p0>)</span><span class=s1>'</span><span class=ws> </span><span class=s1>on</span><span class=ws> </span><span class=s1>'</span><span class=p0>\(</span><span class=p1>text</span><span class=p0>)</span><span class=s1>'</span><span class=s0>"</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>self</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.semaphore.signal</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>semaphore.signal</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>hideAction</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>semaphore.wait</span><span class=p0>(</span><span class=p1>for</span><span class=p0>:</span><span class=ws> </span><span class=p1>0</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>!</span><span class=p1>cancelled</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>action</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>askQuestion</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>_</span><span class=ws> </span><span class=p1>question</span><span class=p0>:</span><span class=ws> </span><span class=p0>String,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>yesButtonText</span><span class=p0>:</span><span class=ws> </span><span class=p0>String</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>Yes</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>noButtonText</span><span class=p0>:</span><span class=ws> </span><span class=p0>String</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>No</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockerText</span><span class=p0>:</span><span class=ws> </span><span class=p0>String?</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>answer</span><span class=p0>:</span><span class=ws> </span><span class=p0>@escaping</span><span class=ws> </span><span class=p0>((Bool)</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p0>Void)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainAsyncAfter</span><span class=p0>(</span><span class=p1>ms</span><span class=p0>:</span><span class=ws> </span><span class=p1>1100</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p0>in</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>self</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionInfo.transition</span><span class=p0>(</span><span class=p1>0.8,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutCubic</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionInfo.textColor</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>actionInfoColor</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionInfo.stringValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>question</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionInfo.transition</span><span class=p0>(</span><span class=p1>0.8,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutCubic</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionInfo.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>1.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionInfo.transition</span><span class=p0>(</span><span class=p1>1.0,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutCubic</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionInfo.textColor</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>peach</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>noButton.transition</span><span class=p0>(</span><span class=p1>0.8,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutCubic</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>noButton.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>1.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>noButton.isEnabled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>noButton.attributedTitle</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>noButtonText.withTextColor</span><span class=p0>(</span><span class=p1>white</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>yesButton.transition</span><span class=p0>(</span><span class=p1>0.8,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutCubic</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>yesButton.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>1.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>yesButton.isEnabled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>yesButton.attributedTitle</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>yesButtonText.withTextColor</span><span class=p0>(</span><span class=p1>white</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>ddcBlockerText,</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>ddcBlockersButton</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockersButton.helpText</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>ddcBlockerText</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockersButton.isEnabled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockersButton.isHidden</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockersButton.transition</span><span class=p0>(</span><span class=p1>0.8,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutCubic</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockersButton.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>1.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockersButton.open</span><span class=p0>(</span><span class=p1>edge</span><span class=p0>:</span><span class=ws> </span><span class=p1>.maxX</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>answerResult</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>noButton.onClick</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p0>in</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>log.info</span><span class=p0>(</span><span class=s0>"</span><span class=s1>Answered</span><span class=ws> </span><span class=s1>'no'</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>'</span><span class=p0>\(</span><span class=p1>question</span><span class=p0>)</span><span class=s1>'</span><span class=s0>"</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>self</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.semaphore.signal</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>answerResult</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>semaphore.signal</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>hideQuestion</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>yesButton.onClick</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p0>in</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>log.info</span><span class=p0>(</span><span class=s0>"</span><span class=s1>Answered</span><span class=ws> </span><span class=s1>'yes'</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>'</span><span class=p0>\(</span><span class=p1>question</span><span class=p0>)</span><span class=s1>'</span><span class=s0>"</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>self</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.semaphore.signal</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>answerResult</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>semaphore.signal</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>hideQuestion</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>semaphore.wait</span><span class=p0>(</span><span class=p1>for</span><span class=p0>:</span><span class=ws> </span><span class=p1>0</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>!</span><span class=p1>cancelled</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>answer</span><span class=p0>(</span><span class=p1>answerResult</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>setBrightness</span><span class=p0>(_</span><span class=ws> </span><span class=p1>brightness</span><span class=p0>:</span><span class=ws> </span><span class=p0>Brightness)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>brightnessField.alphaValue</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=p1>0</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>brightnessField.transition</span><span class=p0>(</span><span class=p1>1.0,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>brightnessField.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>1.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>brightnessCaption.transition</span><span class=p0>(</span><span class=p1>1.0,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>brightnessCaption.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>1.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>br</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>stride</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>from</span><span class=p0>:</span><span class=ws> </span><span class=p1>brightnessField.integerValue,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>through</span><span class=p0>:</span><span class=ws> </span><span class=p1>brightness.i,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>by</span><span class=p0>:</span><span class=ws> </span><span class=p1>brightnessField.integerValue</span><span class=ws> </span><span class=p0>&lt;</span><span class=ws> </span><span class=p1>brightness.i</span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=p1>1</span><span class=ws> </span><span class=p0>:</span><span class=ws> </span><span class=p1>-1</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>brightnessField.integerValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>br</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>0.01</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>setContrast</span><span class=p0>(_</span><span class=ws> </span><span class=p1>contrast</span><span class=p0>:</span><span class=ws> </span><span class=p0>Contrast)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>contrastField.alphaValue</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=p1>0</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contrastField.transition</span><span class=p0>(</span><span class=p1>1.0,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contrastField.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>1.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contrastCaption.transition</span><span class=p0>(</span><span class=p1>1.0,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contrastCaption.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>1.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>cr</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>stride</span><span class=p0>(</span><span class=p1>from</span><span class=p0>:</span><span class=ws> </span><span class=p1>contrastField.integerValue,</span><span class=ws> </span><span class=p1>through</span><span class=p0>:</span><span class=ws> </span><span class=p1>contrast.i,</span><span class=ws> </span><span class=p1>by</span><span class=p0>:</span><span class=ws> </span><span class=p1>contrastField.integerValue</span><span class=ws> </span><span class=p0>&lt;</span><span class=ws> </span><span class=p1>contrast.i</span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=p1>1</span><span class=ws> </span><span class=p0>:</span><span class=ws> </span><span class=p1>-1</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>contrastField.integerValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>cr</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>0.01</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>setControl</span><span class=p0>(_</span><span class=ws> </span><span class=p1>control</span><span class=p0>:</span><span class=ws> </span><span class=p0>DisplayControl,</span><span class=ws> </span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=p0>Display)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>!</span><span class=p1>cancelled,</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>button</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>controlButton</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>switch</span><span class=ws> </span><span class=p1>control</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>case</span><span class=ws> </span><span class=p1>.appleNative</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>button.bg</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>.clear</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>button.attributedTitle</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>Using</span><span class=ws> </span><span class=s1>Apple</span><span class=ws> </span><span class=s1>Native</span><span class=ws> </span><span class=s1>Protocol</span><span class=s0>"</span><span class=p1>.withTextColor</span><span class=p0>(</span><span class=p1>green</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>button.helpText</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>NATIVE_CONTROLS_HELP_TEXT</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>case</span><span class=ws> </span><span class=p1>.ddc</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>button.bg</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>.clear</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>button.attributedTitle</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>Using</span><span class=ws> </span><span class=s1>DDC</span><span class=ws> </span><span class=s1>Protocol</span><span class=s0>"</span><span class=p1>.withTextColor</span><span class=p0>(</span><span class=p1>peach</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>button.helpText</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>HARDWARE_CONTROLS_HELP_TEXT</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>case</span><span class=ws> </span><span class=p1>.network</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>button.bg</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>.clear</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>button.attributedTitle</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>Using</span><span class=ws> </span><span class=s1>DDC-over-Network</span><span class=ws> </span><span class=s1>Protocol</span><span class=s0>"</span><span class=p1>.withTextColor</span><span class=p0>(</span><span class=p1>blue.highlight</span><span class=p0>(</span><span class=p1>withLevel</span><span class=p0>:</span><span class=ws> </span><span class=p1>0.2</span><span class=p0>)</span><span class=ws> </span><span class=p0>??</span><span class=ws> </span><span class=p1>blue</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>button.helpText</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>NETWORK_CONTROLS_HELP_TEXT</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>case</span><span class=ws> </span><span class=p1>.gamma</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>display.enabledControls</span><span class=p0>[</span><span class=p1>.gamma</span><span class=p0>]</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>button.bg</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>.clear</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>display.supportsGamma</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>button.attributedTitle</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>Using</span><span class=ws> </span><span class=s1>Gamma</span><span class=ws> </span><span class=s1>Approximation</span><span class=s0>"</span><span class=p1>.withTextColor</span><span class=p0>(</span><span class=p1>red</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>button.helpText</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>SOFTWARE_CONTROLS_HELP_TEXT</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>button.attributedTitle</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>Using</span><span class=ws> </span><span class=s1>Dark</span><span class=ws> </span><span class=s1>Overlay</span><span class=s0>"</span><span class=p1>.withTextColor</span><span class=p0>(</span><span class=p1>red</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>button.helpText</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>SOFTWARE_OVERLAY_HELP_TEXT</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>default:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>break</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>button.isEnabled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>button.isHidden</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>button.transition</span><span class=p0>(</span><span class=p1>1.0,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>button.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>1.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>setVolume</span><span class=p0>(_</span><span class=ws> </span><span class=p1>volume</span><span class=p0>:</span><span class=ws> </span><span class=p0>UInt16)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>volumeSlider.alphaValue</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=p1>0</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>volumeSlider.isEnabled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>volumeSlider.isHidden</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>volumeSlider.transition</span><span class=p0>(</span><span class=p1>1.0,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>volumeSlider.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>1.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>vol</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>stride</span><span class=p0>(</span><span class=p1>from</span><span class=p0>:</span><span class=ws> </span><span class=p1>self.volume.i,</span><span class=ws> </span><span class=p1>through</span><span class=p0>:</span><span class=ws> </span><span class=p1>volume.i,</span><span class=ws> </span><span class=p1>by</span><span class=p0>:</span><span class=ws> </span><span class=p1>self.volume.i</span><span class=ws> </span><span class=p0>&lt;</span><span class=ws> </span><span class=p1>volume.i</span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=p1>4</span><span class=ws> </span><span class=p0>:</span><span class=ws> </span><span class=p1>-4</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>self.volume</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>vol.d</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>0.02</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(_</span><span class=ws> </span><span class=p1>resultControl</span><span class=p0>:</span><span class=ws> </span><span class=p0>NSTextField,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=p0>String,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p0>NSColor,</span><span class=ws> </span><span class=p1>transitionSpeed</span><span class=p0>:</span><span class=ws> </span><span class=p0>TimeInterval</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>1.5</span><span class=p0>,</span><span class=ws> </span><span class=p1>alpha</span><span class=p0>:</span><span class=ws> </span><span class=p0>Double</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>1.0</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>resultControl.stringValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>text</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>resultControl.textColor</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>color</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>resultControl.transition</span><span class=p0>(</span><span class=p1>transitionSpeed</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>resultControl.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>alpha</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>testControl</span><span class=p0>(_</span><span class=ws> </span><span class=p1>control</span><span class=p0>:</span><span class=ws> </span><span class=p0>Control,</span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=p0>Display)</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p0>ControlResult</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>hideDisplayValues</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>hideAction</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>hideQuestion</span><span class=p0>()</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>readWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>testControlRead</span><span class=p0>(</span><span class=p1>control,</span><span class=ws> </span><span class=p1>for</span><span class=p0>:</span><span class=ws> </span><span class=p1>display</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setControlProgress</span><span class=p0>(</span><span class=p1>0.5</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>readWorked.all</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>info</span><span class=p0>(</span><span class=s0>""</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>peach</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>var</span><span class=ws> </span><span class=c0>writeWorked</span><span class=ws> </span><span class=c0>=</span><span class=ws> </span><span class=c0>ControlWriteResult.noneWorked</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>waitForAction(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>"Reading</span><span class=ws> </span><span class=c0>didn't</span><span class=ws> </span><span class=c0>work</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>some</span><span class=ws> </span><span class=c0>values\nWrite</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>missing</span><span class=ws> </span><span class=c0>values</span><span class=ws> </span><span class=c0>manually</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>click</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>Continue</span><span class=ws> </span><span class=c0>button",</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>buttonColor:</span><span class=ws> </span><span class=c0>lunarYellow,</span><span class=ws> </span><span class=c0>buttonText:</span><span class=ws> </span><span class=c0>"Continue".withTextColor(mauve)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>)</span><span class=ws> </span><span class=c0>{</span><span class=ws> </span><span class=c0>[weak</span><span class=ws> </span><span class=c0>self]</span><span class=ws> </span><span class=c0>in</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>guard</span><span class=ws> </span><span class=c0>let</span><span class=ws> </span><span class=c0>self</span><span class=ws> </span><span class=c0>else</span><span class=ws> </span><span class=c0>{</span><span class=ws> </span><span class=c0>return</span><span class=ws> </span><span class=c0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>writeWorked</span><span class=ws> </span><span class=c0>=</span><span class=ws> </span><span class=c0>self.testControlWrite(control,</span><span class=ws> </span><span class=c0>for:</span><span class=ws> </span><span class=c0>display)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>writeWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>testControlWrite</span><span class=p0>(</span><span class=p1>control,</span><span class=ws> </span><span class=p1>for</span><span class=p0>:</span><span class=ws> </span><span class=p1>display</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>ControlResult</span><span class=p0>(</span><span class=p1>type</span><span class=p0>:</span><span class=ws> </span><span class=p1>control.displayControl,</span><span class=ws> </span><span class=p1>read</span><span class=p0>:</span><span class=ws> </span><span class=p1>readWorked,</span><span class=ws> </span><span class=p1>write</span><span class=p0>:</span><span class=ws> </span><span class=p1>writeWorked</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>info</span><span class=p0>(</span><span class=s0>"</span><span class=s1>Starting</span><span class=ws> </span><span class=s1>write</span><span class=ws> </span><span class=s1>tests</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>peach</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>3</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>writeWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>testControlWrite</span><span class=p0>(</span><span class=p1>control,</span><span class=ws> </span><span class=p1>for</span><span class=p0>:</span><span class=ws> </span><span class=p1>display</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>ControlResult</span><span class=p0>(</span><span class=p1>type</span><span class=p0>:</span><span class=ws> </span><span class=p1>control.displayControl,</span><span class=ws> </span><span class=p1>read</span><span class=p0>:</span><span class=ws> </span><span class=p1>readWorked,</span><span class=ws> </span><span class=p1>write</span><span class=p0>:</span><span class=ws> </span><span class=p1>writeWorked</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>testControlWrite</span><span class=p0>(_</span><span class=ws> </span><span class=p1>control</span><span class=p0>:</span><span class=ws> </span><span class=p0>Control,</span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=p0>Display)</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p0>ControlWriteResult</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>#if</span><span class=ws> </span><span class=c0>DEBUG</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>return</span><span class=ws> </span><span class=c0>.noneWorked</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>#endif</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>currentBrightness:</span><span class=ws> </span><span class=p0>UInt16</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>brightnessField.integerValue</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=p1>0</span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=p1>50</span><span class=ws> </span><span class=p0>:</span><span class=ws> </span><span class=p1>brightnessField.integerValue.u16</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>currentContrast:</span><span class=ws> </span><span class=p0>UInt16</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>contrastField.integerValue</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=p1>0</span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=p1>50</span><span class=ws> </span><span class=p0>:</span><span class=ws> </span><span class=p1>contrastField.integerValue.u16</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>currentVolume:</span><span class=ws> </span><span class=p0>UInt16</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>volume</span><span class=ws> </span><span class=p0>==</span><span class=ws> </span><span class=p1>0</span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=p1>50</span><span class=ws> </span><span class=p0>:</span><span class=ws> </span><span class=p1>volume.u16</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>brightnessWriteWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>contrastWriteWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>volumeWriteWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>control</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>control</span><span class=ws> </span><span class=p0>as?</span><span class=ws> </span><span class=p1>DDCControl</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>control.ignoreFaults</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>defer</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>control</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>control</span><span class=ws> </span><span class=p0>as?</span><span class=ws> </span><span class=p1>DDCControl</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>control.ignoreFaults</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>setWriteProgress</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>value</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>self.setControlProgress</span><span class=p0>(</span><span class=p1>0.5</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p0>(</span><span class=p1>0.5</span><span class=ws> </span><span class=p0>*</span><span class=ws> </span><span class=p1>value</span><span class=p0>))</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>info</span><span class=p0>(</span><span class=s0>"</span><span class=s1>Writing</span><span class=ws> </span><span class=s1>brightness</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>peach</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setWriteProgress</span><span class=p0>(</span><span class=p1>0.1</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>display.withBrightnessTransition</span><span class=p0>(</span><span class=p1>.slow</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>display.enabledControls</span><span class=p0>[</span><span class=p1>control.displayControl</span><span class=p0>]</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>newBr:</span><span class=ws> </span><span class=p0>UInt16</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>currentBrightness</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>0</span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=p0>(</span><span class=p1>control.isSoftware</span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=p1>25</span><span class=ws> </span><span class=p0>:</span><span class=ws> </span><span class=p1>0</span><span class=p0>)</span><span class=ws> </span><span class=p0>:</span><span class=ws> </span><span class=p1>50</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>oldBr:</span><span class=ws> </span><span class=p0>UInt16</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>currentBrightness</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>write1Worked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>control.setBrightness</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>newBr,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>oldValue</span><span class=p0>:</span><span class=ws> </span><span class=p1>oldBr,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>force</span><span class=p0>:</span><span class=ws> </span><span class=p1>true,</span><span class=ws> </span><span class=p1>transition</span><span class=p0>:</span><span class=ws> </span><span class=p1>.smooth,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>onChange</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p1>br</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.setBrightness</span><span class=p0>(</span><span class=p1>br</span><span class=p0>)</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>control.isSoftware,</span><span class=ws> </span><span class=p0>!</span><span class=p1>display.supportsGamma</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setBrightness</span><span class=p0>(</span><span class=p1>newBr</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>4</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setWriteProgress</span><span class=p0>(</span><span class=p1>0.15</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>oldBr</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>newBr</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>newBr</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>75</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>write2Worked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>control.setBrightness</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>newBr,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>oldValue</span><span class=p0>:</span><span class=ws> </span><span class=p1>oldBr,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>force</span><span class=p0>:</span><span class=ws> </span><span class=p1>true,</span><span class=ws> </span><span class=p1>transition</span><span class=p0>:</span><span class=ws> </span><span class=p1>.smooth,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>onChange</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p1>br</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.setBrightness</span><span class=p0>(</span><span class=p1>br</span><span class=p0>)</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>control.isSoftware,</span><span class=ws> </span><span class=p0>!</span><span class=p1>display.supportsGamma</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setBrightness</span><span class=p0>(</span><span class=p1>newBr</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>4</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setWriteProgress</span><span class=p0>(</span><span class=p1>0.2</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>oldBr</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>newBr</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>newBr</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>control.isSoftware</span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=p1>100</span><span class=ws> </span><span class=p0>:</span><span class=ws> </span><span class=p1>67</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>write3Worked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>control.setBrightness</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>newBr,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>oldValue</span><span class=p0>:</span><span class=ws> </span><span class=p1>oldBr,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>force</span><span class=p0>:</span><span class=ws> </span><span class=p1>true,</span><span class=ws> </span><span class=p1>transition</span><span class=p0>:</span><span class=ws> </span><span class=p1>.smooth,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>onChange</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p1>br</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.setBrightness</span><span class=p0>(</span><span class=p1>br</span><span class=p0>)</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>control.isSoftware,</span><span class=ws> </span><span class=p0>!</span><span class=p1>display.supportsGamma</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setBrightness</span><span class=p0>(</span><span class=p1>newBr</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>brightnessWriteWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>write1Worked.i</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>write2Worked.i</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>write3Worked.i</span><span class=p0>)</span><span class=ws> </span><span class=p0>>=</span><span class=ws> </span><span class=p1>2</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setWriteProgress</span><span class=p0>(</span><span class=p1>0.25</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>!</span><span class=p1>control.isSoftware</span><span class=ws> </span><span class=p0>||</span><span class=ws> </span><span class=p1>display.supportsGamma</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setContrast</span><span class=p0>(</span><span class=p1>100</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setVolume</span><span class=p0>(</span><span class=p1>50</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>contrastWriteResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Write</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>supported</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>peach</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>volumeWriteResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Write</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>supported</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>peach</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>ControlWriteResult</span><span class=p0>(</span><span class=p1>brightness</span><span class=p0>:</span><span class=ws> </span><span class=p1>true,</span><span class=ws> </span><span class=p1>contrast</span><span class=p0>:</span><span class=ws> </span><span class=p1>false,</span><span class=ws> </span><span class=p1>volume</span><span class=p0>:</span><span class=ws> </span><span class=p1>false</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>brightnessWriteWorked</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>brightnessWriteResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Write</span><span class=ws> </span><span class=s1>seemed</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>work</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>peach</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>askQuestion</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>control.isSoftware</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=s0>"</span><span class=s1>Was</span><span class=ws> </span><span class=s1>there</span><span class=ws> </span><span class=s1>any</span><span class=ws> </span><span class=s1>change</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=s1>brightness</span><span class=ws> </span><span class=s1>on</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>tested</span><span class=ws> </span><span class=s1>display?</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Was</span><span class=ws> </span><span class=s1>there</span><span class=ws> </span><span class=s1>any</span><span class=ws> </span><span class=s1>change</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=s1>brightness</span><span class=ws> </span><span class=s1>on</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>tested</span><span class=ws> </span><span class=s1>display?\nThe</span><span class=ws> </span><span class=s1>brightness</span><span class=ws> </span><span class=s1>value</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>monitor</span><span class=ws> </span><span class=s1>settings</span><span class=ws> </span><span class=s1>should</span><span class=ws> </span><span class=s1>now</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>set</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>67</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p1>itWorked</span><span class=ws> </span><span class=p0>in</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>self</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>itWorked</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>brightnessWriteResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Write</span><span class=ws> </span><span class=s1>worked</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>green</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>brightnessWriteWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>brightnessWriteResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Failed</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>write</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>red</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>brightnessWriteResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Failed</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>write</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>red</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>!</span><span class=p1>control.isSoftware</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setContrast</span><span class=p0>(</span><span class=p1>100</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setVolume</span><span class=p0>(</span><span class=p1>50</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>contrastWriteResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Write</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>supported</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>peach</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>volumeWriteResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Write</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>supported</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>peach</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>ControlWriteResult</span><span class=p0>(</span><span class=p1>brightness</span><span class=p0>:</span><span class=ws> </span><span class=p1>true,</span><span class=ws> </span><span class=p1>contrast</span><span class=p0>:</span><span class=ws> </span><span class=p1>false,</span><span class=ws> </span><span class=p1>volume</span><span class=p0>:</span><span class=ws> </span><span class=p1>false</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setWriteProgress</span><span class=p0>(</span><span class=p1>0.3</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>info</span><span class=p0>(</span><span class=s0>"</span><span class=s1>Writing</span><span class=ws> </span><span class=s1>contrast</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>peach</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>display.withBrightnessTransition</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setWriteProgress</span><span class=p0>(</span><span class=p1>0.35</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>newCr:</span><span class=ws> </span><span class=p0>UInt16</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>currentContrast</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>0</span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=p1>0</span><span class=ws> </span><span class=p0>:</span><span class=ws> </span><span class=p1>50</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>oldCr:</span><span class=ws> </span><span class=p0>UInt16</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>currentContrast</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>write1Worked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>control.setContrast</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>newCr,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>oldValue</span><span class=p0>:</span><span class=ws> </span><span class=p1>oldCr,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>transition</span><span class=p0>:</span><span class=ws> </span><span class=p1>.smooth,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>onChange</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p1>br</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.setContrast</span><span class=p0>(</span><span class=p1>br</span><span class=p0>)</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>4</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setWriteProgress</span><span class=p0>(</span><span class=p1>0.4</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>oldCr</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>newCr</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>newCr</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>75</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>write2Worked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>control.setContrast</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>newCr,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>oldValue</span><span class=p0>:</span><span class=ws> </span><span class=p1>oldCr,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>transition</span><span class=p0>:</span><span class=ws> </span><span class=p1>.smooth,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>onChange</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p1>br</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.setContrast</span><span class=p0>(</span><span class=p1>br</span><span class=p0>)</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>4</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setWriteProgress</span><span class=p0>(</span><span class=p1>0.45</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>oldCr</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>newCr</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>newCr</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>67</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>write3Worked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>control.setContrast</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>newCr,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>oldValue</span><span class=p0>:</span><span class=ws> </span><span class=p1>oldCr,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>transition</span><span class=p0>:</span><span class=ws> </span><span class=p1>.smooth,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>onChange</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p1>br</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.setContrast</span><span class=p0>(</span><span class=p1>br</span><span class=p0>)</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contrastWriteWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>write1Worked.i</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>write2Worked.i</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>write3Worked.i</span><span class=p0>)</span><span class=ws> </span><span class=p0>>=</span><span class=ws> </span><span class=p1>2</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setWriteProgress</span><span class=p0>(</span><span class=p1>0.5</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>contrastWriteWorked</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>contrastWriteResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Write</span><span class=ws> </span><span class=s1>seemed</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>work</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>peach</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>askQuestion</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>Was</span><span class=ws> </span><span class=s1>there</span><span class=ws> </span><span class=s1>any</span><span class=ws> </span><span class=s1>change</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=s1>contrast</span><span class=ws> </span><span class=s1>on</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>tested</span><span class=ws> </span><span class=s1>display?\nThe</span><span class=ws> </span><span class=s1>contrast</span><span class=ws> </span><span class=s1>value</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>monitor</span><span class=ws> </span><span class=s1>settings</span><span class=ws> </span><span class=s1>should</span><span class=ws> </span><span class=s1>now</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>set</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>67</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p1>itWorked</span><span class=ws> </span><span class=p0>in</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>self</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>itWorked</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>contrastWriteResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Write</span><span class=ws> </span><span class=s1>worked</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>green</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contrastWriteWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>contrastWriteResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Failed</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>write</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>red</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>contrastWriteResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Failed</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>write</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>red</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setWriteProgress</span><span class=p0>(</span><span class=p1>0.55</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>info</span><span class=p0>(</span><span class=s0>"</span><span class=s1>Writing</span><span class=ws> </span><span class=s1>volume</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>peach</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setVolume</span><span class=p0>(</span><span class=p1>0</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>write1Worked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>control.setVolume</span><span class=p0>(</span><span class=p1>0</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setWriteProgress</span><span class=p0>(</span><span class=p1>0.6</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setVolume</span><span class=p0>(</span><span class=p1>75</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>write2Worked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>control.setVolume</span><span class=p0>(</span><span class=p1>75</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setWriteProgress</span><span class=p0>(</span><span class=p1>0.65</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setVolume</span><span class=p0>(</span><span class=p1>23</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>write3Worked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>control.setVolume</span><span class=p0>(</span><span class=p1>23</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>volumeWriteWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>write1Worked.i</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>write2Worked.i</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>write3Worked.i</span><span class=p0>)</span><span class=ws> </span><span class=p0>>=</span><span class=ws> </span><span class=p1>2</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setWriteProgress</span><span class=p0>(</span><span class=p1>0.7</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>volumeWriteWorked</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>volumeWriteResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Write</span><span class=ws> </span><span class=s1>seemed</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>work</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>peach</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>askQuestion</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>Was</span><span class=ws> </span><span class=s1>there</span><span class=ws> </span><span class=s1>any</span><span class=ws> </span><span class=s1>change</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=s1>volume</span><span class=ws> </span><span class=s1>on</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>tested</span><span class=ws> </span><span class=s1>display?\nThe</span><span class=ws> </span><span class=s1>volume</span><span class=ws> </span><span class=s1>value</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>monitor</span><span class=ws> </span><span class=s1>settings</span><span class=ws> </span><span class=s1>should</span><span class=ws> </span><span class=s1>now</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>set</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>23</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p1>itWorked</span><span class=ws> </span><span class=p0>in</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>self</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>itWorked</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>volumeWriteResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Write</span><span class=ws> </span><span class=s1>worked</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>white</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>volumeWriteWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>volumeWriteResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Failed</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>write</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>peach</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>volumeWriteResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Failed</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>write</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>red</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setWriteProgress</span><span class=p0>(</span><span class=p1>0.8</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>info</span><span class=p0>(</span><span class=s0>"</span><span class=s1>Setting</span><span class=ws> </span><span class=s1>values</span><span class=ws> </span><span class=s1>before</span><span class=ws> </span><span class=s1>test</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>peach</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>2</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>_</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>control.setBrightness</span><span class=p0>(</span><span class=p1>currentBrightness,</span><span class=ws> </span><span class=p1>oldValue</span><span class=p0>:</span><span class=ws> </span><span class=p1>nil,</span><span class=ws> </span><span class=p1>force</span><span class=p0>:</span><span class=ws> </span><span class=p1>true,</span><span class=ws> </span><span class=p1>transition</span><span class=p0>:</span><span class=ws> </span><span class=p1>.smooth,</span><span class=ws> </span><span class=p1>onChange</span><span class=p0>:</span><span class=ws> </span><span class=p1>nil</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setBrightness</span><span class=p0>(</span><span class=p1>currentBrightness</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setWriteProgress</span><span class=p0>(</span><span class=p1>0.85</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>0.5</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>_</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>control.setContrast</span><span class=p0>(</span><span class=p1>currentContrast,</span><span class=ws> </span><span class=p1>oldValue</span><span class=p0>:</span><span class=ws> </span><span class=p1>nil,</span><span class=ws> </span><span class=p1>transition</span><span class=p0>:</span><span class=ws> </span><span class=p1>.smooth,</span><span class=ws> </span><span class=p1>onChange</span><span class=p0>:</span><span class=ws> </span><span class=p1>nil</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setContrast</span><span class=p0>(</span><span class=p1>currentContrast</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setWriteProgress</span><span class=p0>(</span><span class=p1>0.9</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>0.5</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>_</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>control.setVolume</span><span class=p0>(</span><span class=p1>currentVolume</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setVolume</span><span class=p0>(</span><span class=p1>currentVolume</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setWriteProgress</span><span class=p0>(</span><span class=p1>0.95</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>0.5</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>ControlWriteResult</span><span class=p0>(</span><span class=p1>brightness</span><span class=p0>:</span><span class=ws> </span><span class=p1>brightnessWriteWorked,</span><span class=ws> </span><span class=p1>contrast</span><span class=p0>:</span><span class=ws> </span><span class=p1>contrastWriteWorked,</span><span class=ws> </span><span class=p1>volume</span><span class=p0>:</span><span class=ws> </span><span class=p1>volumeWriteWorked</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(_</span><span class=ws> </span><span class=p1>seconds</span><span class=p0>:</span><span class=ws> </span><span class=p0>TimeInterval)</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p0>Bool</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>#if</span><span class=ws> </span><span class=c0>DEBUG</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>return</span><span class=ws> </span><span class=c0>!cancelled</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>#endif</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Thread.sleep</span><span class=p0>(</span><span class=p1>forTimeInterval</span><span class=p0>:</span><span class=ws> </span><span class=p1>seconds</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>!</span><span class=p1>cancelled</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>testControlRead</span><span class=p0>(_</span><span class=ws> </span><span class=p1>control</span><span class=p0>:</span><span class=ws> </span><span class=p0>Control,</span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>_</span><span class=p0>:</span><span class=ws> </span><span class=p0>Display)</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p0>ControlReadResult</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>brightnessReadWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>contrastReadWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>volumeReadWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>setReadProgress</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>value</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>self.setControlProgress</span><span class=p0>(</span><span class=p1>0.5</span><span class=ws> </span><span class=p0>*</span><span class=ws> </span><span class=p1>value</span><span class=p0>)</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>!</span><span class=p1>control.isSoftware</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setBrightness</span><span class=p0>(</span><span class=p1>100</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setContrast</span><span class=p0>(</span><span class=p1>100</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setVolume</span><span class=p0>(</span><span class=p1>50</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>brightnessReadResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Read</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>supported</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>peach</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>contrastReadResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Read</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>supported</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>peach</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>volumeReadResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Read</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>supported</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>peach</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>info</span><span class=p0>(</span><span class=s0>"</span><span class=s1>Reading</span><span class=ws> </span><span class=s1>brightness</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>peach</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>brightnessThatWasRead:</span><span class=ws> </span><span class=p0>UInt16</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>br</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>control.getBrightness</span><span class=p0>()</span><span class=ws> </span><span class=p0>??</span><span class=ws> </span><span class=p1>control.getBrightness</span><span class=p0>())</span><span class=p1>,</span><span class=ws> </span><span class=p0>!(</span><span class=p1>control</span><span class=ws> </span><span class=p0>is</span><span class=ws> </span><span class=p1>AppleNativeControl</span><span class=p0>)</span><span class=ws> </span><span class=p0>||</span><span class=ws> </span><span class=p1>br</span><span class=ws> </span><span class=p0>&lt;=</span><span class=ws> </span><span class=p1>100</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>brightnessReadWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setBrightness</span><span class=p0>(</span><span class=p1>br</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>brightnessThatWasRead</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>br</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setReadProgress</span><span class=p0>(</span><span class=p1>0.15</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>brightnessReadResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Read</span><span class=ws> </span><span class=s1>worked</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>green</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p0>_</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>control.setBrightness</span><span class=p0>(</span><span class=p1>br,</span><span class=ws> </span><span class=p1>oldValue</span><span class=p0>:</span><span class=ws> </span><span class=p1>nil,</span><span class=ws> </span><span class=p1>force</span><span class=p0>:</span><span class=ws> </span><span class=p1>true,</span><span class=ws> </span><span class=p1>transition</span><span class=p0>:</span><span class=ws> </span><span class=p1>.instant,</span><span class=ws> </span><span class=p1>onChange</span><span class=p0>:</span><span class=ws> </span><span class=p1>nil</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setBrightness</span><span class=p0>(</span><span class=p1>0</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setReadProgress</span><span class=p0>(</span><span class=p1>0.15</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>setResult(brightnessReadResult,</span><span class=ws> </span><span class=c0>text:</span><span class=ws> </span><span class=c0>"Failed</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>read",</span><span class=ws> </span><span class=c0>color:</span><span class=ws> </span><span class=c0>red)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setReadProgress</span><span class=p0>(</span><span class=p1>0.33</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>info</span><span class=p0>(</span><span class=s0>"</span><span class=s1>Reading</span><span class=ws> </span><span class=s1>contrast</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>peach</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>cr</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>control.getContrast</span><span class=p0>()</span><span class=ws> </span><span class=p0>??</span><span class=ws> </span><span class=p1>control.getContrast</span><span class=p0>())</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contrastReadWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setContrast</span><span class=p0>(</span><span class=p1>cr</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setReadProgress</span><span class=p0>(</span><span class=p1>0.45</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>contrastReadResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Read</span><span class=ws> </span><span class=s1>worked</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>green</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>brightnessReadWorked</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p0>_</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>control.setBrightness</span><span class=p0>(</span><span class=p1>brightnessThatWasRead,</span><span class=ws> </span><span class=p1>oldValue</span><span class=p0>:</span><span class=ws> </span><span class=p1>nil,</span><span class=ws> </span><span class=p1>force</span><span class=p0>:</span><span class=ws> </span><span class=p1>true,</span><span class=ws> </span><span class=p1>transition</span><span class=p0>:</span><span class=ws> </span><span class=p1>.instant,</span><span class=ws> </span><span class=p1>onChange</span><span class=p0>:</span><span class=ws> </span><span class=p1>nil</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p0>_</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>control.setContrast</span><span class=p0>(</span><span class=p1>cr,</span><span class=ws> </span><span class=p1>oldValue</span><span class=p0>:</span><span class=ws> </span><span class=p1>nil,</span><span class=ws> </span><span class=p1>transition</span><span class=p0>:</span><span class=ws> </span><span class=p1>.instant,</span><span class=ws> </span><span class=p1>onChange</span><span class=p0>:</span><span class=ws> </span><span class=p1>nil</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setContrast</span><span class=p0>(</span><span class=p1>0</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setReadProgress</span><span class=p0>(</span><span class=p1>0.45</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>setResult(contrastReadResult,</span><span class=ws> </span><span class=c0>text:</span><span class=ws> </span><span class=c0>"Failed</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>read",</span><span class=ws> </span><span class=c0>color:</span><span class=ws> </span><span class=c0>red)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setReadProgress</span><span class=p0>(</span><span class=p1>0.66</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>info</span><span class=p0>(</span><span class=s0>"</span><span class=s1>Reading</span><span class=ws> </span><span class=s1>volume</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>peach</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>vol</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>control.getVolume</span><span class=p0>()</span><span class=ws> </span><span class=p0>??</span><span class=ws> </span><span class=p1>control.getVolume</span><span class=p0>())</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>volumeReadWorked</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setVolume</span><span class=p0>(</span><span class=p1>vol</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setReadProgress</span><span class=p0>(</span><span class=p1>0.8</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setResult</span><span class=p0>(</span><span class=p1>volumeReadResult,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Read</span><span class=ws> </span><span class=s1>worked</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>white</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setVolume</span><span class=p0>(</span><span class=p1>0</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setReadProgress</span><span class=p0>(</span><span class=p1>0.8</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>setResult(volumeReadResult,</span><span class=ws> </span><span class=c0>text:</span><span class=ws> </span><span class=c0>"Failed</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>read",</span><span class=ws> </span><span class=c0>color:</span><span class=ws> </span><span class=c0>peach)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>wait</span><span class=p0>(</span><span class=p1>1.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>.allWorked</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setReadProgress</span><span class=p0>(</span><span class=p1>0.9</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>ControlReadResult</span><span class=p0>(</span><span class=p1>brightness</span><span class=p0>:</span><span class=ws> </span><span class=p1>brightnessReadWorked,</span><span class=ws> </span><span class=p1>contrast</span><span class=p0>:</span><span class=ws> </span><span class=p1>contrastReadWorked,</span><span class=ws> </span><span class=p1>volume</span><span class=p0>:</span><span class=ws> </span><span class=p1>volumeReadWorked</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>hideDisplayValues</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>brightnessField.transition</span><span class=p0>(</span><span class=p1>0.5,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>brightnessField.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>brightnessCaption.transition</span><span class=p0>(</span><span class=p1>0.5,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>brightnessCaption.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contrastField.transition</span><span class=p0>(</span><span class=p1>0.5,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contrastField.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contrastCaption.transition</span><span class=p0>(</span><span class=p1>0.5,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contrastCaption.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>brightnessReadResult.transition</span><span class=p0>(</span><span class=p1>0.5,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>brightnessReadResult.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>brightnessWriteResult.transition</span><span class=p0>(</span><span class=p1>0.5,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>brightnessWriteResult.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contrastReadResult.transition</span><span class=p0>(</span><span class=p1>0.5,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contrastReadResult.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contrastWriteResult.transition</span><span class=p0>(</span><span class=p1>0.5,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>contrastWriteResult.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>volumeSlider.transition</span><span class=p0>(</span><span class=p1>0.5,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>volumeSlider.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>volumeReadResult.transition</span><span class=p0>(</span><span class=p1>0.5,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>volumeReadResult.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>volumeWriteResult.transition</span><span class=p0>(</span><span class=p1>0.5,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>volumeWriteResult.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>queueChange</span><span class=p0>(_</span><span class=ws> </span><span class=p1>change</span><span class=p0>:</span><span class=ws> </span><span class=p0>@escaping</span><span class=ws> </span><span class=p0>()</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p0>Void)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>wc</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>view.window</span><span class=p0>?</span><span class=p1>.windowController</span><span class=ws> </span><span class=p0>as?</span><span class=ws> </span><span class=p1>OnboardWindowController</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>wc.changes.append</span><span class=p0>(</span><span class=p1>change</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>next</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>wc</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>view.window</span><span class=p0>?</span><span class=p1>.windowController</span><span class=ws> </span><span class=p0>as?</span><span class=ws> </span><span class=p1>OnboardWindowController</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>wc.applyChanges</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>wc.pageController</span><span class=p0>?</span><span class=p1>.navigateForward</span><span class=p0>(</span><span class=p1>self</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>showTestWindow</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>d</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>currentDisplay</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>createWindow</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>testWindowController</span><span class=s0>"</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>controller</span><span class=p0>:</span><span class=ws> </span><span class=p0>&</span><span class=p1>d.testWindowController,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>screen</span><span class=p0>:</span><span class=ws> </span><span class=p1>d.nsScreen,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>show</span><span class=p0>:</span><span class=ws> </span><span class=p1>true,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>backgroundColor</span><span class=p0>:</span><span class=ws> </span><span class=p1>.clear,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>level</span><span class=p0>:</span><span class=ws> </span><span class=p1>.screenSaver,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>fillScreen</span><span class=p0>:</span><span class=ws> </span><span class=p1>false,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>stationary</span><span class=p0>:</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>wakeObserver</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>wakeObserver</span><span class=ws> </span><span class=p0>??</span><span class=ws> </span><span class=p1>NSWorkspace.shared.notificationCenter</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>.publisher</span><span class=p0>(</span><span class=p1>for</span><span class=p0>:</span><span class=ws> </span><span class=p1>NSWorkspace.screensDidWakeNotification,</span><span class=ws> </span><span class=p1>object</span><span class=p0>:</span><span class=ws> </span><span class=p1>nil</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>.debounce</span><span class=p0>(</span><span class=p1>for</span><span class=p0>:</span><span class=ws> </span><span class=p1>.seconds</span><span class=p0>(</span><span class=p1>2</span><span class=p0>)</span><span class=p1>,</span><span class=ws> </span><span class=p1>scheduler</span><span class=p0>:</span><span class=ws> </span><span class=p1>RunLoop.main</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>.sink</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p0>_</span><span class=ws> </span><span class=p0>in</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.showTestWindow</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>screenObserver</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>screenObserver</span><span class=ws> </span><span class=p0>??</span><span class=ws> </span><span class=p1>NotificationCenter.default</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>.publisher</span><span class=p0>(</span><span class=p1>for</span><span class=p0>:</span><span class=ws> </span><span class=p1>NSApplication.didChangeScreenParametersNotification,</span><span class=ws> </span><span class=p1>object</span><span class=p0>:</span><span class=ws> </span><span class=p1>nil</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>.debounce</span><span class=p0>(</span><span class=p1>for</span><span class=p0>:</span><span class=ws> </span><span class=p1>.seconds</span><span class=p0>(</span><span class=p1>2</span><span class=p0>)</span><span class=p1>,</span><span class=ws> </span><span class=p1>scheduler</span><span class=p0>:</span><span class=ws> </span><span class=p1>RunLoop.main</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>.sink</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p0>_</span><span class=ws> </span><span class=p0>in</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.showTestWindow</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>networkProblemText</span><span class=p0>(_</span><span class=ws> </span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=p0>Display,</span><span class=ws> </span><span class=p0>control</span><span class=ws> </span><span class=p1>_</span><span class=p0>:</span><span class=ws> </span><span class=p0>NetworkControl)</span><span class=ws> </span><span class=p0>-></span><span class=ws> </span><span class=p0>String</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>url</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>http://&lt;your-rpi-ip>:3485/displays</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>networkController</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>NetworkControl.controllersForDisplay</span><span class=p0>[</span><span class=p1>display.serial</span><span class=p0>]</span><span class=p1>,</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>controlURL</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>networkController.url</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>url</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>controlURL.deletingLastPathComponent</span><span class=p0>()</span><span class=p1>.appendingPathComponent</span><span class=p0>(</span><span class=s0>"</span><span class=s1>displays</span><span class=s0>"</span><span class=p0>)</span><span class=p1>.absoluteString</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>infoDict</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>display.infoDictionary</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>year</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>infoDict</span><span class=p0>[</span><span class=p1>kDisplayYearOfManufacture</span><span class=p0>]</span><span class=ws> </span><span class=p0>as?</span><span class=ws> </span><span class=p0>Int64)</span><span class=ws> </span><span class=p0>??</span><span class=ws> </span><span class=p1>2017</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>serial</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>infoDict</span><span class=p0>[</span><span class=p1>kDisplaySerialNumber</span><span class=p0>]</span><span class=ws> </span><span class=p0>as?</span><span class=ws> </span><span class=p0>Int64)</span><span class=ws> </span><span class=p0>??</span><span class=ws> </span><span class=p1>314_041</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>product</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>infoDict</span><span class=p0>[</span><span class=p1>kDisplayProductID</span><span class=p0>]</span><span class=ws> </span><span class=p0>as?</span><span class=ws> </span><span class=p0>Int64)</span><span class=ws> </span><span class=p0>??</span><span class=ws> </span><span class=p1>23304</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>vendor</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>infoDict</span><span class=p0>[</span><span class=p1>kDisplayVendorID</span><span class=p0>]</span><span class=ws> </span><span class=p0>as?</span><span class=ws> </span><span class=p0>Int64)?</span><span class=p1>.s</span><span class=ws> </span><span class=p0>??</span><span class=ws> </span><span class=s0>"</span><span class=s1>GSM</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>name</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>display.edidName</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=s0>"""</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>#####</span><span class=ws> </span><span class=s1>If</span><span class=ws> </span><span class=s1>you</span><span class=ws> </span><span class=s1>have</span><span class=ws> </span><span class=s1>technical</span><span class=ws> </span><span class=s1>knowledge</span><span class=ws> </span><span class=s1>about</span><span class=ws> </span><span class=s1>`SSH`</span><span class=ws> </span><span class=s1>and</span><span class=ws> </span><span class=s1>`curl`,</span><span class=ws> </span><span class=s1>you</span><span class=ws> </span><span class=s1>can</span><span class=ws> </span><span class=s1>check</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>following:</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>*</span><span class=ws> </span><span class=s1>See</span><span class=ws> </span><span class=s1>if</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>controller</span><span class=ws> </span><span class=s1>is</span><span class=ws> </span><span class=s1>reachable</span><span class=ws> </span><span class=s1>using</span><span class=ws> </span><span class=s1>this</span><span class=ws> </span><span class=s1>curl</span><span class=ws> </span><span class=s1>command:</span><span class=ws> </span><span class=s1>`curl</span><span class=ws> </span><span class=p0>\(</span><span class=p1>url</span><span class=p0>)</span><span class=s1>`</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>*</span><span class=ws> </span><span class=s1>You</span><span class=ws> </span><span class=s1>should</span><span class=ws> </span><span class=s1>get</span><span class=ws> </span><span class=s1>a</span><span class=ws> </span><span class=s1>response</span><span class=ws> </span><span class=s1>similar</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>one</span><span class=ws> </span><span class=s1>below:</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>Display</span><span class=ws> </span><span class=s1>1</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>I2C</span><span class=ws> </span><span class=s1>bus:</span><span class=ws> </span><span class=ws> </span><span class=s1>/dev/i2c-2</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>EDID</span><span class=ws> </span><span class=s1>synopsis:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>Mfg</span><span class=ws> </span><span class=s1>id:</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>\(</span><span class=p1>vendor</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>Model:</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>\(</span><span class=p1>name</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>Product</span><span class=ws> </span><span class=s1>code:</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>\(</span><span class=p1>product</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>Serial</span><span class=ws> </span><span class=s1>number:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>Binary</span><span class=ws> </span><span class=s1>serial</span><span class=ws> </span><span class=s1>number:</span><span class=ws> </span><span class=p0>\(</span><span class=p1>serial</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>Manufacture</span><span class=ws> </span><span class=s1>year:</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>\(</span><span class=p1>year</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>EDID</span><span class=ws> </span><span class=s1>version:</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>1.3</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>VCP</span><span class=ws> </span><span class=s1>version:</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>2.1</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>*</span><span class=ws> </span><span class=s1>If</span><span class=ws> </span><span class=s1>you</span><span class=ws> </span><span class=s1>get</span><span class=ws> </span><span class=s1>`Invalid</span><span class=ws> </span><span class=s1>Display`</span><span class=ws> </span><span class=s1>try</span><span class=ws> </span><span class=s1>turning</span><span class=ws> </span><span class=s1>your</span><span class=ws> </span><span class=s1>monitor</span><span class=ws> </span><span class=s1>off</span><span class=ws> </span><span class=s1>then</span><span class=ws> </span><span class=s1>turn</span><span class=ws> </span><span class=s1>it</span><span class=ws> </span><span class=s1>on</span><span class=ws> </span><span class=s1>after</span><span class=ws> </span><span class=s1>a</span><span class=ws> </span><span class=s1>few</span><span class=ws> </span><span class=s1>seconds</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>*</span><span class=ws> </span><span class=s1>If</span><span class=ws> </span><span class=s1>you</span><span class=ws> </span><span class=s1>get</span><span class=ws> </span><span class=s1>`Display</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>found`,</span><span class=ws> </span><span class=s1>make</span><span class=ws> </span><span class=s1>sure</span><span class=ws> </span><span class=s1>your</span><span class=ws> </span><span class=s1>Pi</span><span class=ws> </span><span class=s1>is</span><span class=ws> </span><span class=s1>running</span><span class=ws> </span><span class=s1>an</span><span class=ws> </span><span class=s1>OS</span><span class=ws> </span><span class=s1>with</span><span class=ws> </span><span class=s1>a</span><span class=ws> </span><span class=s1>desktop</span><span class=ws> </span><span class=s1>environment,</span><span class=ws> </span><span class=s1>and</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>desktop</span><span class=ws> </span><span class=s1>is</span><span class=ws> </span><span class=s1>visible</span><span class=ws> </span><span class=s1>when</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>Pi</span><span class=ws> </span><span class=s1>HDMI</span><span class=ws> </span><span class=s1>input</span><span class=ws> </span><span class=s1>is</span><span class=ws> </span><span class=s1>active</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>*</span><span class=ws> </span><span class=s1>Check</span><span class=ws> </span><span class=s1>that</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>server</span><span class=ws> </span><span class=s1>is</span><span class=ws> </span><span class=s1>running</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>*</span><span class=ws> </span><span class=s1>SSH</span><span class=ws> </span><span class=s1>into</span><span class=ws> </span><span class=s1>your</span><span class=ws> </span><span class=s1>Pi</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>*</span><span class=ws> </span><span class=s1>Run</span><span class=ws> </span><span class=s1>`sudo</span><span class=ws> </span><span class=s1>systemctl</span><span class=ws> </span><span class=s1>status</span><span class=ws> </span><span class=s1>ddcutil-server`</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>*</span><span class=ws> </span><span class=s1>Check</span><span class=ws> </span><span class=s1>if</span><span class=ws> </span><span class=s1>`ddcutil`</span><span class=ws> </span><span class=s1>can</span><span class=ws> </span><span class=s1>correctly</span><span class=ws> </span><span class=s1>identify</span><span class=ws> </span><span class=s1>and</span><span class=ws> </span><span class=s1>control</span><span class=ws> </span><span class=s1>your</span><span class=ws> </span><span class=s1>monitor</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>*</span><span class=ws> </span><span class=s1>SSH</span><span class=ws> </span><span class=s1>into</span><span class=ws> </span><span class=s1>your</span><span class=ws> </span><span class=s1>Pi</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>*</span><span class=ws> </span><span class=s1>Run</span><span class=ws> </span><span class=s1>`ddcutil</span><span class=ws> </span><span class=s1>detect`</span><span class=ws> </span><span class=s1>_(you</span><span class=ws> </span><span class=s1>should</span><span class=ws> </span><span class=s1>get</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>same</span><span class=ws> </span><span class=s1>response</span><span class=ws> </span><span class=s1>as</span><span class=ws> </span><span class=s1>for</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>`curl`</span><span class=ws> </span><span class=s1>command)_</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>*</span><span class=ws> </span><span class=s1>Cycle</span><span class=ws> </span><span class=s1>through</span><span class=ws> </span><span class=s1>a</span><span class=ws> </span><span class=s1>few</span><span class=ws> </span><span class=s1>brightness</span><span class=ws> </span><span class=s1>values</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>see</span><span class=ws> </span><span class=s1>if</span><span class=ws> </span><span class=s1>there's</span><span class=ws> </span><span class=s1>any</span><span class=ws> </span><span class=s1>change:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>*</span><span class=ws> </span><span class=s1>`ddcutil</span><span class=ws> </span><span class=s1>setvcp</span><span class=ws> </span><span class=s1>0x10</span><span class=ws> </span><span class=s1>25`</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>*</span><span class=ws> </span><span class=s1>`ddcutil</span><span class=ws> </span><span class=s1>setvcp</span><span class=ws> </span><span class=s1>0x10</span><span class=ws> </span><span class=s1>100`</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>*</span><span class=ws> </span><span class=s1>`ddcutil</span><span class=ws> </span><span class=s1>setvcp</span><span class=ws> </span><span class=s1>0x10</span><span class=ws> </span><span class=s1>50`</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"""</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>setDisplayProgress</span><span class=p0>(_</span><span class=ws> </span><span class=p1>value</span><span class=p0>:</span><span class=ws> </span><span class=p0>Double,</span><span class=ws> </span><span class=p1>controlStep</span><span class=p0>:</span><span class=ws> </span><span class=p0>Double)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>progress</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>progressForLastDisplay</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>displayProgressStep</span><span class=ws> </span><span class=p0>*</span><span class=ws> </span><span class=p1>value</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>controlProgressStep</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>controlStep</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>progressForDisplay</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>value</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>setControlProgress</span><span class=p0>(_</span><span class=ws> </span><span class=p1>value</span><span class=p0>:</span><span class=ws> </span><span class=p0>Double)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>progress</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>progressForLastDisplay</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>displayProgressStep</span><span class=ws> </span><span class=p0>*</span><span class=ws> </span><span class=p1>progressForDisplay</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>value</span><span class=ws> </span><span class=p0>*</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>(</span><span class=p1>controlProgressStep</span><span class=ws> </span><span class=p0>*</span><span class=ws> </span><span class=p1>displayProgressStep</span><span class=ws> </span><span class=p0>*</span><span class=ws> </span><span class=p1>progressForDisplay</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>listenForDisplayConnections</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>NotificationCenter.default</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>.publisher</span><span class=p0>(</span><span class=p1>for</span><span class=p0>:</span><span class=ws> </span><span class=p1>displayListChanged,</span><span class=ws> </span><span class=p1>object</span><span class=p0>:</span><span class=ws> </span><span class=p1>nil</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>.debounce</span><span class=p0>(</span><span class=p1>for</span><span class=p0>:</span><span class=ws> </span><span class=p1>.seconds</span><span class=p0>(</span><span class=p1>2</span><span class=p0>)</span><span class=p1>,</span><span class=ws> </span><span class=p1>scheduler</span><span class=p0>:</span><span class=ws> </span><span class=p1>RunLoop.main</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>.sink</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p0>_</span><span class=ws> </span><span class=p0>in</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.cancelled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>OnboardPageController.task</span><span class=p0>?</span><span class=p1>.cancel</span><span class=p0>()</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>log.debug</span><span class=p0>(</span><span class=s0>"</span><span class=s1>Restarting</span><span class=ws> </span><span class=s1>Onboarding</span><span class=ws> </span><span class=s1>after</span><span class=ws> </span><span class=s1>display</span><span class=ws> </span><span class=s1>list</span><span class=ws> </span><span class=s1>change</span><span class=s0>"</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>w</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.view.window</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>_</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>askBool</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>message</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Display</span><span class=ws> </span><span class=s1>list</span><span class=ws> </span><span class=s1>changed</span><span class=s0>"</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>info</span><span class=p0>:</span><span class=ws> </span><span class=s0>"""</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>The</span><span class=ws> </span><span class=s1>list</span><span class=ws> </span><span class=s1>of</span><span class=ws> </span><span class=s1>connected</span><span class=ws> </span><span class=s1>displays</span><span class=ws> </span><span class=s1>has</span><span class=ws> </span><span class=s1>changed</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>and</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>onboarding</span><span class=ws> </span><span class=s1>process</span><span class=ws> </span><span class=s1>can't</span><span class=ws> </span><span class=s1>continue.</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>Do</span><span class=ws> </span><span class=s1>you</span><span class=ws> </span><span class=s1>want</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>restart</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>onboarding</span><span class=ws> </span><span class=s1>process?</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"""</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>okButton</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Restart</span><span class=ws> </span><span class=s1>Onboarding</span><span class=s0>"</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>cancelButton</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Skip</span><span class=ws> </span><span class=s1>Onboarding</span><span class=s0>"</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>window</span><span class=p0>:</span><span class=ws> </span><span class=p1>w,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>onCompletion</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p0>(</span><span class=p1>restart</span><span class=p0>:</span><span class=ws> </span><span class=p0>Bool)</span><span class=ws> </span><span class=p0>in</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>self,</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>w</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>view.window,</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>wc</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>w.windowController</span><span class=ws> </span><span class=p0>as?</span><span class=ws> </span><span class=p1>OnboardWindowController</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>cancelled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>OnboardPageController.task</span><span class=p0>?</span><span class=p1>.cancel</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>semaphore.signal</span><span class=p0>()</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>wc.changes</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>[]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>w.close</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>wc.close</span><span class=p0>()</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>d</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>DC.displays.values</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>d.testWindowController</span><span class=p0>?</span><span class=p1>.close</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>d.testWindowController</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>restart</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainAsyncAfter</span><span class=p0>(</span><span class=p1>ms</span><span class=p0>:</span><span class=ws> </span><span class=p1>1000</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>appDelegate</span><span class=p0>!</span><span class=p1>.onboard</span><span class=p0>()</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>unique</span><span class=p0>:</span><span class=ws> </span><span class=p1>true,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>waitTimeout</span><span class=p0>:</span><span class=ws> </span><span class=p1>5.minutes</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=p1>.store</span><span class=p0>(</span><span class=p1>in</span><span class=p0>:</span><span class=ws> </span><span class=p0>&</span><span class=p1>observers</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>override</span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>viewDidAppear</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>!</span><span class=p1>didAppear</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>didAppear</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>uiCrumb</span><span class=p0>(</span><span class=s0>"</span><span class=s1>Control</span><span class=ws> </span><span class=s1>Tester</span><span class=s0>"</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>cancelled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>adaptiveModeDisabledByDiagnostics</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>DC.adaptiveModeKey</span><span class=ws> </span><span class=p0>!=</span><span class=ws> </span><span class=p1>.manual</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>DC.disable</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>adaptiveModeDisabledByDiagnostics</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>listenForDisplayConnections</span><span class=p0>()</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>wc</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>view.window</span><span class=p0>?</span><span class=p1>.windowController</span><span class=ws> </span><span class=p0>as?</span><span class=ws> </span><span class=p1>OnboardWindowController</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>wc.setupSkipButton</span><span class=p0>(</span><span class=p1>skipButton,</span><span class=ws> </span><span class=p1>text</span><span class=p0>:</span><span class=ws> </span><span class=p1>useOnboardingForDiagnostics</span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=s0>"</span><span class=s1>Stop</span><span class=ws> </span><span class=s1>Diagnostics</span><span class=s0>"</span><span class=ws> </span><span class=p0>:</span><span class=ws> </span><span class=p1>nil</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p0>in</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.cancelled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>d</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>DC.displays.values</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>d.testWindowController</span><span class=p0>?</span><span class=p1>.close</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>d.testWindowController</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.wakeObserver</span><span class=p0>?</span><span class=p1>.cancel</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.wakeObserver</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.screenObserver</span><span class=p0>?</span><span class=p1>.cancel</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.screenObserver</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.semaphore.signal</span><span class=p0>()</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p1>useOnboardingForDiagnostics</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.skipButton.isEnabled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.skipButton.attributedTitle</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>Stopping</span><span class=s0>"</span><span class=p1>.withTextColor</span><span class=p0>(</span><span class=p1>.black</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainAsyncAfter</span><span class=p0>(</span><span class=p1>ms</span><span class=p0>:</span><span class=ws> </span><span class=p1>1500</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self</span><span class=p0>?</span><span class=p1>.view.window</span><span class=p0>?</span><span class=p1>.close</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>adaptiveModeDisabledByDiagnostics</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>DC.enable</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>OnboardPageController.task</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>concurrentQueue.asyncAfter</span><span class=p0>(</span><span class=p1>ms</span><span class=p0>:</span><span class=ws> </span><span class=p1>10,</span><span class=ws> </span><span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=p1>ONBOARDING_TASK_KEY</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>[</span><span class=p0>weak</span><span class=ws> </span><span class=p1>self]</span><span class=ws> </span><span class=p0>in</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>displays</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>DC.externalDisplaysForTest</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>self,</span><span class=ws> </span><span class=p0>!</span><span class=p1>self.cancelled,</span><span class=ws> </span><span class=p0>!</span><span class=p1>OnboardPageController.task.isCancelled,</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>firstDisplay</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>displays.first</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self.displayName.transition</span><span class=p0>(</span><span class=p1>0.5,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self.displayName.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>1.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self.displayName.display</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>firstDisplay</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self.setControl</span><span class=p0>(</span><span class=p1>firstDisplay.getBestControl</span><span class=p0>(</span><span class=p1>reapply</span><span class=p0>:</span><span class=ws> </span><span class=p1>false</span><span class=p0>)</span><span class=p1>.displayControl,</span><span class=ws> </span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=p1>firstDisplay</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>waitForAction</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>Lunar</span><span class=ws> </span><span class=s1>will</span><span class=ws> </span><span class=s1>try</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>read</span><span class=ws> </span><span class=s1>and</span><span class=ws> </span><span class=s1>then</span><span class=ws> </span><span class=s1>change</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>monitor</span><span class=ws> </span><span class=s1>brightness,</span><span class=ws> </span><span class=s1>contrast</span><span class=ws> </span><span class=s1>and</span><span class=ws> </span><span class=s1>volume\nIf</span><span class=ws> </span><span class=s1>Lunar</span><span class=ws> </span><span class=s1>can't</span><span class=ws> </span><span class=s1>revert</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>changes,</span><span class=ws> </span><span class=s1>you</span><span class=ws> </span><span class=s1>can</span><span class=ws> </span><span class=s1>do</span><span class=ws> </span><span class=s1>that</span><span class=ws> </span><span class=s1>by</span><span class=ws> </span><span class=s1>using</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>monitor's</span><span class=ws> </span><span class=s1>physical</span><span class=ws> </span><span class=s1>buttons</span><span class=s0>"</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>buttonColor</span><span class=p0>:</span><span class=ws> </span><span class=p1>lunarYellow,</span><span class=ws> </span><span class=p1>buttonText</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Continue</span><span class=s0>"</span><span class=p1>.withTextColor</span><span class=p0>(</span><span class=p1>mauve</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span><span class=ws> </span><span class=p0>{}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>displayProgressStep</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>1.0</span><span class=ws> </span><span class=p0>/</span><span class=ws> </span><span class=p1>displays.count.d</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p0>(</span><span class=p1>i,</span><span class=ws> </span><span class=p1>d</span><span class=p0>)</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>displays.enumerated</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>testDisplay</span><span class=p0>(</span><span class=p1>d,</span><span class=ws> </span><span class=p1>index</span><span class=p0>:</span><span class=ws> </span><span class=p1>i</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>queueChange</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>DC.externalActiveDisplays.forEach</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>$0.resetControl</span><span class=p0>()</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>d</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>DC.displays.values</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>d.testWindowController</span><span class=p0>?</span><span class=p1>.close</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>d.testWindowController</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>useOnboardingForDiagnostics,</span><span class=ws> </span><span class=p1>self.cancelled</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self.next</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>testDisplay</span><span class=p0>(_</span><span class=ws> </span><span class=p1>d</span><span class=p0>:</span><span class=ws> </span><span class=p0>Display,</span><span class=ws> </span><span class=p1>index</span><span class=p0>:</span><span class=ws> </span><span class=p0>Int)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>for</span><span class=ws> </span><span class=p1>d</span><span class=ws> </span><span class=p0>in</span><span class=ws> </span><span class=p1>DC.displays.values</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>d.testWindowController</span><span class=p0>?</span><span class=p1>.close</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>d.testWindowController</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>nil</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>guard</span><span class=ws> </span><span class=p0>!</span><span class=p1>cancelled</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>progressForLastDisplay</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>displayProgressStep</span><span class=ws> </span><span class=p0>*</span><span class=ws> </span><span class=p1>index.d</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setDisplayProgress</span><span class=p0>(</span><span class=p1>0,</span><span class=ws> </span><span class=p1>controlStep</span><span class=p0>:</span><span class=ws> </span><span class=p1>0.25</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>defer</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>self.progress</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>self.displayProgressStep</span><span class=ws> </span><span class=p0>*</span><span class=ws> </span><span class=p0>(</span><span class=p1>index</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>1</span><span class=p0>)</span><span class=p1>.d</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>currentDisplay</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>d</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>showTestWindow()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mainThread</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self.displayName.transition</span><span class=p0>(</span><span class=p1>0.5,</span><span class=ws> </span><span class=p1>easing</span><span class=p0>:</span><span class=ws> </span><span class=p1>.easeOutExpo</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self.displayName.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>1.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>self.displayName.display</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>d</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>networkControl</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>NetworkControl</span><span class=p0>(</span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=p1>d</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>appleNativeControl</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>AppleNativeControl</span><span class=p0>(</span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=p1>d</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>ddcControl</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>DDCControl</span><span class=p0>(</span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=p1>d</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>gammaControl</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>GammaControl</span><span class=p0>(</span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=p1>d</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>result</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>ControlResult.noneWorked</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>defer</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>d.controlResult</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>result</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>appleNativeControl.isAvailable</span><span class=p0>()</span><span class=p1>,</span><span class=ws> </span><span class=p0>!</span><span class=p1>cancelled</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setControl</span><span class=p0>(</span><span class=p1>.appleNative,</span><span class=ws> </span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=p1>d</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>result</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>testControl</span><span class=p0>(</span><span class=p1>appleNativeControl,</span><span class=ws> </span><span class=p1>for</span><span class=p0>:</span><span class=ws> </span><span class=p1>d</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setDisplayProgress</span><span class=p0>(</span><span class=p1>0.25,</span><span class=ws> </span><span class=p1>controlStep</span><span class=p0>:</span><span class=ws> </span><span class=p1>0.25</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>!</span><span class=p1>result.write.brightness,</span><span class=ws> </span><span class=p1>d.isLEDCinema</span><span class=ws> </span><span class=p0>||</span><span class=ws> </span><span class=p1>d.isCinema</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>nextStep</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>askQuestion</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>On</span><span class=ws> </span><span class=s1>Cinema</span><span class=ws> </span><span class=s1>displays,</span><span class=ws> </span><span class=s1>you</span><span class=ws> </span><span class=s1>need</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>plug</span><span class=ws> </span><span class=s1>in</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>USB</span><span class=ws> </span><span class=s1>cable</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>get</span><span class=ws> </span><span class=s1>brightness</span><span class=ws> </span><span class=s1>controls\nYou</span><span class=ws> </span><span class=s1>can</span><span class=ws> </span><span class=s1>try</span><span class=ws> </span><span class=s1>that</span><span class=ws> </span><span class=s1>now</span><span class=ws> </span><span class=s1>and</span><span class=ws> </span><span class=s1>retry</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>test,</span><span class=ws> </span><span class=s1>or</span><span class=ws> </span><span class=s1>continue</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>next</span><span class=ws> </span><span class=s1>step</span><span class=s0>"</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>yesButtonText</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Next</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>noButtonText</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Retry</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>nextStep</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>$0</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>nextStep</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>queueChange</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>d.enabledControls</span><span class=p0>[</span><span class=p1>.appleNative</span><span class=p0>]</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>d.save</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setDisplayProgress</span><span class=p0>(</span><span class=p1>0,</span><span class=ws> </span><span class=p1>controlStep</span><span class=p0>:</span><span class=ws> </span><span class=p1>0.25</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>result</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>testControl</span><span class=p0>(</span><span class=p1>appleNativeControl,</span><span class=ws> </span><span class=p1>for</span><span class=p0>:</span><span class=ws> </span><span class=p1>d</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setDisplayProgress</span><span class=p0>(</span><span class=p1>0.25,</span><span class=ws> </span><span class=p1>controlStep</span><span class=p0>:</span><span class=ws> </span><span class=p1>0.25</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>setDisplayProgress</span><span class=p0>(</span><span class=p1>0.25,</span><span class=ws> </span><span class=p1>controlStep</span><span class=p0>:</span><span class=ws> </span><span class=p1>0.25</span><span class=p0>)</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>result.write.all</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>waitForAction</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>The</span><span class=ws> </span><span class=s1>monitor</span><span class=ws> </span><span class=s1>is</span><span class=ws> </span><span class=s1>fully</span><span class=ws> </span><span class=s1>functional</span><span class=ws> </span><span class=s1>and</span><span class=ws> </span><span class=s1>ready</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>used</span><span class=ws> </span><span class=s1>with</span><span class=ws> </span><span class=s1>Lunar</span><span class=s0>"</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>buttonColor</span><span class=p0>:</span><span class=ws> </span><span class=p1>lunarYellow,</span><span class=ws> </span><span class=p1>buttonText</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Next</span><span class=ws> </span><span class=s1>step</span><span class=s0>"</span><span class=p1>.withTextColor</span><span class=p0>(</span><span class=p1>mauve</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span><span class=ws> </span><span class=p0>{}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>result.write.brightness</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>waitForAction</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>The</span><span class=ws> </span><span class=s1>monitor</span><span class=ws> </span><span class=s1>supports</span><span class=ws> </span><span class=s1>brightness</span><span class=ws> </span><span class=s1>controls</span><span class=ws> </span><span class=s1>and</span><span class=ws> </span><span class=s1>is</span><span class=ws> </span><span class=s1>ready</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>used</span><span class=ws> </span><span class=s1>with</span><span class=ws> </span><span class=s1>Lunar</span><span class=s0>"</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>buttonColor</span><span class=p0>:</span><span class=ws> </span><span class=p1>lunarYellow,</span><span class=ws> </span><span class=p1>buttonText</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Next</span><span class=ws> </span><span class=s1>step</span><span class=s0>"</span><span class=p1>.withTextColor</span><span class=p0>(</span><span class=p1>mauve</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span><span class=ws> </span><span class=p0>{}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockersButton</span><span class=p0>?</span><span class=p1>.md.code.fontSize</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>15</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>ddcControl.isAvailable</span><span class=p0>()</span><span class=p1>,</span><span class=ws> </span><span class=p0>!</span><span class=p1>cancelled</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setControl</span><span class=p0>(</span><span class=p1>.ddc,</span><span class=ws> </span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=p1>d</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>result</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>testControl</span><span class=p0>(</span><span class=p1>ddcControl,</span><span class=ws> </span><span class=p1>for</span><span class=p0>:</span><span class=ws> </span><span class=p1>d</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setDisplayProgress</span><span class=p0>(</span><span class=p1>0.5,</span><span class=ws> </span><span class=p1>controlStep</span><span class=p0>:</span><span class=ws> </span><span class=p1>0.25</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>nextStep</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>while</span><span class=ws> </span><span class=p0>!</span><span class=p1>result.write.brightness,</span><span class=ws> </span><span class=p0>!</span><span class=p1>nextStep</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>askQuestion</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>Some</span><span class=ws> </span><span class=s1>monitor</span><span class=ws> </span><span class=s1>settings</span><span class=ws> </span><span class=s1>can</span><span class=ws> </span><span class=s1>block</span><span class=ws> </span><span class=s1>brightness</span><span class=ws> </span><span class=s1>controls\nYou</span><span class=ws> </span><span class=s1>can</span><span class=ws> </span><span class=s1>try</span><span class=ws> </span><span class=s1>changing</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>listed</span><span class=ws> </span><span class=s1>settings</span><span class=ws> </span><span class=s1>and</span><span class=ws> </span><span class=s1>then</span><span class=ws> </span><span class=s1>retry</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>test</span><span class=s0>"</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>yesButtonText</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Next</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>noButtonText</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Retry</span><span class=s0>"</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockerText</span><span class=p0>:</span><span class=ws> </span><span class=p1>d.possibleDDCBlockers</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>nextStep</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>$0</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>nextStep</span><span class=ws> </span><span class=p0>{</span>
<span class=c0>//</span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>let</span><span class=ws> </span><span class=c0>ddcEnabled</span><span class=ws> </span><span class=c0>=</span><span class=ws> </span><span class=c0>result.write.volume</span><span class=ws> </span><span class=c0>||</span><span class=ws> </span><span class=c0>result.write.contrast</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>queueChange</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>d.enabledControls</span><span class=p0>[</span><span class=p1>.ddc</span><span class=p0>]</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>d.enabledControls</span><span class=p0>[</span><span class=p1>.gamma</span><span class=p0>]</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>d.save</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setDisplayProgress</span><span class=p0>(</span><span class=p1>0.25,</span><span class=ws> </span><span class=p1>controlStep</span><span class=p0>:</span><span class=ws> </span><span class=p1>0.25</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>result</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>testControl</span><span class=p0>(</span><span class=p1>ddcControl,</span><span class=ws> </span><span class=p1>for</span><span class=p0>:</span><span class=ws> </span><span class=p1>d</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setDisplayProgress</span><span class=p0>(</span><span class=p1>0.5,</span><span class=ws> </span><span class=p1>controlStep</span><span class=p0>:</span><span class=ws> </span><span class=p1>0.25</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>setDisplayProgress</span><span class=p0>(</span><span class=p1>0.5,</span><span class=ws> </span><span class=p1>controlStep</span><span class=p0>:</span><span class=ws> </span><span class=p1>0.25</span><span class=p0>)</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>result.write.all</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>waitForAction</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>The</span><span class=ws> </span><span class=s1>monitor</span><span class=ws> </span><span class=s1>is</span><span class=ws> </span><span class=s1>fully</span><span class=ws> </span><span class=s1>functional</span><span class=ws> </span><span class=s1>and</span><span class=ws> </span><span class=s1>ready</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>used</span><span class=ws> </span><span class=s1>with</span><span class=ws> </span><span class=s1>Lunar</span><span class=s0>"</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>buttonColor</span><span class=p0>:</span><span class=ws> </span><span class=p1>lunarYellow,</span><span class=ws> </span><span class=p1>buttonText</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Next</span><span class=ws> </span><span class=s1>step</span><span class=s0>"</span><span class=p1>.withTextColor</span><span class=p0>(</span><span class=p1>mauve</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span><span class=ws> </span><span class=p0>{}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>result.write.brightness</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>waitForAction</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>The</span><span class=ws> </span><span class=s1>monitor</span><span class=ws> </span><span class=s1>supports</span><span class=ws> </span><span class=s1>brightness</span><span class=ws> </span><span class=s1>controls</span><span class=ws> </span><span class=s1>and</span><span class=ws> </span><span class=s1>is</span><span class=ws> </span><span class=s1>ready</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>used</span><span class=ws> </span><span class=s1>with</span><span class=ws> </span><span class=s1>Lunar\nUnfortunately,</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>all</span><span class=ws> </span><span class=s1>monitors</span><span class=ws> </span><span class=s1>support</span><span class=ws> </span><span class=p0>\(</span><span class=p1>result.write.volume</span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=s0>"</span><span class=s1>contrast</span><span class=s0>"</span><span class=ws> </span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>volume</span><span class=s0>"</span><span class=p0>)</span><span class=ws> </span><span class=s1>controls</span><span class=s0>"</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>buttonColor</span><span class=p0>:</span><span class=ws> </span><span class=p1>lunarYellow,</span><span class=ws> </span><span class=p1>buttonText</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Next</span><span class=ws> </span><span class=s1>step</span><span class=s0>"</span><span class=p1>.withTextColor</span><span class=p0>(</span><span class=p1>mauve</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span><span class=ws> </span><span class=p0>{}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockersButton</span><span class=p0>?</span><span class=p1>.md.code.fontSize</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>13</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>networkControl.isAvailable</span><span class=p0>()</span><span class=p1>,</span><span class=ws> </span><span class=p0>!</span><span class=p1>cancelled</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setControl</span><span class=p0>(</span><span class=p1>.network,</span><span class=ws> </span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=p1>d</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>result</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>testControl</span><span class=p0>(</span><span class=p1>networkControl,</span><span class=ws> </span><span class=p1>for</span><span class=p0>:</span><span class=ws> </span><span class=p1>d</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setDisplayProgress</span><span class=p0>(</span><span class=p1>0.75,</span><span class=ws> </span><span class=p1>controlStep</span><span class=p0>:</span><span class=ws> </span><span class=p1>0.25</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>var</span><span class=ws> </span><span class=p1>nextStep</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>while</span><span class=ws> </span><span class=p0>!</span><span class=p1>result.write.brightness,</span><span class=ws> </span><span class=p0>!</span><span class=p1>nextStep</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>askQuestion</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>The</span><span class=ws> </span><span class=s1>assigned</span><span class=ws> </span><span class=s1>network</span><span class=ws> </span><span class=s1>controller</span><span class=ws> </span><span class=s1>wasn't</span><span class=ws> </span><span class=s1>able</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>control</span><span class=ws> </span><span class=s1>this</span><span class=ws> </span><span class=s1>monitor</span><span class=s0>"</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>yesButtonText</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Next</span><span class=s0>"</span><span class=p1>,</span><span class=ws> </span><span class=p1>noButtonText</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Retry</span><span class=s0>"</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockerText</span><span class=p0>:</span><span class=ws> </span><span class=p1>networkProblemText</span><span class=p0>(</span><span class=p1>d,</span><span class=ws> </span><span class=p1>control</span><span class=p0>:</span><span class=ws> </span><span class=p1>networkControl</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>nextStep</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>$0</span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>!</span><span class=p1>nextStep</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setDisplayProgress</span><span class=p0>(</span><span class=p1>0.5,</span><span class=ws> </span><span class=p1>controlStep</span><span class=p0>:</span><span class=ws> </span><span class=p1>0.25</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>result</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>testControl</span><span class=p0>(</span><span class=p1>ddcControl,</span><span class=ws> </span><span class=p1>for</span><span class=p0>:</span><span class=ws> </span><span class=p1>d</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setDisplayProgress</span><span class=p0>(</span><span class=p1>0.75,</span><span class=ws> </span><span class=p1>controlStep</span><span class=p0>:</span><span class=ws> </span><span class=p1>0.25</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>setDisplayProgress</span><span class=p0>(</span><span class=p1>0.75,</span><span class=ws> </span><span class=p1>controlStep</span><span class=p0>:</span><span class=ws> </span><span class=p1>0.1</span><span class=p0>)</span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>result.write.all</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>waitForAction</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>The</span><span class=ws> </span><span class=s1>monitor</span><span class=ws> </span><span class=s1>is</span><span class=ws> </span><span class=s1>fully</span><span class=ws> </span><span class=s1>functional</span><span class=ws> </span><span class=s1>and</span><span class=ws> </span><span class=s1>ready</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>used</span><span class=ws> </span><span class=s1>with</span><span class=ws> </span><span class=s1>Lunar</span><span class=s0>"</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>buttonColor</span><span class=p0>:</span><span class=ws> </span><span class=p1>lunarYellow,</span><span class=ws> </span><span class=p1>buttonText</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Next</span><span class=ws> </span><span class=s1>step</span><span class=s0>"</span><span class=p1>.withTextColor</span><span class=p0>(</span><span class=p1>mauve</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span><span class=ws> </span><span class=p0>{}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>result.write.brightness</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>waitForAction</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>The</span><span class=ws> </span><span class=s1>monitor</span><span class=ws> </span><span class=s1>supports</span><span class=ws> </span><span class=s1>brightness</span><span class=ws> </span><span class=s1>controls</span><span class=ws> </span><span class=s1>and</span><span class=ws> </span><span class=s1>is</span><span class=ws> </span><span class=s1>ready</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>used</span><span class=ws> </span><span class=s1>with</span><span class=ws> </span><span class=s1>Lunar</span><span class=s0>"</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>buttonColor</span><span class=p0>:</span><span class=ws> </span><span class=p1>lunarYellow,</span><span class=ws> </span><span class=p1>buttonText</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Next</span><span class=ws> </span><span class=s1>step</span><span class=s0>"</span><span class=p1>.withTextColor</span><span class=p0>(</span><span class=p1>mauve</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span><span class=ws> </span><span class=p0>{}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setControl</span><span class=p0>(</span><span class=p1>.gamma,</span><span class=ws> </span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=p1>d</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>result</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>testControl</span><span class=p0>(</span><span class=p1>gammaControl,</span><span class=ws> </span><span class=p1>for</span><span class=p0>:</span><span class=ws> </span><span class=p1>d</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setDisplayProgress</span><span class=p0>(</span><span class=p1>0.8,</span><span class=ws> </span><span class=p1>controlStep</span><span class=p0>:</span><span class=ws> </span><span class=p1>0.1</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p1>d.supportsGamma,</span><span class=ws> </span><span class=p0>!</span><span class=p1>result.write.brightness</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>d.useOverlay</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setControl</span><span class=p0>(</span><span class=p1>.gamma,</span><span class=ws> </span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=p1>d</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>result</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>testControl</span><span class=p0>(</span><span class=p1>gammaControl,</span><span class=ws> </span><span class=p1>for</span><span class=p0>:</span><span class=ws> </span><span class=p1>d</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setDisplayProgress</span><span class=p0>(</span><span class=p1>0.9,</span><span class=ws> </span><span class=p1>controlStep</span><span class=p0>:</span><span class=ws> </span><span class=p1>0.1</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>waitForAction</span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>The</span><span class=ws> </span><span class=s1>monitor</span><span class=ws> </span><span class=s1>only</span><span class=ws> </span><span class=s1>supports</span><span class=ws> </span><span class=s1>software</span><span class=ws> </span><span class=s1>brightness</span><span class=ws> </span><span class=s1>dimming\nThe</span><span class=ws> </span><span class=s1>monitor's</span><span class=ws> </span><span class=s1>brightness</span><span class=ws> </span><span class=s1>should</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>set</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>its</span><span class=ws> </span><span class=s1>highest</span><span class=ws> </span><span class=s1>values</span><span class=ws> </span><span class=s1>manually</span><span class=ws> </span><span class=s1>using</span><span class=ws> </span><span class=s1>its</span><span class=ws> </span><span class=s1>physical</span><span class=ws> </span><span class=s1>buttons</span><span class=s0>"</span><span class=p1>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>buttonColor</span><span class=p0>:</span><span class=ws> </span><span class=p1>lunarYellow,</span><span class=ws> </span><span class=p1>buttonText</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Next</span><span class=ws> </span><span class=s1>step</span><span class=s0>"</span><span class=p1>.withTextColor</span><span class=p0>(</span><span class=p1>mauve</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>)</span><span class=ws> </span><span class=p0>{}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>override</span><span class=ws> </span><span class=p0>func</span><span class=ws> </span><span class=p1>viewDidLoad</span><span class=p0>()</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>super.viewDidLoad</span><span class=p0>()</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>hideDisplayValues</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>hideAction</span><span class=p0>()</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>hideQuestion</span><span class=p0>()</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>noButton.bg</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>red</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>noButton.attributedTitle</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>No</span><span class=s0>"</span><span class=p1>.withTextColor</span><span class=p0>(</span><span class=p1>white</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>yesButton.bg</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>green</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>yesButton.attributedTitle</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>Yes</span><span class=s0>"</span><span class=p1>.withTextColor</span><span class=p0>(</span><span class=p1>white</span><span class=p0>)</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>displayImage</span><span class=p0>?</span><span class=p1>.cornerRadius</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>16</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>displayImage</span><span class=p0>?</span><span class=p1>.standColor</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>peach</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>displayImage</span><span class=p0>?</span><span class=p1>.screenColor</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>rouge</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionLabel.textColor</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>actionLabelColor</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>actionInfo.alphaValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0.0</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>volumeSlider.minValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>volumeSlider.maxValue</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>100</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>volumeSlider.isEnabled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>volumeSlider.isHidden</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>controlButton</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>controlButton.isEnabled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>controlButton.isHidden</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>ddcBlockersButton</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockersButton.isEnabled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>ddcBlockersButton.isHidden</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>true</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>POPOVERS</span><span class=p0>[</span><span class=s0>"</span><span class=s1>help</span><span class=s0>"</span><span class=p0>]!?</span><span class=p1>.appearance</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>NSAppearance</span><span class=p0>(</span><span class=p1>named</span><span class=p0>:</span><span class=ws> </span><span class=p1>.vibrantDark</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>
</code></pre><pre aria-labelledby=toml class=sh hidden><code><span class=p0>[</span><span class=p1>package</span><span class=p0>]</span>
<span class=p1>name</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"mise"</span>
<span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"2025.2.6"</span>
<span class=p1>edition</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"2021"</span>
<span class=p1>description</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"The</span><span class=ws> </span><span class=s1>front-end</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>your</span><span class=ws> </span><span class=s1>dev</span><span class=ws> </span><span class=s1>env"</span>
<span class=p1>authors</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"Jeff</span><span class=ws> </span><span class=s1>Dickey</span><span class=ws> </span><span class=s1>(@jdx)"</span><span class=p0>]</span>
<span class=p1>homepage</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"https://mise.jdx.dev"</span>
<span class=p1>documentation</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"https://mise.jdx.dev"</span>
<span class=p1>repository</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"https://github.com/jdx/mise"</span>
<span class=p1>readme</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"README.md"</span>
<span class=p1>license</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"MIT"</span>
<span class=p1>keywords</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"mise"</span><span class=p0>]</span>
<span class=p1>categories</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"command-line-utilities"</span><span class=p0>]</span>
<span class=p1>include</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"/Cargo.lock"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"/LICENSE"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"/README.md"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"/build.rs"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"/completions/*"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"/minisign.pub"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"/registry.toml"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"/settings.toml"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"/zipsign.pub"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"/src/**/*.rs"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"/src/assets/**"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"/src/plugins/core/assets/**"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"/aqua-registry/pkgs/**/registry.yaml"</span><span class=p0>,</span>
<span class=p0>]</span>
<span class=p1>build</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"build.rs"</span>
<span class=p1>rust-version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1.82"</span>

<span class=c0>#</span><span class=ws> </span><span class=c0>See</span><span class=ws> </span><span class=c0>more</span><span class=ws> </span><span class=c0>keys</span><span class=ws> </span><span class=c0>and</span><span class=ws> </span><span class=c0>their</span><span class=ws> </span><span class=c0>definitions</span><span class=ws> </span><span class=c0>at</span><span class=ws> </span><span class=c0>https://doc.rust-lang.org/cargo/reference/manifest.html</span>

<span class=p0>[[</span><span class=p1>bin</span><span class=p0>]]</span>
<span class=p1>name</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"mise"</span>
<span class=p1>path</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"src/main.rs"</span>

<span class=c0>#[[bench]]</span>
<span class=c0>#name</span><span class=ws> </span><span class=c0>=</span><span class=ws> </span><span class=c0>"config_bench"</span>
<span class=c0>#harness</span><span class=ws> </span><span class=c0>=</span><span class=ws> </span><span class=c0>false</span>

<span class=p0>[</span><span class=p1>profile</span><span class=p0>.</span><span class=p1>serious</span><span class=p0>]</span>
<span class=p1>inherits</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"release"</span>
<span class=p1>lto</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>true</span>

<span class=p0>[</span><span class=p1>profile</span><span class=p0>.</span><span class=p1>dev</span><span class=p0>.</span><span class=p1>package</span><span class=p0>.</span><span class=p1>backtrace</span><span class=p0>]</span>
<span class=p1>opt-level</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>3</span>

<span class=p0>[</span><span class=p1>dependencies</span><span class=p0>]</span>
<span class=p1>base64</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.22"</span>
<span class=p1>bzip2</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.5"</span>
<span class=p1>calm_io</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.1"</span>
<span class=p1>chrono</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.4"</span><span class=p0>,</span><span class=ws> </span><span class=p1>default-features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>false</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"std"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"clock"</span><span class=p0>,</span>
<span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>ci_info</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.14"</span>
<span class=p1>clap</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"4"</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"env"</span><span class=p0>,</span><span class=ws> </span><span class=s1>"derive"</span><span class=p0>,</span><span class=ws> </span><span class=s1>"string"</span><span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>clap_mangen</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.2"</span><span class=p0>,</span><span class=ws> </span><span class=p1>optional</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>true</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>color-eyre</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.6"</span>
<span class=p1>color-print</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.3"</span>
<span class=p1>comfy-table</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"7.1.3"</span>
<span class=p1>confique</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.3"</span><span class=p0>,</span><span class=ws> </span><span class=p1>default-features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>false</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>console</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.15"</span>
<span class=p1>contracts</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.6"</span>
<span class=p1>crossbeam-channel</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.5"</span>
<span class=p1>demand</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1"</span>
<span class=p1>digest</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.10.7"</span>
<span class=p1>dotenvy</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.15"</span>
<span class=p1>duct</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.13"</span>
<span class=p1>either</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1"</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"serde"</span><span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>homedir</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.3"</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>expr-lang</span><span class=ws> </span><span class=c0>=</span><span class=ws> </span><span class=c0>{</span><span class=ws> </span><span class=c0>path</span><span class=ws> </span><span class=c0>=</span><span class=ws> </span><span class=c0>"../expr-lang"</span><span class=ws> </span><span class=c0>}</span>
<span class=p1>expr-lang</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.2"</span>
<span class=p1>eyre</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.6"</span>
<span class=p1>filetime</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.2"</span>
<span class=p1>flate2</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1"</span>
<span class=p1>fslock</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.2.1"</span>
<span class=p1>glob</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.3"</span>
<span class=p1>globset</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.4"</span>
<span class=p1>heck</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.5"</span>
<span class=p1>humantime</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"2"</span>
<span class=p1>indenter</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.3"</span>
<span class=p1>indexmap</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"2"</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"serde"</span><span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>indicatif</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.17"</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"default"</span><span class=p0>,</span><span class=ws> </span><span class=s1>"improved_unicode"</span><span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>indoc</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"2"</span>
<span class=p1>itertools</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.14"</span>
<span class=p1>junction</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1"</span>
<span class=p1>log</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.4"</span>
<span class=p1>minisign-verify</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.2"</span>
<span class=p1>md-5</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.10"</span>
<span class=p1>num_cpus</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1"</span>
<span class=p1>number_prefix</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.4"</span>
<span class=p1>once_cell</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1"</span>
<span class=p1>openssl</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.10"</span><span class=p0>,</span><span class=ws> </span><span class=p1>optional</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>true</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>os-release</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.1"</span>
<span class=p1>path-absolutize</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"3"</span>
<span class=p1>petgraph</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.7"</span>
<span class=p1>rand</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.9"</span>
<span class=p1>rayon</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1"</span>
<span class=p1>regex</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1"</span>
<span class=p1>reqwest</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.12"</span><span class=p0>,</span><span class=ws> </span><span class=p1>default-features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>false</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"json"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"gzip"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"zstd"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"charset"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"http2"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"macos-system-configuration"</span><span class=p0>,</span>
<span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>rmp-serde</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1"</span>
<span class=p1>rops</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.1"</span><span class=p0>,</span><span class=ws> </span><span class=p1>default-features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>false</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"aes-gcm"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"sha2"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"yaml"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"json"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"age"</span><span class=p0>,</span>
<span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>serde</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1"</span>
<span class=p1>serde_derive</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1"</span>
<span class=p1>serde_ignored</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.1"</span>
<span class=p1>serde_json</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1"</span>
<span class=p1>serde_yaml</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.9"</span>
<span class=p1>sha1</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.10"</span>
<span class=p1>sha2</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.10"</span>
<span class=p1>shell-escape</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.1"</span>
<span class=p1>shell-words</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1"</span>
<span class=p1>signal-hook</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.3"</span>
<span class=p1>siphasher</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1"</span>
<span class=p1>strum</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.26"</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"derive"</span><span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>sys-info</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.9"</span>
<span class=p1>tabled</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.17"</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"ansi"</span><span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>taplo</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.13"</span>
<span class=p1>tar</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.4"</span>
<span class=p1>tempfile</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"3"</span>
<span class=p1>tera</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1"</span>
<span class=p1>terminal_size</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.4"</span>
<span class=p1>thiserror</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"2"</span>
<span class=p1>tokio</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1"</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"io-std"</span><span class=p0>,</span><span class=ws> </span><span class=s1>"rt"</span><span class=p0>,</span><span class=ws> </span><span class=s1>"time"</span><span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>toml</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.8"</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"parse"</span><span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>toml_edit</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.22"</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"parse"</span><span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>ubi</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.4"</span><span class=p0>,</span><span class=ws> </span><span class=p1>default-features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>false</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>url</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"2"</span>
<span class=p1>usage-lib</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"2"</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"clap"</span><span class=p0>,</span><span class=ws> </span><span class=s1>"docs"</span><span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>versions</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"6"</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"serde"</span><span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>vfox</span><span class=ws> </span><span class=c0>=</span><span class=ws> </span><span class=c0>{</span><span class=ws> </span><span class=c0>path</span><span class=ws> </span><span class=c0>=</span><span class=ws> </span><span class=c0>"../vfox.rs"</span><span class=ws> </span><span class=c0>}</span>
<span class=p1>vfox</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1"</span><span class=p0>,</span><span class=ws> </span><span class=p1>default-features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>false</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>walkdir</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"2"</span>
<span class=p1>which</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"7"</span>
<span class=p1>xx</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"2"</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"glob"</span><span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>xz2</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.1"</span>
<span class=p1>zip</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"2"</span><span class=p0>,</span><span class=ws> </span><span class=p1>default-features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>false</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"deflate"</span><span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>zstd</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.13"</span>
<span class=p1>gix</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"&lt;1"</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"worktree-mutation"</span><span class=p0>]</span><span class=ws> </span><span class=p0>}</span>

<span class=p0>[</span><span class=p1>target</span><span class=p0>.</span><span class=p1>'cfg(unix)'</span><span class=p0>.</span><span class=p1>dependencies</span><span class=p0>]</span>
<span class=p1>exec</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.3"</span>
<span class=p1>nix</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.29"</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"signal"</span><span class=p0>,</span><span class=ws> </span><span class=s1>"user"</span><span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>self_update</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.42"</span><span class=p0>,</span><span class=ws> </span><span class=p1>optional</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>true</span><span class=p0>,</span><span class=ws> </span><span class=p1>default-features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>false</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"archive-tar"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"compression-flate2"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"signatures"</span><span class=p0>,</span>
<span class=p0>]</span><span class=ws> </span><span class=p0>}</span>

<span class=p0>[</span><span class=p1>target</span><span class=p0>.</span><span class=p1>'cfg(windows)'</span><span class=p0>.</span><span class=p1>dependencies</span><span class=p0>]</span>
<span class=p1>self_update</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.42"</span><span class=p0>,</span><span class=ws> </span><span class=p1>optional</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>true</span><span class=p0>,</span><span class=ws> </span><span class=p1>default-features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>false</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"archive-zip"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"signatures"</span><span class=p0>,</span>
<span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>sevenz-rust</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.6"</span>

<span class=p0>[</span><span class=p1>build-dependencies</span><span class=p0>]</span>
<span class=p1>built</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.7"</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"chrono"</span><span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>cfg_aliases</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.2"</span>
<span class=p1>heck</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.5"</span>
<span class=p1>toml</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.8"</span>
<span class=p1>indexmap</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"2"</span>

<span class=p0>[</span><span class=p1>dev-dependencies</span><span class=p0>]</span>
<span class=p1>ctor</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.2"</span>
<span class=p1>insta</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>version</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1"</span><span class=p0>,</span><span class=ws> </span><span class=p1>features</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"filters"</span><span class=p0>,</span><span class=ws> </span><span class=s1>"json"</span><span class=p0>]</span><span class=ws> </span><span class=p0>}</span>
<span class=p1>mockito</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1.6.1"</span>
<span class=p1>pretty_assertions</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"1"</span>
<span class=p1>test-log</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"0.2"</span>

<span class=p0>[</span><span class=p1>features</span><span class=p0>]</span>
<span class=p1>default</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"native-tls"</span><span class=p0>,</span><span class=ws> </span><span class=s1>"vfox/vendored-lua"</span><span class=p0>,</span><span class=ws> </span><span class=s1>"self_update"</span><span class=p0>]</span>
<span class=p1>native-tls</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"reqwest/native-tls"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"ubi/native-tls"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"gix/blocking-http-transport-reqwest-native-tls"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"vfox/native-tls"</span><span class=p0>,</span>
<span class=p0>]</span>
<span class=p1>rustls</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"reqwest/rustls-tls"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"self_update/rustls"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"ubi/rustls-tls"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"gix/blocking-http-transport-reqwest-rust-tls"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"vfox/rustls"</span><span class=p0>,</span>
<span class=p0>]</span>
<span class=p1>rustls-native-roots</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"reqwest/rustls-tls-native-roots"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"self_update/rustls"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"ubi/rustls-tls-native-roots"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s1>"vfox/rustls-native-roots"</span><span class=p0>,</span>
<span class=p0>]</span>

<span class=p0>[</span><span class=p1>package</span><span class=p0>.</span><span class=p1>metadata</span><span class=p0>.</span><span class=p1>binstall</span><span class=p0>]</span>
<span class=p1>bin-dir</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"mise/bin/mise"</span>
<span class=p0>[</span><span class=p1>package</span><span class=p0>.</span><span class=p1>metadata</span><span class=p0>.</span><span class=p1>binstall</span><span class=p0>.</span><span class=p1>overrides</span><span class=p0>.</span><span class=p1>aarch64-apple-darwin</span><span class=p0>]</span>
<span class=p1>pkg-url</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"{</span><span class=ws> </span><span class=s1>repo</span><span class=ws> </span><span class=s1>}/releases/download/v{</span><span class=ws> </span><span class=s1>version</span><span class=ws> </span><span class=s1>}/mise-v{version}-macos-arm64{</span><span class=ws> </span><span class=s1>archive-suffix</span><span class=ws> </span><span class=s1>}"</span>
<span class=p0>[</span><span class=p1>package</span><span class=p0>.</span><span class=p1>metadata</span><span class=p0>.</span><span class=p1>binstall</span><span class=p0>.</span><span class=p1>overrides</span><span class=p0>.</span><span class=p1>x86_64-apple-darwin</span><span class=p0>]</span>
<span class=p1>pkg-url</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"{</span><span class=ws> </span><span class=s1>repo</span><span class=ws> </span><span class=s1>}/releases/download/v{</span><span class=ws> </span><span class=s1>version</span><span class=ws> </span><span class=s1>}/mise-v{version}-macos-x64{</span><span class=ws> </span><span class=s1>archive-suffix</span><span class=ws> </span><span class=s1>}"</span>
<span class=p0>[</span><span class=p1>package</span><span class=p0>.</span><span class=p1>metadata</span><span class=p0>.</span><span class=p1>binstall</span><span class=p0>.</span><span class=p1>overrides</span><span class=p0>.</span><span class=p1>aarch64-unknown-linux-gnu</span><span class=p0>]</span>
<span class=p1>pkg-url</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"{</span><span class=ws> </span><span class=s1>repo</span><span class=ws> </span><span class=s1>}/releases/download/v{</span><span class=ws> </span><span class=s1>version</span><span class=ws> </span><span class=s1>}/mise-v{version}-linux-arm64{</span><span class=ws> </span><span class=s1>archive-suffix</span><span class=ws> </span><span class=s1>}"</span>
<span class=p0>[</span><span class=p1>package</span><span class=p0>.</span><span class=p1>metadata</span><span class=p0>.</span><span class=p1>binstall</span><span class=p0>.</span><span class=p1>overrides</span><span class=p0>.</span><span class=p1>x86_64-unknown-linux-gnu</span><span class=p0>]</span>
<span class=p1>pkg-url</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"{</span><span class=ws> </span><span class=s1>repo</span><span class=ws> </span><span class=s1>}/releases/download/v{</span><span class=ws> </span><span class=s1>version</span><span class=ws> </span><span class=s1>}/mise-v{version}-linux-x64{</span><span class=ws> </span><span class=s1>archive-suffix</span><span class=ws> </span><span class=s1>}"</span>
<span class=p0>[</span><span class=p1>package</span><span class=p0>.</span><span class=p1>metadata</span><span class=p0>.</span><span class=p1>binstall</span><span class=p0>.</span><span class=p1>overrides</span><span class=p0>.</span><span class=p1>armv7-unknown-linux-gnueabihf</span><span class=p0>]</span>
<span class=p1>pkg-url</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"{</span><span class=ws> </span><span class=s1>repo</span><span class=ws> </span><span class=s1>}/releases/download/v{</span><span class=ws> </span><span class=s1>version</span><span class=ws> </span><span class=s1>}/mise-v{version}-linux-armv7{</span><span class=ws> </span><span class=s1>archive-suffix</span><span class=ws> </span><span class=s1>}"</span>

<span class=p0>[</span><span class=p1>package</span><span class=p0>.</span><span class=p1>metadata</span><span class=p0>.</span><span class=p1>cargo-machete</span><span class=p0>]</span>
<span class=p1>ignored</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s1>"built"</span><span class=p0>,</span><span class=ws> </span><span class=s1>"openssl"</span><span class=p0>,</span><span class=ws> </span><span class=s1>"cfg_aliases"</span><span class=p0>]</span>

<span class=p0>[</span><span class=p1>lints</span><span class=p0>.</span><span class=p1>rust</span><span class=p0>]</span>
<span class=p1>unexpected_cfgs</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>level</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"warn"</span><span class=p0>,</span><span class=ws> </span><span class=p1>check-cfg</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span>
<span class=ws> </span><span class=ws> </span><span class=s1>'cfg(coverage,coverage_nightly)'</span><span class=p0>,</span>
<span class=p0>]</span><span class=ws> </span><span class=p0>}</span>

<span class=p0>[</span><span class=p1>lints</span><span class=p0>.</span><span class=p1>clippy</span><span class=p0>]</span>
<span class=p1>borrowed_box</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s1>"allow"</span>
</code></pre><pre aria-labelledby=ts class=sh hidden><code><span class=p0>import</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>relative</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>pathe</span><span class=p0>'</span>
<span class=p0>import</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>parseAstAsync</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>vite</span><span class=p0>'</span>
<span class=p0>import</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>ancestor</span><span class=ws> </span><span class=p0>as</span><span class=ws> </span><span class=p1>walkAst</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>acorn-walk</span><span class=p0>'</span>
<span class=p0>import</span><span class=ws> </span><span class=p0>type</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>RawSourceMap</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>vite-node</span><span class=p0>'</span>

<span class=p0>import</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>calculateSuiteHash</span><span class=p0>,</span><span class=ws> </span><span class=p1>generateHash</span><span class=p0>,</span><span class=ws> </span><span class=p1>interpretTaskModes</span><span class=p0>,</span><span class=ws> </span><span class=p1>someTasksAreOnly</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>@vitest/runner/utils</span><span class=p0>'</span>
<span class=p0>import</span><span class=ws> </span><span class=p0>type</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>File</span><span class=p0>,</span><span class=ws> </span><span class=p1>Suite</span><span class=p0>,</span><span class=ws> </span><span class=p1>Test</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>../types</span><span class=p0>'</span>
<span class=p0>import</span><span class=ws> </span><span class=p0>type</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>WorkspaceProject</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>'</span><span class=p1>../node/workspace</span><span class=p0>'</span>

<span class=p0>interface</span><span class=ws> </span><span class=p1>ParsedFile</span><span class=ws> </span><span class=p0>extends</span><span class=ws> </span><span class=p1>File</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>start</span><span class=p0>:</span><span class=ws> </span><span class=p0>number</span>
<span class=ws> </span><span class=ws> </span><span class=p1>end</span><span class=p0>:</span><span class=ws> </span><span class=p0>number</span>
<span class=p0>}</span>

<span class=p0>interface</span><span class=ws> </span><span class=p1>ParsedTest</span><span class=ws> </span><span class=p0>extends</span><span class=ws> </span><span class=p1>Test</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>start</span><span class=p0>:</span><span class=ws> </span><span class=p0>number</span>
<span class=ws> </span><span class=ws> </span><span class=p1>end</span><span class=p0>:</span><span class=ws> </span><span class=p0>number</span>
<span class=p0>}</span>

<span class=p0>interface</span><span class=ws> </span><span class=p1>ParsedSuite</span><span class=ws> </span><span class=p0>extends</span><span class=ws> </span><span class=p1>Suite</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>start</span><span class=p0>:</span><span class=ws> </span><span class=p0>number</span>
<span class=ws> </span><span class=ws> </span><span class=p1>end</span><span class=p0>:</span><span class=ws> </span><span class=p0>number</span>
<span class=p0>}</span>

<span class=p0>interface</span><span class=ws> </span><span class=p1>LocalCallDefinition</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>start</span><span class=p0>:</span><span class=ws> </span><span class=p0>number</span>
<span class=ws> </span><span class=ws> </span><span class=p1>end</span><span class=p0>:</span><span class=ws> </span><span class=p0>number</span>
<span class=ws> </span><span class=ws> </span><span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=p0>string</span>
<span class=ws> </span><span class=ws> </span><span class=p1>type</span><span class=p0>:</span><span class=ws> </span><span class=p0>'suite'</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p0>'test'</span>
<span class=ws> </span><span class=ws> </span><span class=p1>mode</span><span class=p0>:</span><span class=ws> </span><span class=p0>'run'</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p0>'skip'</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p0>'only'</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p0>'todo'</span>
<span class=ws> </span><span class=ws> </span><span class=p1>task</span><span class=p0>:</span><span class=ws> </span><span class=p0>ParsedSuite</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p0>ParsedFile</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p0>ParsedTest</span>
<span class=p0>}</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>interface</span><span class=ws> </span><span class=p1>FileInformation</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>file</span><span class=p0>:</span><span class=ws> </span><span class=p0>File</span>
<span class=ws> </span><span class=ws> </span><span class=p1>filepath</span><span class=p0>:</span><span class=ws> </span><span class=p0>string</span>
<span class=ws> </span><span class=ws> </span><span class=p1>parsed</span><span class=p0>:</span><span class=ws> </span><span class=p0>string</span>
<span class=ws> </span><span class=ws> </span><span class=p1>map</span><span class=p0>:</span><span class=ws> </span><span class=p0>RawSourceMap</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p0>null</span>
<span class=ws> </span><span class=ws> </span><span class=p1>definitions</span><span class=p0>:</span><span class=ws> </span><span class=p0>LocalCallDefinition[]</span>
<span class=p0>}</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>async</span><span class=ws> </span><span class=p0>function</span><span class=ws> </span><span class=p1>collectTests</span><span class=p0>(</span><span class=p1>ctx</span><span class=p0>:</span><span class=ws> </span><span class=p0>WorkspaceProject,</span><span class=ws> </span><span class=p1>filepath</span><span class=p0>:</span><span class=ws> </span><span class=p0>string):</span><span class=ws> </span><span class=p0>Promise&lt;null</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p0>FileInformation></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>request</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>await</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>.</span><span class=p1>vitenode</span><span class=p0>.</span><span class=p1>transformRequest</span><span class=p0>(</span><span class=p1>filepath</span><span class=p0>,</span><span class=ws> </span><span class=p1>filepath</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>(!</span><span class=p1>request</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>null</span>
<span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>ast</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>await</span><span class=ws> </span><span class=p1>parseAstAsync</span><span class=p0>(</span><span class=p1>request</span><span class=p0>.</span><span class=p1>code</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>testFilepath</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>relative</span><span class=p0>(</span><span class=p1>ctx</span><span class=p0>.</span><span class=p1>config</span><span class=p0>.</span><span class=p1>root</span><span class=p0>,</span><span class=ws> </span><span class=p1>filepath</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>file</span><span class=p0>:</span><span class=ws> </span><span class=p0>ParsedFile</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>filepath</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>type</span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>suite</span><span class=s0>'</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>id</span><span class=p0>:</span><span class=ws> </span><span class=p1>generateHash</span><span class=p0>(</span><span class=s0>`</span><span class=p0>${</span><span class=p1>testFilepath</span><span class=p0>}${</span><span class=p1>ctx</span><span class=p0>.</span><span class=p1>config</span><span class=p0>.</span><span class=p1>name</span><span class=ws> </span><span class=p0>||</span><span class=ws> </span><span class=s0>''</span><span class=p0>}</span><span class=s0>`</span><span class=p0>),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=p1>testFilepath</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mode</span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>run</span><span class=s0>'</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>tasks</span><span class=p0>:</span><span class=ws> </span><span class=p0>[],</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>start</span><span class=p0>:</span><span class=ws> </span><span class=p1>ast</span><span class=p0>.</span><span class=p1>start</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>end</span><span class=p0>:</span><span class=ws> </span><span class=p1>ast</span><span class=p0>.</span><span class=p1>end</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>projectName</span><span class=p0>:</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>.</span><span class=p1>getName</span><span class=p0>(),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>meta</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>typecheck</span><span class=p0>:</span><span class=ws> </span><span class=p1>true</span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>definitions</span><span class=p0>:</span><span class=ws> </span><span class=p0>LocalCallDefinition[]</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[]</span>
<span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>getName</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>callee</span><span class=p0>:</span><span class=ws> </span><span class=p0>any):</span><span class=ws> </span><span class=p0>string</span><span class=ws> </span><span class=p0>|</span><span class=ws> </span><span class=p0>null</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>(!</span><span class=p1>callee</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>null</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>(</span><span class=p1>callee</span><span class=p0>.</span><span class=p1>type</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=s0>'</span><span class=s1>Identifier</span><span class=s0>'</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>callee</span><span class=p0>.</span><span class=p1>name</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>(</span><span class=p1>callee</span><span class=p0>.</span><span class=p1>type</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=s0>'</span><span class=s1>MemberExpression</span><span class=s0>'</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>direct</span><span class=ws> </span><span class=c0>call</span><span class=ws> </span><span class=c0>as</span><span class=ws> </span><span class=c0>`__vite_ssr_exports_0__.test()`</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>(</span><span class=p1>callee</span><span class=p0>.</span><span class=p1>object</span><span class=p0>?.</span><span class=p1>name</span><span class=p0>?.</span><span class=p1>startsWith</span><span class=p0>(</span><span class=s0>'</span><span class=s1>__vite_ssr_</span><span class=s0>'</span><span class=p0>))</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>getName</span><span class=p0>(</span><span class=p1>callee</span><span class=p0>.</span><span class=p1>property</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>call</span><span class=ws> </span><span class=c0>as</span><span class=ws> </span><span class=c0>`__vite_ssr__.test.skip()`</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>getName</span><span class=p0>(</span><span class=p1>callee</span><span class=p0>.</span><span class=p1>object</span><span class=p0>?.</span><span class=p1>property</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>null</span>
<span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=p1>walkAst</span><span class=p0>(</span><span class=p1>ast</span><span class=ws> </span><span class=p0>as</span><span class=ws> </span><span class=p0>any,</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>CallExpression</span><span class=p0>(</span><span class=p1>node</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>callee</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>node</span><span class=ws> </span><span class=p0>as</span><span class=ws> </span><span class=p0>any</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>name</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>getName</span><span class=p0>(</span><span class=p1>callee</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>(!</span><span class=p1>name</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>(![</span><span class=s0>'</span><span class=s1>it</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>test</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>describe</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>suite</span><span class=s0>'</span><span class=p0>].</span><span class=p1>includes</span><span class=p0>(</span><span class=p1>name</span><span class=p0>))</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>arguments:</span><span class=ws> </span><span class=p0>[{</span><span class=ws> </span><span class=p1>value:</span><span class=ws> </span><span class=p1>message</span><span class=ws> </span><span class=p0>}]</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>node</span><span class=ws> </span><span class=p0>as</span><span class=ws> </span><span class=p0>any</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>property</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>callee</span><span class=p0>?.</span><span class=p1>property</span><span class=p0>?.</span><span class=p1>name</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>mode</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(!</span><span class=p1>property</span><span class=ws> </span><span class=p0>||</span><span class=ws> </span><span class=p1>property</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=p1>name</span><span class=p0>)</span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=s0>'</span><span class=s1>run</span><span class=s0>'</span><span class=ws> </span><span class=p0>:</span><span class=ws> </span><span class=p1>property</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>(![</span><span class=s0>'</span><span class=s1>run</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>skip</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>todo</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>only</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>skipIf</span><span class=s0>'</span><span class=p0>,</span><span class=ws> </span><span class=s0>'</span><span class=s1>runIf</span><span class=s0>'</span><span class=p0>].</span><span class=p1>includes</span><span class=p0>(</span><span class=p1>mode</span><span class=p0>))</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>throw</span><span class=ws> </span><span class=p0>new</span><span class=ws> </span><span class=p1>Error</span><span class=p0>(</span><span class=s0>`</span><span class=p0>${</span><span class=p1>name</span><span class=p0>}</span><span class=s1>.</span><span class=p0>${</span><span class=p1>mode</span><span class=p0>}</span><span class=ws> </span><span class=s1>syntax</span><span class=ws> </span><span class=s1>is</span><span class=ws> </span><span class=s1>not</span><span class=ws> </span><span class=s1>supported</span><span class=ws> </span><span class=s1>when</span><span class=ws> </span><span class=s1>testing</span><span class=ws> </span><span class=s1>types</span><span class=s0>`</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>cannot</span><span class=ws> </span><span class=c0>statically</span><span class=ws> </span><span class=c0>analyze,</span><span class=ws> </span><span class=c0>so</span><span class=ws> </span><span class=c0>we</span><span class=ws> </span><span class=c0>always</span><span class=ws> </span><span class=c0>skip</span><span class=ws> </span><span class=c0>it</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>(</span><span class=p1>mode</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=s0>'</span><span class=s1>skipIf</span><span class=s0>'</span><span class=ws> </span><span class=p0>||</span><span class=ws> </span><span class=p1>mode</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=s0>'</span><span class=s1>runIf</span><span class=s0>'</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mode</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>'</span><span class=s1>skip</span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>definitions</span><span class=p0>.</span><span class=p1>push</span><span class=p0>({</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>start</span><span class=p0>:</span><span class=ws> </span><span class=p1>node</span><span class=p0>.</span><span class=p1>start</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>end</span><span class=p0>:</span><span class=ws> </span><span class=p1>node</span><span class=p0>.</span><span class=p1>end</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=p1>message</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>type</span><span class=p0>:</span><span class=ws> </span><span class=p0>(</span><span class=p1>name</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=s0>'</span><span class=s1>it</span><span class=s0>'</span><span class=ws> </span><span class=p0>||</span><span class=ws> </span><span class=p1>name</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=s0>'</span><span class=s1>test</span><span class=s0>'</span><span class=p0>)</span><span class=ws> </span><span class=p0>?</span><span class=ws> </span><span class=s0>'</span><span class=s1>test</span><span class=s0>'</span><span class=ws> </span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>suite</span><span class=s0>'</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mode</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>as</span><span class=ws> </span><span class=p1>LocalCallDefinition</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p0>})</span>
<span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>lastSuite</span><span class=p0>:</span><span class=ws> </span><span class=p0>ParsedSuite</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>file</span>
<span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>updateLatestSuite</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>index</span><span class=p0>:</span><span class=ws> </span><span class=p0>number)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>while</span><span class=ws> </span><span class=p0>(</span><span class=p1>lastSuite</span><span class=p0>.</span><span class=p1>suite</span><span class=ws> </span><span class=p0>&&</span><span class=ws> </span><span class=p1>lastSuite</span><span class=p0>.</span><span class=p1>end</span><span class=ws> </span><span class=p0>&lt;</span><span class=ws> </span><span class=p1>index</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>lastSuite</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>lastSuite</span><span class=p0>.</span><span class=p1>suite</span><span class=ws> </span><span class=p0>as</span><span class=ws> </span><span class=p1>ParsedSuite</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p1>lastSuite</span>
<span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=p1>definitions</span><span class=p0>.</span><span class=p1>sort</span><span class=p0>((</span><span class=p1>a</span><span class=p0>,</span><span class=ws> </span><span class=p1>b</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>a</span><span class=p0>.</span><span class=p1>start</span><span class=ws> </span><span class=p0>-</span><span class=ws> </span><span class=p1>b</span><span class=p0>.</span><span class=p1>start</span><span class=p0>).</span><span class=p1>forEach</span><span class=p0>((</span><span class=p1>definition</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>latestSuite</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>updateLatestSuite</span><span class=p0>(</span><span class=p1>definition</span><span class=p0>.</span><span class=p1>start</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>mode</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>definition</span><span class=p0>.</span><span class=p1>mode</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>(</span><span class=p1>latestSuite</span><span class=p0>.</span><span class=p1>mode</span><span class=ws> </span><span class=p0>!==</span><span class=ws> </span><span class=s0>'</span><span class=s1>run</span><span class=s0>'</span><span class=p0>)</span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>inherit</span><span class=ws> </span><span class=c0>suite</span><span class=ws> </span><span class=c0>mode,</span><span class=ws> </span><span class=c0>if</span><span class=ws> </span><span class=c0>it's</span><span class=ws> </span><span class=c0>set</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mode</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>latestSuite</span><span class=p0>.</span><span class=p1>mode</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>(</span><span class=p1>definition</span><span class=p0>.</span><span class=p1>type</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=s0>'</span><span class=s1>suite</span><span class=s0>'</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>task</span><span class=p0>:</span><span class=ws> </span><span class=p0>ParsedSuite</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>type</span><span class=p0>:</span><span class=ws> </span><span class=p1>definition</span><span class=p0>.</span><span class=p1>type</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>id</span><span class=p0>:</span><span class=ws> </span><span class=s0>''</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>suite</span><span class=p0>:</span><span class=ws> </span><span class=p1>latestSuite</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>file</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>tasks</span><span class=p0>:</span><span class=ws> </span><span class=p0>[],</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mode</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=p1>definition</span><span class=p0>.</span><span class=p1>name</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>end</span><span class=p0>:</span><span class=ws> </span><span class=p1>definition</span><span class=p0>.</span><span class=p1>end</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>start</span><span class=p0>:</span><span class=ws> </span><span class=p1>definition</span><span class=p0>.</span><span class=p1>start</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>projectName</span><span class=p0>:</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>.</span><span class=p1>getName</span><span class=p0>(),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>meta</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>typecheck</span><span class=p0>:</span><span class=ws> </span><span class=p1>true</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>definition</span><span class=p0>.</span><span class=p1>task</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>task</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>latestSuite</span><span class=p0>.</span><span class=p1>tasks</span><span class=p0>.</span><span class=p1>push</span><span class=p0>(</span><span class=p1>task</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>lastSuite</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>task</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>task</span><span class=p0>:</span><span class=ws> </span><span class=p0>ParsedTest</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>type</span><span class=p0>:</span><span class=ws> </span><span class=p1>definition</span><span class=p0>.</span><span class=p1>type</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>id</span><span class=p0>:</span><span class=ws> </span><span class=s0>''</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>suite</span><span class=p0>:</span><span class=ws> </span><span class=p1>latestSuite</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>file</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mode</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>context</span><span class=p0>:</span><span class=ws> </span><span class=p0>{}</span><span class=ws> </span><span class=p0>as</span><span class=ws> </span><span class=p0>any,</span><span class=ws> </span><span class=c0>//</span><span class=ws> </span><span class=c0>not</span><span class=ws> </span><span class=c0>used</span><span class=ws> </span><span class=c0>in</span><span class=ws> </span><span class=c0>typecheck</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=p1>definition</span><span class=p0>.</span><span class=p1>name</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>end</span><span class=p0>:</span><span class=ws> </span><span class=p1>definition</span><span class=p0>.</span><span class=p1>end</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>start</span><span class=p0>:</span><span class=ws> </span><span class=p1>definition</span><span class=p0>.</span><span class=p1>start</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>meta</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>typecheck</span><span class=p0>:</span><span class=ws> </span><span class=p1>true</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>definition</span><span class=p0>.</span><span class=p1>task</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>task</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>latestSuite</span><span class=p0>.</span><span class=p1>tasks</span><span class=p0>.</span><span class=p1>push</span><span class=p0>(</span><span class=p1>task</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=p0>})</span>
<span class=ws> </span><span class=ws> </span><span class=p1>calculateSuiteHash</span><span class=p0>(</span><span class=p1>file</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>hasOnly</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>someTasksAreOnly</span><span class=p0>(</span><span class=p1>file</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=p1>interpretTaskModes</span><span class=p0>(</span><span class=p1>file</span><span class=p0>,</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>.</span><span class=p1>config</span><span class=p0>.</span><span class=p1>testNamePattern</span><span class=p0>,</span><span class=ws> </span><span class=p1>hasOnly</span><span class=p0>,</span><span class=ws> </span><span class=p1>false</span><span class=p0>,</span><span class=ws> </span><span class=p1>ctx</span><span class=p0>.</span><span class=p1>config</span><span class=p0>.</span><span class=p1>allowOnly</span><span class=p0>)</span>
<span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>file</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>parsed</span><span class=p0>:</span><span class=ws> </span><span class=p1>request</span><span class=p0>.</span><span class=p1>code</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>filepath</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>map</span><span class=p0>:</span><span class=ws> </span><span class=p1>request</span><span class=p0>.</span><span class=p1>map</span><span class=ws> </span><span class=p0>as</span><span class=ws> </span><span class=p1>RawSourceMap</span><span class=ws> </span><span class=p1>|</span><span class=ws> </span><span class=p0>null,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>definitions</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=p0>}</span>
</code></pre><pre aria-labelledby=tsx class=sh hidden><code><span class=c0>/*</span><span class=ws> </span><span class=c0>eslint-disable</span><span class=ws> </span><span class=c0>testing-library/no-node-access</span><span class=ws> </span><span class=c0>*/</span>
<span class=p0>import</span><span class=ws> </span><span class=p1>*</span><span class=ws> </span><span class=p0>as</span><span class=ws> </span><span class=p1>React</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>"</span><span class=p1>react</span><span class=p0>"</span><span class=p0>;</span>
<span class=p0>import</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>userEvent</span><span class=p0>,</span><span class=ws> </span><span class=p1>within</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>"</span><span class=p1>@storybook/testing-library</span><span class=p0>"</span><span class=p0>;</span>
<span class=p0>import</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>expect</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>"</span><span class=p1>@storybook/jest</span><span class=p0>"</span><span class=p0>;</span>
<span class=p0>import</span><span class=ws> </span><span class=p1>*</span><span class=ws> </span><span class=p0>as</span><span class=ws> </span><span class=p1>Tokens</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>"</span><span class=p1>@washingtonpost/wpds-theme/src/tokens</span><span class=p0>"</span><span class=p0>;</span>
<span class=p0>import</span><span class=ws> </span><span class=p1>*</span><span class=ws> </span><span class=p0>as</span><span class=ws> </span><span class=p1>PopoverPrimitive</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>"</span><span class=p1>@radix-ui/react-popover</span><span class=p0>"</span><span class=p0>;</span>
<span class=p0>import</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>Popover</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>"</span><span class=p1>./</span><span class=p0>"</span><span class=p0>;</span>
<span class=p0>import</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>styled</span><span class=p0>,</span><span class=ws> </span><span class=p1>theme</span><span class=p0>,</span><span class=ws> </span><span class=p1>globalCss</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>"</span><span class=p1>@washingtonpost/wpds-theme</span><span class=p0>"</span><span class=p0>;</span>
<span class=p0>import</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>ChevronRight</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>"</span><span class=p1>@washingtonpost/wpds-assets</span><span class=p0>"</span><span class=p0>;</span>

<span class=p0>import</span><span class=ws> </span><span class=p0>type</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>ComponentMeta</span><span class=p0>,</span><span class=ws> </span><span class=p1>ComponentStory</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>from</span><span class=ws> </span><span class=p0>"</span><span class=p1>@storybook/react</span><span class=p0>"</span><span class=p0>;</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>default</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>title</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>Popover</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>component</span><span class=p0>:</span><span class=ws> </span><span class=p1>Popover</span><span class=p0>.</span><span class=p1>Content</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>subcomponents</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Root</span><span class=p0>:</span><span class=ws> </span><span class=p1>Popover</span><span class=p0>.</span><span class=p1>Root</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Portal</span><span class=p0>:</span><span class=ws> </span><span class=p1>Popover</span><span class=p0>.</span><span class=p1>Portal</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Trigger</span><span class=p0>:</span><span class=ws> </span><span class=p1>Popover</span><span class=p0>.</span><span class=p1>Trigger</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Anchor</span><span class=p0>:</span><span class=ws> </span><span class=p1>Popover</span><span class=p0>.</span><span class=p1>Anchor</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=p0>}</span><span class=ws> </span><span class=p0>as</span><span class=ws> </span><span class=p1>ComponentMeta</span><span class=p0>&lt;typeof</span><span class=ws> </span><span class=p0>Popover.Content>;</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>eslint-disable-next-line</span><span class=ws> </span><span class=c0>@typescript-eslint/no-explicit-any</span>
<span class=p0>const</span><span class=ws> </span><span class=p1>Template</span><span class=p0>:</span><span class=ws> </span><span class=p0>ComponentStory&lt;any></span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>args</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>triggerRef</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>React</span><span class=p0>.</span><span class=p1>useRef</span><span class=p0>(</span><span class=p1>null</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p0>[</span><span class=p1>parentElement</span><span class=p0>,</span><span class=ws> </span><span class=p1>setParentElement</span><span class=p0>]</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>React</span><span class=p0>.</span><span class=p1>useState</span><span class=p0>();</span>

<span class=ws> </span><span class=ws> </span><span class=p1>React</span><span class=p0>.</span><span class=p1>useEffect</span><span class=p0>(()</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>triggerRef</span><span class=p0>?.</span><span class=p1>current</span><span class=ws> </span><span class=p0>&&</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setParentElement</span><span class=p0>(</span><span class=p1>triggerRef</span><span class=p0>.</span><span class=p1>current</span><span class=p0>[</span><span class=s0>"</span><span class=s1>parentElement</span><span class=s0>"</span><span class=p0>]);</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span><span class=ws> </span><span class=p0>[</span><span class=p1>setParentElement</span><span class=p0>]);</span>

<span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Root</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Trigger</span><span class=ws> </span><span class=p1>ref</span><span class=p0>={</span><span class=p1>triggerRef</span><span class=p0>}></span><span class=p1>Trigger</span><span class=p0>&lt;/</span><span class=p1>Popover.Trigger</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Portal</span><span class=ws> </span><span class=p1>container</span><span class=p0>={</span><span class=p1>parentElement</span><span class=p0>}></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Content</span><span class=ws> </span><span class=p0>{...</span><span class=p1>args</span><span class=p0>}>&lt;/</span><span class=p1>Popover.Content</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Popover.Portal</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Popover.Root</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=p0>);</span>
<span class=p0>};</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>Default</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>Template</span><span class=p0>.</span><span class=p1>bind</span><span class=p0>({});</span>

<span class=p1>Default</span><span class=p0>.</span><span class=p1>args</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>children</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>Lorem</span><span class=ws> </span><span class=s1>ipsum</span><span class=ws> </span><span class=s1>dolor</span><span class=ws> </span><span class=s1>sit</span><span class=ws> </span><span class=s1>amet,</span><span class=ws> </span><span class=s1>consectetur</span><span class=ws> </span><span class=s1>adipiscing</span><span class=ws> </span><span class=s1>elit.</span><span class=ws> </span><span class=s1>Diam</span><span class=ws> </span><span class=s1>non</span><span class=ws> </span><span class=s1>eget</span><span class=ws> </span><span class=s1>consequat</span><span class=ws> </span><span class=s1>pretium.</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>density</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>default</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>sideOffset</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>050</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>side</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>bottom</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>align</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>center</span><span class=s0>"</span><span class=p0>,</span>
<span class=p0>};</span>

<span class=p1>Default</span><span class=p0>.</span><span class=p1>argTypes</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>density</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>control</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>select</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>options</span><span class=p0>:</span><span class=ws> </span><span class=p0>[</span><span class=s0>"</span><span class=s1>default</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>compact</span><span class=s0>"</span><span class=p0>],</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p1>sideOffset</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>options</span><span class=p0>:</span><span class=ws> </span><span class=p1>Object</span><span class=p0>.</span><span class=p1>keys</span><span class=p0>(</span><span class=p1>Tokens</span><span class=p0>.</span><span class=p1>sizes</span><span class=p0>),</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>mapping</span><span class=p0>:</span><span class=ws> </span><span class=p1>theme</span><span class=p0>.</span><span class=p1>sizes</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>control</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>select</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=p0>};</span>

<span class=p1>Default</span><span class=p0>.</span><span class=p1>parameters</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>chromatic</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>disableSnapshot</span><span class=p0>:</span><span class=ws> </span><span class=p1>true</span><span class=ws> </span><span class=p0>},</span>
<span class=p0>};</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>eslint-disable-next-line</span><span class=ws> </span><span class=c0>@typescript-eslint/no-explicit-any</span>
<span class=p0>const</span><span class=ws> </span><span class=p1>AnchorTemplate</span><span class=p0>:</span><span class=ws> </span><span class=p0>ComponentStory&lt;any></span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>args</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>triggerRef</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>React</span><span class=p0>.</span><span class=p1>useRef</span><span class=p0>(</span><span class=p1>null</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p0>[</span><span class=p1>parentElement</span><span class=p0>,</span><span class=ws> </span><span class=p1>setParentElement</span><span class=p0>]</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>React</span><span class=p0>.</span><span class=p1>useState</span><span class=p0>();</span>
<span class=ws> </span><span class=ws> </span><span class=p1>React</span><span class=p0>.</span><span class=p1>useEffect</span><span class=p0>(()</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>triggerRef</span><span class=p0>?.</span><span class=p1>current</span><span class=ws> </span><span class=p0>&&</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setParentElement</span><span class=p0>(</span><span class=p1>triggerRef</span><span class=p0>.</span><span class=p1>current</span><span class=p0>[</span><span class=s0>"</span><span class=s1>parentElement</span><span class=s0>"</span><span class=p0>]);</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span><span class=ws> </span><span class=p0>[</span><span class=p1>setParentElement</span><span class=p0>]);</span>
<span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Root</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Trigger</span><span class=ws> </span><span class=p1>ref</span><span class=p0>={</span><span class=p1>triggerRef</span><span class=p0>}></span><span class=p1>Trigger</span><span class=p0>&lt;/</span><span class=p1>Popover.Trigger</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Portal</span><span class=ws> </span><span class=p1>container</span><span class=p0>={</span><span class=p1>parentElement</span><span class=p0>}></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Content</span><span class=ws> </span><span class=p0>{...</span><span class=p1>args</span><span class=p0>}>&lt;/</span><span class=p1>Popover.Content</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Popover.Portal</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Anchor</span><span class=ws> </span><span class=p1>asChild</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>div</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>style</span><span class=p0>={{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>position</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>absolute</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>bottom</span><span class=p0>:</span><span class=ws> </span><span class=p1>0</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>theme</span><span class=p0>.</span><span class=p1>colors</span><span class=p0>.</span><span class=p1>primary</span><span class=p0>.</span><span class=p1>value</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Anchor</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Popover.Anchor</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Popover.Root</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=p0>);</span>
<span class=p0>};</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>Anchor</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>AnchorTemplate</span><span class=p0>.</span><span class=p1>bind</span><span class=p0>({});</span>
<span class=p1>Anchor</span><span class=p0>.</span><span class=p1>args</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>children</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>Anchors</span><span class=ws> </span><span class=s1>allow</span><span class=ws> </span><span class=s1>for</span><span class=ws> </span><span class=s1>Popups</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>triggered</span><span class=ws> </span><span class=s1>and</span><span class=ws> </span><span class=s1>positioned</span><span class=ws> </span><span class=s1>independently</span><span class=s0>"</span><span class=p0>,</span>
<span class=p0>};</span>
<span class=p1>Anchor</span><span class=p0>.</span><span class=p1>parameters</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>chromatic</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>disableSnapshot</span><span class=p0>:</span><span class=ws> </span><span class=p1>true</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>};</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>eslint-disable-next-line</span><span class=ws> </span><span class=c0>@typescript-eslint/no-explicit-any</span>
<span class=p0>const</span><span class=ws> </span><span class=p1>CloseButtonTemplate</span><span class=p0>:</span><span class=ws> </span><span class=p0>ComponentStory&lt;any></span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>(</span><span class=p1>args</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>triggerRef</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>React</span><span class=p0>.</span><span class=p1>useRef</span><span class=p0>(</span><span class=p1>null</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p0>[</span><span class=p1>parentElement</span><span class=p0>,</span><span class=ws> </span><span class=p1>setParentElement</span><span class=p0>]</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>React</span><span class=p0>.</span><span class=p1>useState</span><span class=p0>();</span>
<span class=ws> </span><span class=ws> </span><span class=p1>React</span><span class=p0>.</span><span class=p1>useEffect</span><span class=p0>(()</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>triggerRef</span><span class=p0>?.</span><span class=p1>current</span><span class=ws> </span><span class=p0>&&</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>setParentElement</span><span class=p0>(</span><span class=p1>triggerRef</span><span class=p0>.</span><span class=p1>current</span><span class=p0>[</span><span class=s0>"</span><span class=s1>parentElement</span><span class=s0>"</span><span class=p0>]);</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span><span class=ws> </span><span class=p0>[</span><span class=p1>setParentElement</span><span class=p0>]);</span>
<span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Root</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Trigger</span><span class=ws> </span><span class=p1>ref</span><span class=p0>={</span><span class=p1>triggerRef</span><span class=p0>}></span><span class=p1>Trigger</span><span class=p0>&lt;/</span><span class=p1>Popover.Trigger</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Portal</span><span class=ws> </span><span class=p1>container</span><span class=p0>={</span><span class=p1>parentElement</span><span class=p0>}></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Content</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>{...</span><span class=p1>args</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>onInteractOutside</span><span class=p0>={(</span><span class=p1>e</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>e</span><span class=p0>.</span><span class=p1>preventDefault</span><span class=p0>();</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>div</span><span class=ws> </span><span class=p1>style</span><span class=p0>={{</span><span class=ws> </span><span class=p1>marginInlineEnd</span><span class=p0>:</span><span class=ws> </span><span class=p1>theme</span><span class=p0>.</span><span class=p1>sizes</span><span class=p0>[</span><span class=s0>"</span><span class=s1>175</span><span class=s0>"</span><span class=p0>].</span><span class=p1>value</span><span class=ws> </span><span class=p0>}}></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>{</span><span class=p1>args</span><span class=p0>.</span><span class=p1>children</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Close</span><span class=ws> </span><span class=p0>/></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Popover.Content</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Popover.Portal</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Popover.Root</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=p0>);</span>
<span class=p0>};</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>CloseButton</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>CloseButtonTemplate</span><span class=p0>.</span><span class=p1>bind</span><span class=p0>({});</span>
<span class=p1>CloseButton</span><span class=p0>.</span><span class=p1>args</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>children</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>An</span><span class=ws> </span><span class=s1>optional</span><span class=ws> </span><span class=s1>close</span><span class=ws> </span><span class=s1>button</span><span class=ws> </span><span class=s1>may</span><span class=ws> </span><span class=s1>be</span><span class=ws> </span><span class=s1>included</span><span class=s0>"</span><span class=p0>,</span>
<span class=p0>};</span>
<span class=p1>CloseButton</span><span class=p0>.</span><span class=p1>parameters</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>chromatic</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>disableSnapshot</span><span class=p0>:</span><span class=ws> </span><span class=p1>true</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>};</span>

<span class=p0>const</span><span class=ws> </span><span class=p1>SideMenu</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>styled</span><span class=p0>(</span><span class=s0>"</span><span class=s1>menu</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>backgroundColor</span><span class=p0>:</span><span class=ws> </span><span class=p1>theme</span><span class=p0>.</span><span class=p1>colors</span><span class=p0>.</span><span class=p1>gray40</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>listStyle</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>none</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>marginBlock</span><span class=p0>:</span><span class=ws> </span><span class=p1>0</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>paddingInlineStart</span><span class=p0>:</span><span class=ws> </span><span class=p1>0</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>250px</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>minHeight</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>100vh</span><span class=s0>"</span><span class=p0>,</span>
<span class=p0>});</span>

<span class=p0>const</span><span class=ws> </span><span class=p1>MenuLink</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>styled</span><span class=p0>(</span><span class=s0>"</span><span class=s1>a</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>theme</span><span class=p0>.</span><span class=p1>colors</span><span class=p0>.</span><span class=p1>onPrimary</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>flex</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>alignItems</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>center</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>fontSize</span><span class=p0>:</span><span class=ws> </span><span class=p1>theme</span><span class=p0>.</span><span class=p1>fontSizes</span><span class=p0>[</span><span class=s0>"</span><span class=s1>087</span><span class=s0>"</span><span class=p0>],</span>
<span class=ws> </span><span class=ws> </span><span class=p1>fontWeight</span><span class=p0>:</span><span class=ws> </span><span class=p1>theme</span><span class=p0>.</span><span class=p1>fontWeights</span><span class=p0>.</span><span class=p1>bold</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>textDecoration</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>none</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>paddingBlock</span><span class=p0>:</span><span class=ws> </span><span class=p1>theme</span><span class=p0>.</span><span class=p1>space</span><span class=p0>[</span><span class=s0>"</span><span class=s1>100</span><span class=s0>"</span><span class=p0>],</span>
<span class=ws> </span><span class=ws> </span><span class=p1>paddingInline</span><span class=p0>:</span><span class=ws> </span><span class=p1>theme</span><span class=p0>.</span><span class=p1>space</span><span class=p0>[</span><span class=s0>"</span><span class=s1>125</span><span class=s0>"</span><span class=p0>],</span>
<span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>&:hover</span><span class=s0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>backgroundColor</span><span class=p0>:</span><span class=ws> </span><span class=p1>theme</span><span class=p0>.</span><span class=p1>colors</span><span class=p0>.</span><span class=p1>gray0</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>&:focus-visible</span><span class=s0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>outline</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>none</span><span class=s0>"</span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>&</span><span class=ws> </span><span class=s1>:first-child</span><span class=s0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>flex</span><span class=p0>:</span><span class=ws> </span><span class=p1>1</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=p0>});</span>

<span class=p0>const</span><span class=ws> </span><span class=p1>SubMenu</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>styled</span><span class=p0>(</span><span class=s0>"</span><span class=s1>menu</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>listStyle</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>none</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>marginBlock</span><span class=p0>:</span><span class=ws> </span><span class=p1>0</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>paddingInlineStart</span><span class=p0>:</span><span class=ws> </span><span class=p1>0</span><span class=p0>,</span>
<span class=p0>});</span>

<span class=p0>const</span><span class=ws> </span><span class=p1>SubMenuLink</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>styled</span><span class=p0>(</span><span class=s0>"</span><span class=s1>a</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>theme</span><span class=p0>.</span><span class=p1>colors</span><span class=p0>.</span><span class=p1>primary</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>block</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>fontSize</span><span class=p0>:</span><span class=ws> </span><span class=p1>theme</span><span class=p0>.</span><span class=p1>fontSizes</span><span class=p0>[</span><span class=s0>"</span><span class=s1>087</span><span class=s0>"</span><span class=p0>],</span>
<span class=ws> </span><span class=ws> </span><span class=p1>fontWeight</span><span class=p0>:</span><span class=ws> </span><span class=p1>theme</span><span class=p0>.</span><span class=p1>fontWeights</span><span class=p0>.</span><span class=p1>bold</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p1>paddingBlock</span><span class=p0>:</span><span class=ws> </span><span class=p1>theme</span><span class=p0>.</span><span class=p1>space</span><span class=p0>[</span><span class=s0>"</span><span class=s1>100</span><span class=s0>"</span><span class=p0>],</span>
<span class=ws> </span><span class=ws> </span><span class=p1>paddingInline</span><span class=p0>:</span><span class=ws> </span><span class=p1>theme</span><span class=p0>.</span><span class=p1>space</span><span class=p0>[</span><span class=s0>"</span><span class=s1>125</span><span class=s0>"</span><span class=p0>],</span>
<span class=ws> </span><span class=ws> </span><span class=p1>textDecoration</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>none</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>&:hover</span><span class=s0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>backgroundColor</span><span class=p0>:</span><span class=ws> </span><span class=p1>theme</span><span class=p0>.</span><span class=p1>colors</span><span class=p0>.</span><span class=p1>gray500</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=p0>});</span>

<span class=p0>const</span><span class=ws> </span><span class=p1>Arrow</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>()</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>svg</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>xmlns</span><span class=p0>=</span><span class=s0>"</span><span class=s1>http://www.w3.org/2000/svg</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>width</span><span class=p0>=</span><span class=s0>"</span><span class=s1>12</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>height</span><span class=p0>=</span><span class=s0>"</span><span class=s1>7</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>fill</span><span class=p0>=</span><span class=s0>"</span><span class=s1>none</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>viewBox</span><span class=p0>=</span><span class=s0>"</span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>12</span><span class=ws> </span><span class=s1>7</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>path</span><span class=ws> </span><span class=p1>fill</span><span class=p0>={</span><span class=p1>theme</span><span class=p0>.</span><span class=p1>colors</span><span class=p0>.</span><span class=p1>gray300</span><span class=p0>.</span><span class=p1>value</span><span class=p0>}</span><span class=ws> </span><span class=p1>d</span><span class=p0>=</span><span class=s0>"</span><span class=s1>M0</span><span class=ws> </span><span class=s1>1h12L6</span><span class=ws> </span><span class=s1>7</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>1z</span><span class=s0>"</span><span class=p0>>&lt;/</span><span class=p1>path</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>path</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>fill</span><span class=p0>={</span><span class=p1>theme</span><span class=p0>.</span><span class=p1>colors</span><span class=p0>.</span><span class=p1>onPrimary</span><span class=p0>.</span><span class=p1>value</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>d</span><span class=p0>=</span><span class=s0>"</span><span class=s1>M1</span><span class=ws> </span><span class=s1>1h10L6</span><span class=ws> </span><span class=s1>6</span><span class=ws> </span><span class=s1>1</span><span class=ws> </span><span class=s1>1zM0</span><span class=ws> </span><span class=s1>0h12v1H0V0z</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>>&lt;/</span><span class=p1>path</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>svg</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=p0>);</span>
<span class=p0>};</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>eslint-disable-next-line</span><span class=ws> </span><span class=c0>@typescript-eslint/no-explicit-any</span>
<span class=p0>const</span><span class=ws> </span><span class=p1>MenuTemplate</span><span class=p0>:</span><span class=ws> </span><span class=p0>ComponentStory&lt;any></span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>()</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p0>[</span><span class=p1>menuOpen</span><span class=p0>,</span><span class=ws> </span><span class=p1>setMenuOpen</span><span class=p0>]</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>React</span><span class=p0>.</span><span class=p1>useState</span><span class=p0>(</span><span class=p1>false</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>div</span><span class=ws> </span><span class=p1>style</span><span class=p0>={{</span><span class=ws> </span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>calc(100%</span><span class=ws> </span><span class=s1>+</span><span class=ws> </span><span class=s1>4rem)</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p1>marginBlock</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>-2rem</span><span class=s0>"</span><span class=ws> </span><span class=p0>}}></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>SideMenu</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>li</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>MenuLink</span><span class=ws> </span><span class=p1>href</span><span class=p0>=</span><span class=s0>""</span><span class=p0>></span><span class=p1>Home</span><span class=ws> </span><span class=p1>Page</span><span class=p0>&lt;/</span><span class=p1>MenuLink</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>li</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>li</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>onMouseEnter</span><span class=p0>={()</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>setMenuOpen</span><span class=p0>(</span><span class=p1>true</span><span class=p0>)}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>onMouseLeave</span><span class=p0>={()</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>setMenuOpen</span><span class=p0>(</span><span class=p1>false</span><span class=p0>)}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Root</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>open</span><span class=p0>={</span><span class=p1>menuOpen</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>onOpenChange</span><span class=p0>={(</span><span class=p1>open</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>setMenuOpen</span><span class=p0>(</span><span class=p1>open</span><span class=p0>)}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Trigger</span><span class=ws> </span><span class=p1>asChild</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>MenuLink</span><span class=ws> </span><span class=p1>href</span><span class=p0>=</span><span class=s0>"</span><span class=s1>https://www.washingtonpost.com/politics/?itid=nb_front_politics</span><span class=s0>"</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>span</span><span class=p0>></span><span class=p1>Politics</span><span class=p0>&lt;/</span><span class=p1>span</span><span class=p0>>{</span><span class=s0>"</span><span class=ws> </span><span class=s0>"</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>ChevronRight</span><span class=ws> </span><span class=p1>width</span><span class=p0>={</span><span class=p1>theme</span><span class=p0>.</span><span class=p1>sizes</span><span class=p0>[</span><span class=s0>"</span><span class=s1>125</span><span class=s0>"</span><span class=p0>].</span><span class=p1>value</span><span class=p0>}</span><span class=ws> </span><span class=p0>/></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>MenuLink</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Popover.Trigger</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Content</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>side</span><span class=p0>=</span><span class=s0>"</span><span class=s1>right</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>sideOffset</span><span class=p0>={</span><span class=p1>0</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>css</span><span class=p0>={{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>&:focus-visible</span><span class=s0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>outline</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>none</span><span class=s0>"</span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>&</span><span class=ws> </span><span class=s1>span</span><span class=s0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>lineHeight</span><span class=p0>:</span><span class=ws> </span><span class=p1>0</span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>SubMenu</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>li</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>SubMenuLink</span><span class=ws> </span><span class=p1>href</span><span class=p0>=</span><span class=s0>"</span><span class=s1>https://www.washingtonpost.com/elections/election-2024/</span><span class=s0>"</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Election</span><span class=ws> </span><span class=p1>2024</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>SubMenuLink</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>li</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>li</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>SubMenuLink</span><span class=ws> </span><span class=p1>href</span><span class=p0>=</span><span class=s0>"</span><span class=s1>https://www.washingtonpost.com/politics/courts-law/?itid=nb_politics_courts-and-law</span><span class=s0>"</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Courts</span><span class=ws> </span><span class=p1>and</span><span class=ws> </span><span class=p1>Law</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>SubMenuLink</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>li</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>li</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>SubMenuLink</span><span class=ws> </span><span class=p1>href</span><span class=p0>=</span><span class=s0>"</span><span class=s1>https://www.washingtonpost.com/news/fact-checker/?itid=nb_politics_fact-checker</span><span class=s0>"</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Fact</span><span class=ws> </span><span class=p1>Checker</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>SubMenuLink</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>li</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>SubMenu</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>PopoverPrimitive.Arrow</span><span class=ws> </span><span class=p1>asChild</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Arrow</span><span class=ws> </span><span class=p0>/></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>PopoverPrimitive.Arrow</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Popover.Content</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Popover.Root</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>li</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>SideMenu</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=p0>);</span>
<span class=p0>};</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>Menu</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>MenuTemplate</span><span class=p0>.</span><span class=p1>bind</span><span class=p0>({});</span>
<span class=p1>Menu</span><span class=p0>.</span><span class=p1>parameters</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>chromatic</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>disableSnapshot</span><span class=p0>:</span><span class=ws> </span><span class=p1>true</span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>};</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>eslint-disable-next-line</span><span class=ws> </span><span class=c0>@typescript-eslint/no-explicit-any</span>
<span class=p0>const</span><span class=ws> </span><span class=p1>FullPopover</span><span class=p0>:</span><span class=ws> </span><span class=p0>ComponentStory&lt;any></span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>({</span><span class=ws> </span><span class=p1>side</span><span class=p0>,</span><span class=ws> </span><span class=p1>align</span><span class=ws> </span><span class=p0>})</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Root</span><span class=ws> </span><span class=p1>open</span><span class=p0>={</span><span class=p1>true</span><span class=p0>}></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Trigger</span><span class=ws> </span><span class=p1>asChild</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>u</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>style</span><span class=p0>={{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>border</span><span class=p0>:</span><span class=ws> </span><span class=s0>`</span><span class=s1>1px</span><span class=ws> </span><span class=s1>solid</span><span class=ws> </span><span class=p0>${</span><span class=p1>theme</span><span class=p0>.</span><span class=p1>colors</span><span class=p0>.</span><span class=p1>gray300</span><span class=p0>}</span><span class=s0>`</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>color</span><span class=p0>:</span><span class=ws> </span><span class=p1>theme</span><span class=p0>.</span><span class=p1>colors</span><span class=p0>.</span><span class=p1>gray100</span><span class=p0>.</span><span class=p1>value</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>paddingInline</span><span class=p0>:</span><span class=ws> </span><span class=p1>theme</span><span class=p0>.</span><span class=p1>space</span><span class=p0>[</span><span class=s0>"</span><span class=s1>025</span><span class=s0>"</span><span class=p0>].</span><span class=p1>value</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>tabIndex</span><span class=p0>={</span><span class=p1>0</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>Trigger</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>u</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Popover.Trigger</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Content</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>side</span><span class=p0>={</span><span class=p1>side</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>align</span><span class=p0>={</span><span class=p1>align</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>width</span><span class=p0>={</span><span class=p1>114</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>css</span><span class=p0>={{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>animation</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>unset</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>{</span><span class=p1>side</span><span class=p0>}</span><span class=ws> </span><span class=p0>{</span><span class=p1>align</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Popover.Content</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Popover.Root</span><span class=p0>></span>
<span class=p0>);</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>eslint-disable-next-line</span><span class=ws> </span><span class=c0>@typescript-eslint/no-explicit-any</span>
<span class=p0>const</span><span class=ws> </span><span class=p1>ChromaticTemplate</span><span class=p0>:</span><span class=ws> </span><span class=p0>ComponentStory&lt;any></span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>()</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>side</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s0>"</span><span class=s1>bottom</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>top</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>right</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>left</span><span class=s0>"</span><span class=p0>];</span>
<span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>align</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>[</span><span class=s0>"</span><span class=s1>start</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>center</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=s0>"</span><span class=s1>end</span><span class=s0>"</span><span class=p0>];</span>

<span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>div</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>style</span><span class=p0>={{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>grid</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>gridTemplateRows</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>auto</span><span class=ws> </span><span class=s1>auto</span><span class=ws> </span><span class=s1>auto</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>gridTemplateColumns</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>auto</span><span class=ws> </span><span class=s1>auto</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>gridTemplateAreas</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>'bottom</span><span class=ws> </span><span class=s1>bottom'</span><span class=ws> </span><span class=s1>'top</span><span class=ws> </span><span class=s1>top'</span><span class=ws> </span><span class=s1>'right</span><span class=ws> </span><span class=s1>left'</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>100%</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>{</span><span class=p1>side</span><span class=p0>.</span><span class=p1>map</span><span class=p0>((</span><span class=p1>s</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>direction</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>row</span><span class=s0>"</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>(</span><span class=p1>s</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=s0>"</span><span class=s1>right</span><span class=s0>"</span><span class=ws> </span><span class=p0>||</span><span class=ws> </span><span class=p1>s</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=s0>"</span><span class=s1>left</span><span class=s0>"</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>direction</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>column</span><span class=s0>"</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>alignItems</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>flex-start</span><span class=s0>"</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>(</span><span class=p1>s</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=s0>"</span><span class=s1>left</span><span class=s0>"</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>alignItems</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>flex-end</span><span class=s0>"</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>div</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>key</span><span class=p0>={</span><span class=p1>s</span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>style</span><span class=p0>={</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>flex</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>flexDirection</span><span class=p0>:</span><span class=ws> </span><span class=p1>direction</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>gridArea</span><span class=p0>:</span><span class=ws> </span><span class=p1>s</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>justifyContent</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>space-between</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>alignItems</span><span class=p0>:</span><span class=ws> </span><span class=p1>alignItems</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>as</span><span class=ws> </span><span class=p1>React</span><span class=p0>.</span><span class=p1>CSSProperties</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>{</span><span class=p1>align</span><span class=p0>.</span><span class=p1>map</span><span class=p0>((</span><span class=p1>a</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>let</span><span class=ws> </span><span class=p1>p</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>0</span><span class=s0>"</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>(</span><span class=p1>s</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=s0>"</span><span class=s1>bottom</span><span class=s0>"</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>p</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>54px</span><span class=ws> </span><span class=s1>0</span><span class=s0>"</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>if</span><span class=ws> </span><span class=p0>(</span><span class=p1>s</span><span class=ws> </span><span class=p0>===</span><span class=ws> </span><span class=s0>"</span><span class=s1>top</span><span class=s0>"</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>p</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>54px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>0</span><span class=s0>"</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span><span class=ws> </span><span class=p0>else</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>p</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=s0>"</span><span class=s1>20px</span><span class=ws> </span><span class=s1>0</span><span class=ws> </span><span class=s1>20px</span><span class=ws> </span><span class=s1>0</span><span class=s0>"</span><span class=p0>;</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>div</span><span class=ws> </span><span class=p1>key</span><span class=p0>={</span><span class=p1>s</span><span class=ws> </span><span class=p0>+</span><span class=ws> </span><span class=p1>a</span><span class=p0>}</span><span class=ws> </span><span class=p1>style</span><span class=p0>={{</span><span class=ws> </span><span class=p1>padding</span><span class=p0>:</span><span class=ws> </span><span class=p1>p</span><span class=ws> </span><span class=p0>}}></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>FullPopover</span><span class=ws> </span><span class=p1>side</span><span class=p0>={</span><span class=p1>s</span><span class=p0>}</span><span class=ws> </span><span class=p1>align</span><span class=p0>={</span><span class=p1>a</span><span class=p0>}</span><span class=ws> </span><span class=p0>/></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>})}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>})}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=p0>);</span>
<span class=p0>};</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>Chromatic</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>ChromaticTemplate</span><span class=p0>.</span><span class=p1>bind</span><span class=p0>({});</span>
<span class=p1>Chromatic</span><span class=p0>.</span><span class=p1>parameters</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>docs</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>disable</span><span class=p0>:</span><span class=ws> </span><span class=p1>true</span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p1>chromatic</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>delay</span><span class=p0>:</span><span class=ws> </span><span class=p1>1000</span><span class=ws> </span><span class=p0>},</span>
<span class=p0>};</span>

<span class=p0>const</span><span class=ws> </span><span class=p1>ecGlobalCss</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>globalCss</span><span class=p0>({</span>
<span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>:not(.wpds-dark)</span><span class=ws> </span><span class=s1>></span><span class=ws> </span><span class=s1>.ec-grid</span><span class=s0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>marginInlineStart</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>-2rem</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=s0>"</span><span class=s1>.wpds-dark</span><span class=ws> </span><span class=s1>></span><span class=ws> </span><span class=s1>.ec-grid</span><span class=s0>"</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>marginInlineEnd</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>-2rem</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=p0>},</span>
<span class=p0>});</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>eslint-disable-next-line</span><span class=ws> </span><span class=c0>@typescript-eslint/no-explicit-any</span>
<span class=p0>const</span><span class=ws> </span><span class=p1>EdgeAndCornerCasesTemplate</span><span class=p0>:</span><span class=ws> </span><span class=p0>ComponentStory&lt;any></span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>()</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>ecGlobalCss</span><span class=p0>();</span>
<span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>div</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>className</span><span class=p0>=</span><span class=s0>"</span><span class=s1>ec-grid</span><span class=s0>"</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>style</span><span class=p0>={{</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>grid</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>gridTemplateRows</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>auto</span><span class=ws> </span><span class=s1>1fr</span><span class=ws> </span><span class=s1>auto</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>gridTemplateColumns</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>auto</span><span class=ws> </span><span class=s1>1fr</span><span class=ws> </span><span class=s1>auto</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>width</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>calc(100%</span><span class=ws> </span><span class=s1>+</span><span class=ws> </span><span class=s1>4rem)</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>height</span><span class=p0>:</span><span class=ws> </span><span class=s0>`</span><span class=s1>100vh</span><span class=s0>`</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>marginBlockStart</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>-2rem</span><span class=s0>"</span><span class=p0>,</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>}}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>FullPopover</span><span class=ws> </span><span class=p1>side</span><span class=p0>=</span><span class=s0>"</span><span class=s1>left</span><span class=s0>"</span><span class=ws> </span><span class=p1>align</span><span class=p0>=</span><span class=s0>"</span><span class=s1>end</span><span class=s0>"</span><span class=ws> </span><span class=p0>/></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>div</span><span class=ws> </span><span class=p1>style</span><span class=p0>={{</span><span class=ws> </span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>flex</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p1>justifyContent</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>center</span><span class=s0>"</span><span class=ws> </span><span class=p0>}}></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>FullPopover</span><span class=ws> </span><span class=p1>side</span><span class=p0>=</span><span class=s0>"</span><span class=s1>top</span><span class=s0>"</span><span class=ws> </span><span class=p1>align</span><span class=p0>=</span><span class=s0>"</span><span class=s1>center</span><span class=s0>"</span><span class=ws> </span><span class=p0>/></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>FullPopover</span><span class=ws> </span><span class=p1>side</span><span class=p0>=</span><span class=s0>"</span><span class=s1>right</span><span class=s0>"</span><span class=ws> </span><span class=p1>align</span><span class=p0>=</span><span class=s0>"</span><span class=s1>end</span><span class=s0>"</span><span class=ws> </span><span class=p0>/></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>div</span><span class=ws> </span><span class=p1>style</span><span class=p0>={{</span><span class=ws> </span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>flex</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p1>alignItems</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>center</span><span class=s0>"</span><span class=ws> </span><span class=p0>}}></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>FullPopover</span><span class=ws> </span><span class=p1>side</span><span class=p0>=</span><span class=s0>"</span><span class=s1>left</span><span class=s0>"</span><span class=ws> </span><span class=p1>align</span><span class=p0>=</span><span class=s0>"</span><span class=s1>center</span><span class=s0>"</span><span class=ws> </span><span class=p0>/></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>div</span><span class=p0>>&lt;/</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>div</span><span class=ws> </span><span class=p1>style</span><span class=p0>={{</span><span class=ws> </span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>flex</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p1>alignItems</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>center</span><span class=s0>"</span><span class=ws> </span><span class=p0>}}></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>FullPopover</span><span class=ws> </span><span class=p1>side</span><span class=p0>=</span><span class=s0>"</span><span class=s1>right</span><span class=s0>"</span><span class=ws> </span><span class=p1>align</span><span class=p0>=</span><span class=s0>"</span><span class=s1>center</span><span class=s0>"</span><span class=ws> </span><span class=p0>/></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>FullPopover</span><span class=ws> </span><span class=p1>side</span><span class=p0>=</span><span class=s0>"</span><span class=s1>left</span><span class=s0>"</span><span class=ws> </span><span class=p1>align</span><span class=p0>=</span><span class=s0>"</span><span class=s1>start</span><span class=s0>"</span><span class=ws> </span><span class=p0>/></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>div</span><span class=ws> </span><span class=p1>style</span><span class=p0>={{</span><span class=ws> </span><span class=p1>display</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>flex</span><span class=s0>"</span><span class=p0>,</span><span class=ws> </span><span class=p1>justifyContent</span><span class=p0>:</span><span class=ws> </span><span class=s0>"</span><span class=s1>center</span><span class=s0>"</span><span class=ws> </span><span class=p0>}}></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>FullPopover</span><span class=ws> </span><span class=p1>side</span><span class=p0>=</span><span class=s0>"</span><span class=s1>bottom</span><span class=s0>"</span><span class=ws> </span><span class=p1>align</span><span class=p0>=</span><span class=s0>"</span><span class=s1>center</span><span class=s0>"</span><span class=ws> </span><span class=p0>/></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>FullPopover</span><span class=ws> </span><span class=p1>side</span><span class=p0>=</span><span class=s0>"</span><span class=s1>right</span><span class=s0>"</span><span class=ws> </span><span class=p1>align</span><span class=p0>=</span><span class=s0>"</span><span class=s1>start</span><span class=s0>"</span><span class=ws> </span><span class=p0>/></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>div</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=p0>);</span>
<span class=p0>};</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>EdgeAndCornerCases</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>EdgeAndCornerCasesTemplate</span><span class=p0>.</span><span class=p1>bind</span><span class=p0>({});</span>
<span class=p1>EdgeAndCornerCases</span><span class=p0>.</span><span class=p1>parameters</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>docs</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>disable</span><span class=p0>:</span><span class=ws> </span><span class=p1>true</span><span class=ws> </span><span class=p0>},</span>
<span class=ws> </span><span class=ws> </span><span class=p1>chromatic</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>delay</span><span class=p0>:</span><span class=ws> </span><span class=p1>3000</span><span class=ws> </span><span class=p0>},</span>
<span class=p0>};</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>eslint-disable-next-line</span><span class=ws> </span><span class=c0>@typescript-eslint/no-explicit-any</span>
<span class=p0>const</span><span class=ws> </span><span class=p1>InteractionsTemplate</span><span class=p0>:</span><span class=ws> </span><span class=p0>ComponentStory&lt;any></span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>()</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>(</span>
<span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Root</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Trigger</span><span class=p0>></span><span class=p1>Trigger</span><span class=p0>&lt;/</span><span class=p1>Popover.Trigger</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>&lt;</span><span class=p1>Popover.Content</span><span class=p0>></span><span class=p1>Popover</span><span class=ws> </span><span class=p1>Content</span><span class=p0>&lt;/</span><span class=p1>Popover.Content</span><span class=p0>></span>
<span class=ws> </span><span class=ws> </span><span class=p0>&lt;/</span><span class=p1>Popover.Root</span><span class=p0>></span>
<span class=p0>);</span>

<span class=p0>export</span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>Interactions</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>InteractionsTemplate</span><span class=p0>.</span><span class=p1>bind</span><span class=p0>({});</span>
<span class=p1>Interactions</span><span class=p0>.</span><span class=p1>parameters</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p1>chromatic</span><span class=p0>:</span><span class=ws> </span><span class=p0>{</span><span class=ws> </span><span class=p1>disableSnapshot</span><span class=p0>:</span><span class=ws> </span><span class=p1>true</span><span class=ws> </span><span class=p0>},</span>
<span class=p0>};</span>

<span class=c0>//</span><span class=ws> </span><span class=c0>Function</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>emulate</span><span class=ws> </span><span class=c0>pausing</span><span class=ws> </span><span class=c0>between</span><span class=ws> </span><span class=c0>interactions</span>
<span class=p0>function</span><span class=ws> </span><span class=p1>sleep</span><span class=p0>(</span><span class=p1>ms</span><span class=p0>)</span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p0>return</span><span class=ws> </span><span class=p0>new</span><span class=ws> </span><span class=p1>Promise</span><span class=p0>((</span><span class=p1>resolve</span><span class=p0>)</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p1>setTimeout</span><span class=p0>(</span><span class=p1>resolve</span><span class=p0>,</span><span class=ws> </span><span class=p1>ms</span><span class=p0>));</span>
<span class=p0>}</span>

<span class=p1>Interactions</span><span class=p0>.</span><span class=p1>play</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p0>async</span><span class=ws> </span><span class=p0>({</span><span class=ws> </span><span class=p1>canvasElement</span><span class=ws> </span><span class=p0>})</span><span class=ws> </span><span class=p0>=></span><span class=ws> </span><span class=p0>{</span>
<span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>canvas</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>within</span><span class=p0>(</span><span class=p1>canvasElement</span><span class=p0>);</span>

<span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>trigger</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>canvas</span><span class=p0>.</span><span class=p1>getByRole</span><span class=p0>(</span><span class=s0>"</span><span class=s1>button</span><span class=s0>"</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=p0>await</span><span class=ws> </span><span class=p1>userEvent</span><span class=p0>.</span><span class=p1>click</span><span class=p0>(</span><span class=p1>trigger</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=p0>await</span><span class=ws> </span><span class=p1>sleep</span><span class=p0>(</span><span class=p1>500</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=p0>const</span><span class=ws> </span><span class=p1>content</span><span class=ws> </span><span class=p0>=</span><span class=ws> </span><span class=p1>canvas</span><span class=p0>.</span><span class=p1>getByRole</span><span class=p0>(</span><span class=s0>"</span><span class=s1>dialog</span><span class=s0>"</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=p0>await</span><span class=ws> </span><span class=p1>expect</span><span class=p0>(</span><span class=p1>content</span><span class=p0>).</span><span class=p1>toBeVisible</span><span class=p0>();</span>
<span class=ws> </span><span class=ws> </span><span class=p0>await</span><span class=ws> </span><span class=p1>userEvent</span><span class=p0>.</span><span class=p1>click</span><span class=p0>(</span><span class=p1>document</span><span class=p0>.</span><span class=p1>body</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=p0>await</span><span class=ws> </span><span class=p1>sleep</span><span class=p0>(</span><span class=p1>500</span><span class=p0>);</span>
<span class=ws> </span><span class=ws> </span><span class=p0>await</span><span class=ws> </span><span class=p1>expect</span><span class=p0>(</span><span class=p1>content</span><span class=p0>).</span><span class=p1>not</span><span class=p0>.</span><span class=p1>toBeInTheDocument</span><span class=p0>();</span>
<span class=p0>};</span>
</code></pre><pre aria-labelledby=yaml class=sh hidden><code><span class=c0>#</span><span class=ws> </span><span class=c0>Copyright</span><span class=ws> </span><span class=c0>2023</span><span class=ws> </span><span class=c0>Google</span><span class=ws> </span><span class=c0>Inc.</span><span class=ws> </span><span class=c0>All</span><span class=ws> </span><span class=c0>Rights</span><span class=ws> </span><span class=c0>Reserved.</span>
<span class=c0>#</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>Distributed</span><span class=ws> </span><span class=c0>under</span><span class=ws> </span><span class=c0>MIT</span><span class=ws> </span><span class=c0>license.</span>
<span class=c0>#</span><span class=ws> </span><span class=c0>See</span><span class=ws> </span><span class=c0>file</span><span class=ws> </span><span class=c0>LICENSE</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>detail</span><span class=ws> </span><span class=c0>or</span><span class=ws> </span><span class=c0>copy</span><span class=ws> </span><span class=c0>at</span><span class=ws> </span><span class=c0>https://opensource.org/licenses/MIT</span>

<span class=c0>#</span><span class=ws> </span><span class=c0>Workflow</span><span class=ws> </span><span class=c0>for</span><span class=ws> </span><span class=c0>building</span><span class=ws> </span><span class=c0>the</span><span class=ws> </span><span class=c0>release</span><span class=ws> </span><span class=c0>binaries.</span>

<span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=s1>Release</span><span class=ws> </span><span class=s1>build</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>deploy</span>
<span class=s1>on</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=p1>push</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>branches</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>-</span><span class=ws> </span><span class=s1>master</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>-</span><span class=ws> </span><span class=s1>v*.*.*</span>
<span class=ws> </span><span class=ws> </span><span class=p1>release</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>types</span><span class=p0>:</span><span class=ws> </span><span class=p0>[</span><span class=ws> </span><span class=s1>published</span><span class=ws> </span><span class=p0>]</span>

<span class=p1>concurrency</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=p1>group</span><span class=p0>:</span><span class=ws> </span><span class=s1>${{</span><span class=ws> </span><span class=s1>github.workflow</span><span class=ws> </span><span class=s1>}}-${{</span><span class=ws> </span><span class=s1>github.ref</span><span class=ws> </span><span class=s1>}}-${{</span><span class=ws> </span><span class=s1>github.event_name</span><span class=ws> </span><span class=s1>}}</span>
<span class=ws> </span><span class=ws> </span><span class=p1>cancel-in-progress</span><span class=p0>:</span><span class=ws> </span><span class=s1>${{</span><span class=ws> </span><span class=s1>github.event_name</span><span class=ws> </span><span class=s1>==</span><span class=ws> </span><span class=s1>'pull_request'</span><span class=ws> </span><span class=s1>}}</span>

<span class=p1>jobs</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=p1>windows_build</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=s1>Windows</span><span class=ws> </span><span class=s1>Build</span><span class=ws> </span><span class=s1>(vcpkg</span><span class=ws> </span><span class=s1>/</span><span class=ws> </span><span class=s1>${{</span><span class=ws> </span><span class=s1>matrix.triplet</span><span class=ws> </span><span class=s1>}})</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>runs-on</span><span class=p0>:</span><span class=ws> </span><span class=p0>[</span><span class=s1>windows-2022</span><span class=p0>]</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>strategy</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>fail-fast</span><span class=p0>:</span><span class=ws> </span><span class=s1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>matrix</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>include</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>-</span><span class=ws> </span><span class=p1>triplet</span><span class=p0>:</span><span class=ws> </span><span class=s1>x86-windows-dynamic</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>arch</span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>-A</span><span class=ws> </span><span class=s1>Win32</span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>build_shared_libs</span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>ON</span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>-</span><span class=ws> </span><span class=p1>triplet</span><span class=p0>:</span><span class=ws> </span><span class=s1>x64-windows-dynamic</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>arch</span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>-A</span><span class=ws> </span><span class=s1>x64</span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>build_shared_libs</span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>ON</span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>-</span><span class=ws> </span><span class=p1>triplet</span><span class=p0>:</span><span class=ws> </span><span class=s1>x86-windows-static</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>arch</span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>-A</span><span class=ws> </span><span class=s1>Win32</span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>build_shared_libs</span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>OFF</span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>-</span><span class=ws> </span><span class=p1>triplet</span><span class=p0>:</span><span class=ws> </span><span class=s1>x64-windows-static</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>arch</span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>-A</span><span class=ws> </span><span class=s1>x64</span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>build_shared_libs</span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>OFF</span><span class=s0>'</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>env</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>VCPKG_VERSION</span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>2022.11.14</span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>VCPKG_ROOT</span><span class=p0>:</span><span class=ws> </span><span class=s1>vcpkg</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>VCPKG_DISABLE_METRICS</span><span class=p0>:</span><span class=ws> </span><span class=s1>1</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>steps</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>-</span><span class=ws> </span><span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=s1>Checkout</span><span class=ws> </span><span class=s1>the</span><span class=ws> </span><span class=s1>source</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>uses</span><span class=p0>:</span><span class=ws> </span><span class=s1>actions/checkout@v3</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>with</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>submodules</span><span class=p0>:</span><span class=ws> </span><span class=s1>false</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>fetch-depth</span><span class=p0>:</span><span class=ws> </span><span class=s1>1</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>-</span><span class=ws> </span><span class=p1>uses</span><span class=p0>:</span><span class=ws> </span><span class=s1>actions/cache@v3</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>id</span><span class=p0>:</span><span class=ws> </span><span class=s1>cache-vcpkg</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>with</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>path</span><span class=p0>:</span><span class=ws> </span><span class=s1>vcpkg</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>key</span><span class=p0>:</span><span class=ws> </span><span class=s1>release-${{</span><span class=ws> </span><span class=s1>runner.os</span><span class=ws> </span><span class=s1>}}-vcpkg-${{</span><span class=ws> </span><span class=s1>env.VCPKG_VERSION</span><span class=ws> </span><span class=s1>}}-${{</span><span class=ws> </span><span class=s1>matrix.triplet</span><span class=ws> </span><span class=s1>}}</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>-</span><span class=ws> </span><span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=s1>Download</span><span class=ws> </span><span class=s1>vcpkg</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>if</span><span class=p0>:</span><span class=ws> </span><span class=s1>steps.cache-vcpkg.outputs.cache-hit</span><span class=ws> </span><span class=s1>!=</span><span class=ws> </span><span class=s1>'true'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=c0>#</span><span class=ws> </span><span class=c0>wget</span><span class=ws> </span><span class=c0>doesn't</span><span class=ws> </span><span class=c0>seem</span><span class=ws> </span><span class=c0>to</span><span class=ws> </span><span class=c0>work</span><span class=ws> </span><span class=c0>under</span><span class=ws> </span><span class=c0>bash.</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>shell</span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>powershell</span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>run</span><span class=p0>:</span><span class=ws> </span><span class=p0>|</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>C:\msys64\usr\bin\wget.exe</span><span class=ws> </span><span class=s1>-nv</span><span class=ws> </span><span class=s1>`</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>https://github.com/microsoft/vcpkg/archive/refs/tags/${{</span><span class=ws> </span><span class=s1>env.VCPKG_VERSION</span><span class=ws> </span><span class=s1>}}.zip</span><span class=ws> </span><span class=s1>`</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>-O</span><span class=ws> </span><span class=s1>vcpkg.zip</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>-</span><span class=ws> </span><span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=s1>Bootstrap</span><span class=ws> </span><span class=s1>vcpkg</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>if</span><span class=p0>:</span><span class=ws> </span><span class=s1>steps.cache-vcpkg.outputs.cache-hit</span><span class=ws> </span><span class=s1>!=</span><span class=ws> </span><span class=s1>'true'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>shell</span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>bash</span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>run</span><span class=p0>:</span><span class=ws> </span><span class=p0>|</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>set</span><span class=ws> </span><span class=s1>-x</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>unzip</span><span class=ws> </span><span class=s1>-q</span><span class=ws> </span><span class=s1>vcpkg.zip</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>rm</span><span class=ws> </span><span class=s1>-rf</span><span class=ws> </span><span class=s1>${VCPKG_ROOT}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>mv</span><span class=ws> </span><span class=s1>vcpkg-${VCPKG_VERSION}</span><span class=ws> </span><span class=s1>${VCPKG_ROOT}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>${VCPKG_ROOT}/bootstrap-vcpkg.sh</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>-</span><span class=ws> </span><span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=s1>Configure</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>shell</span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>bash</span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>run</span><span class=p0>:</span><span class=ws> </span><span class=p0>|</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>set</span><span class=ws> </span><span class=s1>-x</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>mkdir</span><span class=ws> </span><span class=s1>out</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>cmake</span><span class=ws> </span><span class=s1>-Bout</span><span class=ws> </span><span class=s1>-H.</span><span class=ws> </span><span class=s1>${{</span><span class=ws> </span><span class=s1>matrix.arch</span><span class=ws> </span><span class=s1>}}</span><span class=ws> </span><span class=s1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>-DBUILD_TESTING=OFF</span><span class=ws> </span><span class=s1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>-DBUILD_SHARED_LIBS=${{</span><span class=ws> </span><span class=s1>matrix.build_shared_libs</span><span class=ws> </span><span class=s1>}}</span><span class=ws> </span><span class=s1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>-DCMAKE_BUILD_TYPE=Release</span><span class=ws> </span><span class=s1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>-DCMAKE_INSTALL_PREFIX=`pwd`/prefix</span><span class=ws> </span><span class=s1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>-DCMAKE_TOOLCHAIN_FILE=${VCPKG_ROOT}/scripts/buildsystems/vcpkg.cmake</span><span class=ws> </span><span class=s1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>-DVCPKG_TARGET_TRIPLET=${{</span><span class=ws> </span><span class=s1>matrix.triplet</span><span class=ws> </span><span class=s1>}}</span><span class=ws> </span><span class=s1>\</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>#</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>-</span><span class=ws> </span><span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=s1>Build</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>shell</span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>bash</span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>run</span><span class=p0>:</span><span class=ws> </span><span class=p0>|</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>set</span><span class=ws> </span><span class=s1>-x</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>cmake</span><span class=ws> </span><span class=s1>--build</span><span class=ws> </span><span class=s1>out</span><span class=ws> </span><span class=s1>--config</span><span class=ws> </span><span class=s1>Release</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>-</span><span class=ws> </span><span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=s1>Install</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>shell</span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>bash</span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>run</span><span class=p0>:</span><span class=ws> </span><span class=p0>|</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>set</span><span class=ws> </span><span class=s1>-x</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>cmake</span><span class=ws> </span><span class=s1>--build</span><span class=ws> </span><span class=s1>out</span><span class=ws> </span><span class=s1>--config</span><span class=ws> </span><span class=s1>Release</span><span class=ws> </span><span class=s1>--target</span><span class=ws> </span><span class=s1>install</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>cp</span><span class=ws> </span><span class=s1>LICENSE</span><span class=ws> </span><span class=s1>prefix/bin/LICENSE.brotli</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>-</span><span class=ws> </span><span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=s1>Upload</span><span class=ws> </span><span class=s1>artifacts</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>uses</span><span class=p0>:</span><span class=ws> </span><span class=s1>actions/upload-artifact@v3</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>with</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=s1>brotli-${{matrix.triplet}}</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>path</span><span class=p0>:</span><span class=ws> </span><span class=p0>|</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>prefix/bin/*</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>-</span><span class=ws> </span><span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=s1>Package</span><span class=ws> </span><span class=s1>release</span><span class=ws> </span><span class=s1>zip</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>if</span><span class=p0>:</span><span class=ws> </span><span class=s1>github.event_name</span><span class=ws> </span><span class=s1>==</span><span class=ws> </span><span class=s1>'release'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>shell</span><span class=p0>:</span><span class=ws> </span><span class=s0>'</span><span class=s1>powershell</span><span class=s0>'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>run</span><span class=p0>:</span><span class=ws> </span><span class=p0>|</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>Compress-Archive</span><span class=ws> </span><span class=s1>-Path</span><span class=ws> </span><span class=s1>prefix\bin\*</span><span class=ws> </span><span class=s1>`</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=s1>-DestinationPath</span><span class=ws> </span><span class=s1>brotli-${{matrix.triplet}}.zip</span>

<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p0>-</span><span class=ws> </span><span class=p1>name</span><span class=p0>:</span><span class=ws> </span><span class=s1>Upload</span><span class=ws> </span><span class=s1>binaries</span><span class=ws> </span><span class=s1>to</span><span class=ws> </span><span class=s1>release</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>if</span><span class=p0>:</span><span class=ws> </span><span class=s1>github.event_name</span><span class=ws> </span><span class=s1>==</span><span class=ws> </span><span class=s1>'release'</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>uses</span><span class=p0>:</span><span class=ws> </span><span class=s1>AButler/upload-release-assets@v2.0</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>with</span><span class=p0>:</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>files</span><span class=p0>:</span><span class=ws> </span><span class=s1>brotli-${{matrix.triplet}}.zip</span>
<span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=ws> </span><span class=p1>repo-token</span><span class=p0>:</span><span class=ws> </span><span class=s1>${{</span><span class=ws> </span><span class=s1>secrets.GITHUB_TOKEN</span><span class=ws> </span><span class=s1>}}</span>
</code></pre></div></div></editor-container></div><div class=home__article><div class=home__distribution><a href="https://marketplace.visualstudio.com/items?itemName=vanyauhalin.moondusttheme">VSCode Marketplace</a><a href=https://open-vsx.org/extension/vanyauhalin/moondusttheme/ >Open VSX Registry</a><a href=https://github.com/vanyauhalin/moondusttheme/releases/ >GitHub Releases</a></div><div class=home__content><p>Early on in my programming journey, syntax highlighting aided my understanding the coding. However, as I gained more experience, I found myself relying less on it. Eventually, I realized that the abundance of colors was very straining on my eyes and made it difficult to focus and concentrate.</p><p>Moondust is crafted to reduce eye strain, allowing to focus on code. It challenges the conventional approach of highlighting keywords and typical structures. Instead of drawing excessive attention to them, this theme brings business logic to the forefront.</p><p>For a more in-depth discussion on the issues associated with the conventional approach to syntax highlighting, recommend reading the articles <a href=https://www.linusakesson.net/programming/syntaxhighlighting/ >A case against syntax highlighting</a> and <a href=https://buttondown.email/hillelwayne/archive/syntax-highlighting-is-a-waste-of-an-information/ >Syntax highlighting is a waste of an information channel</a>.</p><p>Moondust is tailored for each syntax individually. At present, it supports <a href=#css>CSS</a>, <a href=#dockerfile>Dockerfile</a>, <a href=#fish>fish</a>, <a href=#go>Go</a>, <a href=#go.mod>Go Module</a>, <a href=#go.sum>Go Sum</a>, <a href=#html>HTML</a>, <a href=#ini>INI</a>, <a href=#js>JavaScript</a>, <a href=#json>JSON</a>, <a href=#jsonc>JSON with Comments</a>, <a href=#jsonl>JSON Lines</a>, <a href=#jsx>JSX</a>, <a href=#makefile>Makefile</a>, <a href=#py>Python</a>, <a href=#rb>Ruby</a>, <a href=#rs>Rust</a>, <a href=#sh>Shell Script</a>, <a href=#sql>SQL</a>, <a href=#swift>Swift</a>, <a href=#toml>TOML</a>, <a href=#ts>TypeScript</a>, <a href=#tsx>TSX</a>, and <a href=#yaml>YAML</a>.</p><p>In the <a href=https://github.com/primer/github-vscode-theme/discussions/341/ >initial phase</a>, Moondust was primarily a modification of the <a href=https://github.com/primer/github-vscode-theme/ >GitHub Theme</a>. I owe a great deal of gratitude to the Primer team for their work.</p><p>A special shout-out goes to the entire community that focuses on creating minimalistic, two-color, monochrome themes, particularly <a href=https://github.com/anotherglitchinthematrix/monochrome/ >Monochrome</a>. It was a delight for me to delve into your work, and it is heartening to realize that our aesthetic preferences align closely.</p></div></div></div><footer class=footer><div class=footer__leading><a href=/ >Moondust</a></div><div class=footer__middle><p>17 stars</p><p>3022 installs</p></div><div class=footer__trailing><p><a href=https://github.com/vanyauhalin/moondusttheme/ >Give a star</a>, <a href=https://github.com/vanyauhalin/moondusttheme/issues/new/ >leave a comment</a></p><p>Copyright © 2024 <a href=https://vanyauhalin.me/ >Ivan Uhalin</a></p></div></footer></body></html>